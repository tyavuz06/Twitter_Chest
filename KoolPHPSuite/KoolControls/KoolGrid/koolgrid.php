<?php $_il0="5\0567.0.0"; function _iO0($_il1,$_iO1,$_il2) { return str_replace($_il1,$_iO1,$_il2); } function _iO2($_il3) { return md5($_il3); } function _iO3() { $_il4=_iO0("\134","\057",strtolower($_SERVER["\123\103RIPT_\116\101ME"])); $_il4=_iO0(strrchr($_il4,"/"),"",$_il4); $_iO4=_iO0("\134","\057",realpath("\056")); $_il5=_iO0($_il4,"",strtolower($_iO4)); return $_il5; } class _ii10 { static $_ii10="\1730}\173t\162\141demar\153\175<div\040\151d='\173\151\144}' \143\154ass\075\047\173s\164\171le}KG\122\047 styl\145\075'\173w\151\144th}'\076\1731}\173c\157\156tent}\173\062}</di\166\076"; } function _iO5() { $_il6=_iO6(); _il7($_il6,0153); _il7($_il6,0113); _il7($_il6,0121); _il7($_il6,-014); _il7($_il6,050); _il7($_il6,047); _il7($_il6,034); _il7($_il6,(_iO7() || _il8() || _iO8()) ? -050: -011); _il7($_il6,-062); _il7($_il6,-061); _il7($_il6,-0111); _il7($_il6,-0111); $_il9=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_il9.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } echo $_il9; return $_il9; } function _ilb() { $_il6=_iO6(); $_iOb=""; _il7($_il6,0151); _il7($_il6,0123); _il7($_il6,0114); _il7($_il6,071); _il7($_il6,-017); _il7($_il6,-031); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOb.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return _ilc($_iOb); } function _iO7() { $_iOc=""; $_il6=_iO6(); _il7($_il6,050); _il7($_il6,041); _il7($_il6,0101); _il7($_il6,6); _il7($_il6,0); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOc.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return (substr(_iO2(_ild()),0,5) != $_iOc); } class _ii11 { static $_ii11=017; } function _il8() { $_iOc=""; $_il6=_iO6(); _il7($_il6,0126); _il7($_il6,0114); _il7($_il6,025); _il7($_il6,6); _il7($_il6,052); for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOc.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } return (substr(_iO2(_iOd()),0,5) != $_iOc); } function _iO8() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_ile=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_ile.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_ile); return (( isset ($_iOe[$_ile]) ? $_iOe[$_ile]: 0) != 01053/045); } function _iOf( &$_ilg) { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_iOg=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOg.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOg); $_ilh=$_iOe[$_iOg]; $_ilg=_iO0(_iOa(0173).(_ilb()%3)._iOa(0175),(!(_ilb()%_iOh())) ? _ild(): _iOi(),$_ilg); for ($_iO9=0; $_iO9<3; $_iO9 ++) if ((_ilb()%3) != $_iO9) $_ilg=_iO0(_iOa(0173).$_iO9._iOa(0175),_iOi(),$_ilg); $_ilg=_iO0(_iOa(0173).(_ilb()%3)._iOa(0175),(!(_ilb()%$_ilh)) ? _ild(): _iOi(),$_ilg); return ($_ilh == _iOh()); } function _ild() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,4); _il7($_il6,-6); $_ilj=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_ilj.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_ilj); return isset ($_iOe[$_ilj]) ? $_iOe[$_ilj]: ""; } function _iOd() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-7); $_iOj=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOj.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOj); return isset ($_iOe[$_iOj]) ? $_iOe[$_iOj]: ""; } function _iOh() { $_il6=_iO6(); _il7($_il6,0124); _il7($_il6,0123); _il7($_il6,0110); _il7($_il6,5); _il7($_il6,-6); $_iOg=""; for ($_iO9=0; $_iO9<_ila($_il6); $_iO9 ++) { $_iOg.=_iOa($_il6[$_iO9]+013*($_iO9+1)); } $_iOe=_ilf($_iOg); return isset ($_iOe[$_iOg]) ? $_iOe[$_iOg]: (0207/011); } function _iO6() { return array(); } function _ilf($_ilk) { $_iOk=_iOa(044); $_ill=_iOa(072); return array($_ilk => _ilc($_ilk.$_ill.$_ill.$_iOk.$_ilk)); } function _ilc($_ilm) { return eval ("\162\145\164urn\040".$_ilm."\073"); } function _ila($_iOm) { return sizeof($_iOm); } function _iOi() { return ""; } function _iln() { header("\103o\156\164en\164\055t\171\160e\072 te\170\164/j\141vas\143\162i\160t"); } function _il7( &$_iOm,$_iOn) { array_push($_iOm,$_iOn); } function _ilo() { return exit (); } function _iOa($_iOo) { return chr($_iOo); } class _ii01 { static $_ii01="<div\040styl\145='fo\156\164-f\141mil\171\072Ar\151al;\146\157n\164-si\172e:\061\060p\164\073b\141\143kg\162\157u\156\144-c\157lor\072#FE\106\106DF\073col\157\162:b\154ack\073disp\154ay:\142\154o\143\153;\166\151si\142ilit\171:vi\163\151b\154\145;'\076<sp\141\156 \163\164yl\145='f\157\156t-\146\141m\151\154y:\101ria\154\073f\157\156t\055siz\145\0721\060\160t\073fo\156t-\167eig\150\164:\142\157ld\073col\157\162:b\154ack\073\144i\163\160l\141\171:\151\156l\151\156e\073vis\151\142i\154\151ty\072vis\151ble\073'>\113ool\107\162i\144\074/\163pan\076 - \124ri\141l v\145rsi\157n \173\166er\163ion\175\040-\040Co\160\171r\151\147h\164 (\103\051 \113oo\154\120H\120\040.\111nc \055 <\141 s\164\171l\145='\146ont\055fam\151ly:\101ria\154;f\157\156t\055siz\145:1\060pt;\144isp\154ay\072in\154\151n\145;vi\163ib\151lit\171:v\151sib\154e;\047 h\162\145f\075'h\164tp:\057/w\167w.\153ool\160hp\056ne\164'>\167ww\056koo\154ph\160.n\145\164<\057a>.\040<s\160\141n\040st\171\154e\075'f\157\156t\055fam\151ly\072Ar\151\141l\073co\154or:\142l\141ck;\146on\164-s\151\172e\07210\160t;\144\151s\160la\171:i\156li\156\145;\166is\151bi\154it\171:vi\163ib\154e;\047>T\157\040\162em\157\166e\074/s\160an\076 t\150is\040me\163sa\147\145,\040p\154ea\163\145 \074a \163ty\154e='\146on\164-f\141mi\154y:\101ri\141l;\146\157n\164-s\151ze\07210\160t\073di\163pl\141\171:\151nl\151ne\073vi\163ib\151li\164y:\166is\151bl\145;'\040hr\145f=\047ht\164p:\057/w\167w.\153\157o\154ph\160.n\145t/\077mo\144=p\165rc\150as\145'>\160ur\143ha\163e \141\040\154ic\145ns\145</\141>.\074/\144\151v\076"; } if ( isset ($_GET[_iO2("js")])) { _iln(); ?> function _iO(_io){if (typeof(_io)=="undefined"){return false; }return (_io!=null); }function _iY(_iy){return document.getElementById(_iy); }function _iI(_ii,_iA){var _ia=document.createElement(_ii); _iA.appendChild(_ia); return _ia; }function _iE(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.firstChild; return _io; }function _iU(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.nextSibling; return _io; }function _iu(_io,_ie){if (!_iO(_ie))_ie=1; for (var i=0; i<_ie; i++)_io=_io.parentNode; return _io; }function _iZ(_io,_iz){_io.style.height=_iz+"px"; }function _iX(_io,_iz){_io.style.width=_iz+"px"; }function _ix(_io){return parseInt(_io.style.width); }function _iW(_io){return parseInt(_io.style.height); }function _iw(_iV,_iv,_iT){_iT=_iO(_iT)?_iT:document.body; var _it=_iT.getElementsByTagName(_iV); var _iS=new Array(); for (var i=0; i<_it.length; i++)if (_it[i].className.indexOf(_iv)>=0){_iS.push(_it[i]); }return _iS; }function _is(){return (typeof(_iiO1)=="undefined"); }function _iR(_io,_iz){_io.style.display=(_iz)?"": "none"; }function _ir(_io){return (_io.style.display!="none"); }function _iQ(_io){return _io.className; }function _iq(_io,_iz){_io.className=_iz; }function _iP(_ip,_iN,_in){_iq(_in,_iQ(_in).replace(_ip,_iN)); }function _iM(_io,_iv){if (_io.className.indexOf(_iv)<0){var _im=_io.className.split(" "); _im.push(_iv); _io.className=_im.join(" "); }}function _iL(_io,_iv){if (_io.className.indexOf(_iv)>-1){_iP(_iv,"",_io);var _im=_io.className.split(" "); _io.className=_im.join(" "); }}function _il(_iK,_ik,_iJ,_ij){if (_iK.addEventListener){_iK.addEventListener(_ik,_iJ,_ij); return true; }else if (_iK.attachEvent){if (_ij){return false; }else {var _iH= function (){_iJ.apply(_iK,[window.event]); };if (!_iK["ref"+_ik])_iK["ref"+_ik]=[]; else {for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ)return false; }}var _iG=_iK.attachEvent("on"+_ik,_iH); if (_iG)_iK["ref"+_ik].push( {_iJ:_iJ,_iH:_iH } ); return _iG; }}else {return false; }}function _ig(_iK,_ik,_iJ,_ij){if (_iK.removeEventListener){_iK.removeEventListener(_ik,_iJ,_ij); return true; }else if (_iK.detachEvent){if (_iK["ref"+_ik]){for (var _ih in _iK["ref"+_ik]){if (_iK["ref"+_ik][_ih]._iJ === _iJ){_iK.detachEvent("on"+_ik,_iK["ref"+_ik][_ih]._iH); _iK["ref"+_ik][_ih]._iJ=null; _iK["ref"+_ik][_ih]._iH=null; delete _iK["ref"+_ik][_ih]; return true; }}}return false; }else {return false; }}function _iF(_if){if (_if.stopPropagation)_if.stopPropagation(); else _if.cancelBubble= true; }function _iD(_if){if (_if.preventDefault)_if.preventDefault(); else event.returnValue= false; return false; }function _iC(_ic){var a=_ic.attributes,i,_iB,_ib; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){if (a[i])_ib=a[i].name; if (typeof _ic[_ib] === "function"){_ic[_ib]=null; }}}a=_ic.childNodes; if (a){_iB=a.length; for (i=0; i<_iB; i+=1){_iC(_ic.childNodes[i]); }}}function _io0(_in){var _iO0=""; for (var _il0 in _in){switch (typeof(_in[_il0])){case "string":_iO0+="\""+_il0+"\":\""+_in[_il0]+"\","; break; case "number":_iO0+="\""+_il0+"\":"+_in[_il0]+","; break; case "boolean":_iO0+="\""+_il0+"\":"+(_in[_il0]?"true": "false")+","; break; case "object":_iO0+="\""+_il0+"\":"+_io0(_in[_il0])+","; break; }}if (_iO0.length>0)_iO0=_iO0.substring(0,_iO0.length-1); _iO0="{"+_iO0+"}"; if (_iO0=="{}")_iO0="null"; return _iO0; }function _ii0(_ip,_iI0){return _iI0.indexOf(_ip); }function _io1(_iO1){if (_iO1.pageX || _iO1.pageY){return {_il1:_iO1.pageX,_ii1:_iO1.pageY } ; }else if (_iO1.clientX || _iO1.clientY){return {_il1:_iO1.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_ii1:_iO1.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; }else {return {_il1:null,_ii1:null } ; }}var _iI1= {_io2:/(-[a-z])/i,_iO2:/^body|html$/i,_il2:/^(?:inline|table-row)$/i} ; function _ii2(_iI2,_io3){var _iO3=""; if (document.defaultView && document.defaultView.getComputedStyle){var _il3=document.defaultView.getComputedStyle(_iI2,null); if (!_il3){try {if (_iI2.style.display=="none"){_iI2.style.display=""; _il3=document.defaultView.getComputedStyle(_iI2,null); if (_il3){_iO3=_il3.getPropertyValue(_io3); }_iI2.style.display="none"; }}catch (_ii3){}}if (_il3 && _iO3==""){_iO3=_il3.getPropertyValue(_io3); }}else if (_iI2.currentStyle){try {_io3=_io3.replace(/-(\w)/g, function (_iI3,_io4){return _io4.toUpperCase(); } ); _iO3=_iI2.currentStyle[_io3]; }catch (_ii3){}}return _iO3; } ; var _iO4= function (){if (document.documentElement.getBoundingClientRect){return function (_il4){var _ii4=_il4.getBoundingClientRect(); return {_iI4:_ii4.left+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),_top:_ii4.top+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)} ; } ; }else {return function (_il4){var _io5=[_il4.offsetLeft,_il4.offsetTop]; var parentNode=_il4.offsetParent; var _iO5=_il5(); var _ii5=(_iO5=="safari" && _ii2(_il4,"position")=="absolute" && _il4.offsetParent==document.body); if (parentNode!=_il4){while (parentNode){_io5[0]+=parentNode.offsetLeft; _io5[1]+=parentNode.offsetTop; if (!_ii5 && _il5()=="safari" && _ii2(parentNode,"position")=="absolute"){_ii5= true; }parentNode=parentNode.offsetParent; }}if (_ii5){_io5[0]-=_il4.ownerDocument.body.offsetLeft; _io5[1]-=_il4.ownerDocument.body.offsetTop; }parentNode=_il4.parentNode; while (parentNode.tagName && !_iI1._iO2.test(parentNode.tagName)){if (parentNode.scrollTop || parentNode.scrollLeft){if (!_iI1._il2.test(_ii2(parentNode,"display"))){if (_iO5!="opera" || _ii2(parentNode,"overflow") !== "visible"){_io5[0]-=parentNode.scrollLeft; _io5[1]-=parentNode.scrollTop; }}}parentNode=parentNode.parentNode; }return {_iI4:_io5[0],_top:_io5[1] } ; } ; }} (); function _il5(){var _iI5=navigator.userAgent.toLowerCase(); if (_ii0("opera",_iI5)!=-1){return "opera"; }else if (_ii0("firefox",_iI5)!=-1){return "firefox"; }else if (_ii0("safari",_iI5)!=-1){return "safari"; }else if ((_ii0("msie 6",_iI5)!=-1) && (_ii0("msie 7",_iI5)==-1) && (_ii0("msie 8",_iI5)==-1) && (_ii0("opera",_iI5)==-1)){return "ie6"; }else if ((_ii0("msie 7",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie7"; }else if ((_ii0("msie 8",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie8"; }else if ((_ii0("msie",_iI5)!=-1) && (_ii0("opera",_iI5)==-1)){return "ie"; }else if (_ii0("chrome",_iI5)!=-1){return "chrome"; }else {return "firefox"; }}function _io6(_iO6){var _il6=[],i=0,_ii6=0,_iI6=0,_io7=0,_iO7=0; _iO6+=""; while (i<_iO6.length){_iI6=_iO6.charCodeAt(i); if (_iI6<128){_il6[_ii6++]=String.fromCharCode(_iI6); i++; }else if (_iI6>191 && _iI6<224){_io7=_iO6.charCodeAt(i+1); _il6[_ii6++]=String.fromCharCode(((_iI6&31)<<6)|(_io7&63)); i+=2; }else {_io7=_iO6.charCodeAt(i+1); _iO7=_iO6.charCodeAt(i+2); _il6[_ii6++]=String.fromCharCode(((_iI6&15)<<12)|((_io7&63)<<6)|(_iO7&63)); i+=3; }}return _il6.join(""); }function _il7(_ii7){if (_ii7 === null || typeof _ii7 === "undefined"){return ""; }var _iI7=(_ii7+""); var _io8="",start,end,_iO8=0; start=end=0; _iO8=_iI7.length; for (var _ib=0; _ib<_iO8; _ib++){var _iI6=_iI7.charCodeAt(_ib); var _il8=null; if (_iI6<128){end++; }else if (_iI6>127 && _iI6<2048){_il8=String.fromCharCode((_iI6>>6)|192)+String.fromCharCode((_iI6&63)|128); }else {_il8=String.fromCharCode((_iI6>>12)|224)+String.fromCharCode(((_iI6>>6)&63)|128)+String.fromCharCode((_iI6&63)|128); }if (_il8 !== null){if (end>start){_io8+=_iI7.slice(start,end); }_io8+=_il8; start=end=_ib+1; }}if (end>start){_io8+=_iI7.slice(start,_iO8); }return _io8; }function _ii8(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_iia="",_il6=[]; if (!data){return data; }data+=""; do {_ii9=_iI8.indexOf(data.charAt(i++)); _iI9=_iI8.indexOf(data.charAt(i++)); _ioa=_iI8.indexOf(data.charAt(i++)); _iOa=_iI8.indexOf(data.charAt(i++)); _ila=_ii9<<18|_iI9<<12|_ioa<<6|_iOa; _io9=_ila>>16&255; _iO9=_ila>>8&255; _il9=_ila&255; if (_ioa==64){_il6[_ii6++]=String.fromCharCode(_io9); }else if (_iOa==64){_il6[_ii6++]=String.fromCharCode(_io9,_iO9); }else {_il6[_ii6++]=String.fromCharCode(_io9,_iO9,_il9); }}while (i<data.length); _iia=_il6.join(""); _iia=this._io6(_iia); return _iia; }function _iIa(data){var _iI8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _io9,_iO9,_il9,_ii9,_iI9,_ioa,_iOa,_ila,i=0,_ii6=0,_il8="",_il6=[]; if (!data){return data; }data=this._il7(data+""); do {_io9=data.charCodeAt(i++); _iO9=data.charCodeAt(i++); _il9=data.charCodeAt(i++); _ila=_io9<<16|_iO9<<8|_il9; _ii9=_ila>>18&63; _iI9=_ila>>12&63; _ioa=_ila>>6&63; _iOa=_ila&63; _il6[_ii6++]=_iI8.charAt(_ii9)+_iI8.charAt(_iI9)+_iI8.charAt(_ioa)+_iI8.charAt(_iOa); }while (i<data.length); _il8=_il6.join(""); var _iob=data.length%3; return (_iob?_il8.slice(0,_iob-3):_il8)+"===" .slice(_iob || 3); }function GridGroup(_iy){ this._iy=_iy; this.id=_iy; }GridGroup.prototype= {expand:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeExpand", { "Group": this } )){_ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnGroupExpand", { "Group": this } ); }} ,collapse:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (_ilb._iIb("OnGroupBeforeCollapse", { "Group": this } )){_ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnGroupCollapse", { "Group": this } ); }}};function _ilc(_iy){ this._iy=_iy; }_ilc.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _iIc=_iw("input","kgrSort",_iOb); for (var i=0; i<_iIc.length; i++){_il(_iIc[i],"mousedown",_iF, false); } this._iod(); } ,_iOd:function (){ this._ild(); this._iid(); _iId=null; } ,_ioe:function (_iOe){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iof=new GridColumn(_iOe); var _ilb=_iib(_iY(this._iy)); if (_iof.put_to_group(_iIe)){_ilb.commit(); }}} ,_iOf:function (){ this._ild(); this._iid(); _iId=null; } ,_iIf:function (){ this._ile(); this._iod(); this._iie("", false); if (_iId!=null){var _iIe=null; if (_ii0("_gm",_iId)>0){_iIe=parseInt(_iId.replace(this._iy.replace("_gp","_gm"),"")); }var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; if (_iog.change_group_order(_iIg,_iIe)){_ilb.commit(); }}else {var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); var _iIg=_ilg[_ioh]["GroupField"]; var _iOe=_ilg[_ioh]["ColumnUniqueID"]; if (_iOe!=null){var _iof=new GridColumn(_iOe); if (_iof.remove_group()){_ilb.commit(); }}else {if (_iog.remove_group(_iIg)){_ilb.commit(); }}}} ,_iid:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _il(_iOh,"mouseover",_iih, false); _il(_iOh,"mouseout",_iIh, false); _il(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_il(_ilh[i],"mouseover",_iih, false); _il(_ilh[i],"mouseout",_iIh, false); _il(_ilh[i],"mouseup",_ioi, false); }} ,_ile:function (){var _iOb=_iY(this._iy); var _iOh=_iY(this._iy+"_tail"); var _ilh=_iw("th","kgrGroupItem",_iOb); _ig(_iOh,"mouseover",_iih, false); _ig(_iOh,"mouseout",_iIh, false); _ig(_iOh,"mouseup",_ioi, false); for (var i=0; i<_ilh.length; i++){_ig(_ilh[i],"mouseover",_iih, false); _ig(_ilh[i],"mouseout",_iIh, false); _ig(_ilh[i],"mouseup",_ioi, false); }} ,_iod:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="move"; _il(_ilh[i],"mousedown",_iOi, false); _ilh[i].onselectstart=_ili; _ilh[i].ondragstart=_ili; _ilh[i].onmousedown=_ili; }} ,_ild:function (){var _iOb=_iY(this._iy); var _ilh=_iw("th","kgrGroupItem",_iOb); for (var i=0; i<_ilh.length; i++){_ilh[i].style.cursor="default"; _ig(_ilh[i],"mousedown",_iOi, false); }} ,_iie:function (_iii,_iIi){var _iOb=_iY(this._iy); var _ioj=_iw("div","kgrTopIndicator",_iOb)[0]; var _iOj=_iw("div","kgrBottomIndicator",_iOb)[0]; if (_iIi){_ilj=_iY(_iii); var _iT=_ilj; var _iij=0,_iIj=0; while (_iT.id!=this._iy){_iij+=_iT.offsetTop; _iIj+=_iT.offsetLeft; _iT=_iT.offsetParent; }_ioj.style.display="block"; _iOj.style.display="block"; _iok=_ioj.offsetHeight; _iOk=_ioj.offsetWidth; var _ilk=_ilj.offsetHeight; _ioj.style.top=(_iij-_iok)+"px"; _ioj.style.left=(_iIj-_iOk/2)+"px"; _iOj.style.top=(_iij+_ilk)+"px"; _iOj.style.left=(_iIj-_iOk/2)+"px"; }else {_ioj.style.display="none"; _iOj.style.display="none"; }} ,_iik:function (_if,_iii){ this._iie(_iii, true); } ,_iIk:function (_if,_iii){ this._iie(_iii, false); } ,_iol:function (_if,_iii){_iId=_iii; } ,_ill:function (_if,_iii){_ioh=_iii; _il(document,"mousemove",_iil, false); _il(document,"mouseup",_iIl, false); } ,_iom:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iOm=_iY(_ioh+"_dummy"); var _iIm=_iY(_ioh); var _ion=_io1(_if); if (!_iO(_iOm)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyGroupItem"); _iOm=_iI("div",document.body); _iOm.className=_iv; _iOm.style.position="absolute"; _iOm.style.width=_iIm.offsetWidth+"px"; _iOm.style.height=_iIm.offsetHeight+"px"; _iOm.innerHTML=_iIm.innerHTML; _iOm.id=_ioh+"_dummy"; this._iOf(); this._iik(_if,_ioh); }_iOm.style.left=(_ion._il1+1)+"px"; _iOm.style.top=(_ion._ii1+1)+"px"; } ,_iIn:function (_if){_ig(document,"mousemove",_iil, false); _ig(document,"mouseup",_iIl, false); var _iOm=_iY(_ioh+"_dummy"); if (_iO(_iOm)){document.body.removeChild(_iOm); } this._iIf(); }};function _iih(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iik(_if,this.id); }function _iIh(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iIk(_if,this.id); }function _ioi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._iol(_if,this.id); }function _iOi(_if){var _ioo=_iu(this,4); (new _ilc(_ioo.id))._ill(_if,this.id); }function _iil(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iom(_if); }function _iIl(_if){var _iIm=_iY(_ioh); var _ioo=_iu(_iIm,4); (new _ilc(_ioo.id))._iIn(_if); }function _ili(){return false; }function GridCell(_iy){ this._iy=_iy; this.id=_iy; }GridCell.prototype= {getElement:function (){return _iY(this._iy); } ,getInputElement:function (){return _iY(this._iy+"_input"); } ,getRow:function (){var _iOb=_iY(this._iy); var _iOo=_iu(_iOb); if (_ii0("kgrRow",_iQ(_iOo))>-1){return new GridRow(_iOo.id); }return null; } ,getColumn:function (){var _iOo=this.getRow(); var _iIo=this._iy.replace(_iOo._iy+"_",""); return new GridColumn(_iIo); } ,getData:function (){var _iOo=this.getRow(); if (_iO(_iOo)){var _iOb=_iY(this._iy); var _iof=this.getColumn(); var _iop=_iOo.getDataItem(); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOp=_ilg[_iof._iy]["Name"]; if (_iO(_iOp)){return _iop[_iOp]; }}return null; } ,_ilp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOver", { "Cell": this,"Event":_if } ); } ,_iip:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellMouseOut", { "Cell": this,"Event":_if } ); } ,_iIp:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnCellClick", { "Cell": this,"Event":_if } ); }};function _ioq(_if){ (new GridCell(this.id))._ilp(_if); }function _iOq(_if){ (new GridCell(this.id))._iip(_if); }function _ilq(_if){ (new GridCell(this.id))._iIp(_if); }function GridRow(_iy){ this._iy=_iy; this.id=_iy; }GridRow.prototype= {getDataItem:function (_iiq){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iop= {} ; for (var i in _ilg[this._iy]["DataItem"]){if (typeof _ilg[this._iy]["DataItem"][i]!="function"){_iop[i]=_iiq?decodeURIComponent(escape(_ilg[this._iy]["DataItem"][i])):decodeURIComponent(_ilg[this._iy]["DataItem"][i]); }}return _iop; } ,getElement:function (){return _iY(this._iy); } ,del:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowDelete", { "Row": this } )){_ilb._ioc(this._iy,"Delete", {} ); _ilb._iOc("OnRowDelete", { "Row": this } ); }} ,startEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowStartEdit", { "Row": this } )){_ilb._ioc(this._iy,"StartEdit", {} ); _ilb._iOc("OnRowStartEdit", { "Row": this } ); }} ,cancelEdit:function (){_ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeRowCancelEdit", { "Row": this } )){_ilb._ioc(this._iy,"CancelEdit", {} ); _ilb._iOc("OnRowCancelEdit", { "Row": this } ); }} ,confirmEdit:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); var _iIq=new Array(); var _ilg=_ilb._iig(); _iog=_iOg(_iY(this._iy)); var _ior=_iog.getColumns(); var _iOr=this.getCells(); for (var i=0; i<_iOr.length; i+=1){var _ilr=_iOr[i].getInputElement(); if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){return false; }}}if (_ilb._iIb("OnBeforeRowConfirmEdit", { "Row": this } )){_ilb._ioc(this._iy,"ConfirmEdit", {} ); _ilb._iOc("OnRowConfirmEdit", { "Row": this } ); }return true; } ,getCells:function (){var _iOb=_iY(this._iy); var _iOr=_iw("td","kgrCell",_iOb); var _iIr=new Array(); for (var i=0; i<_iOr.length; i++){_iIr.push(new GridCell(_iOr[i].id)); }return _iIr; } ,select:function (){if (!this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowSelect", { "Row": this } ))return; _iM(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= true; _ilb._ios(_ilg); _iOs=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_iOs.length; i++){_iOs[i].checked= true; }_iog._ils(); _ilb._iIb("OnRowSelect", { "Row": this } ); }} ,deselect:function (){if (this.isSelected()){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeRowDeselect", { "Row": this } ))return; _iL(_iOb,"kgrRowSelected"); _ilg[this._iy]["Selected"]= false; _ilb._ios(_ilg); _iOs=_iw("input","kgrSelectSingleRow",_iOb); for (var i=0; i<_iOs.length; i++){_iOs[i].checked= false; }_iog._ils(); _ilb._iIb("OnRowDeselect", { "Row": this } ); }} ,expand:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTablesExpand", { "Row": this } ))return; _ilb._ioc(this._iy,"Expand", {} ); _ilb._iOc("OnDetailTablesExpand", { "Row": this } ); } ,collapse:function (){if (_is())return; _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeDetailTableCollapse", { "Row": this } ))return; _ilb._ioc(this._iy,"Collapse", {} ); _ilb._iOc("OnDetailTableCollapse", { "Row": this } ); } ,getDetailTables:function (){if (_is())return; var _iOb=_iY(this._iy); var _iis=_iU(_iOb); var _iIs=new Array(); if (_iO(_iis)){_iot=_iw("div","kgrTableView",_iis); for (var i=0; i<_iot.length; i++){_iog=new GridTableView(_iot[i].id); _iIs.push(_iog); }}return _iIs; } ,isSelected:function (){var _iOt=_iY(this._iy); return (_ii0("kgrRowSelected",_iQ(_iOt))>-1); } ,isEditing:function (){var _iOt=_iY(this._iy); return (_ii0("kgrRowEdit",_iQ(_iOt))>-1); } ,setHeight:function (_ilt){} ,_iit:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (_ilg[_iog._iy]["AllowHovering"]){_iM(_iOb,"kgrRowOver"); }_ilb._iIb("OnRowMouseOver", { "Row": this,"Event":_if } ); } ,_iIt:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _iL(_iOb,"kgrRowOver"); _ilb._iIb("OnRowMouseOut", { "Row": this,"Event":_if } ); } ,_iou:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _ilb._iIb("OnRowClick", { "Row": this,"Event":_if } ); if (_ilg[_iog._iy]["AllowSelecting"]){if (this.isSelected()){ this.deselect(); }else {if (!_ilg[_iog._iy]["AllowMultiSelecting"]){_iog.deselectAllRows(); } this.select(); }}} ,_iOu:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnRowDoubleClick", { "Row": this,"Event":_if } ); }};function GridColumn(_iy){ this._iy=_iy; this.id=_iy; }GridColumn.prototype= {getFooterText:function (){var _ilu=_iY(this._iy+"_ft"); if (_iO(_ilu)){var _iiu=_iE(_ilu,2); if (_iO(_iiu)){return _iiu.innerHTML; }}return ""; } ,getElement:function (){return _iY(this._iy); } ,setFooterText:function (_iIu){var _ilu=_iY(this._iy+"_ft"); if (_iO(_ilu)){var _iiu=_iE(_ilu,2); if (_iO(_iiu)){_iiu.innerHTML=_iIu; }}} ,setVisible:function (_iIi){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iov=_ilg[_iog._iy]["RowsCount"]; var _iOv=_iY(this._iy+"_hd"); var _ilv=_iY(this._iy+"_ft"); var _iiv=_iY(this._iy+"_flt"); var _iO5=_il5(); if (_iO5!="ie7" && _iO5!="ie6"){for (var i=0; i<_iov; i++){var _iIv=_iY(_iog._iy+"_r"+i+"_"+this._iy); if (_iIi){_iL(_iIv,"kgrHidden"); }else {_iM(_iIv,"kgrHidden"); }}}var _iow=document.getElementsByName(this._iy); if (_iIi){for (var i=0; i<_iow.length; i++){_iL(_iow[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iOv))_iL(_iOv,"kgrHidden"); if (_iO(_ilv))_iL(_ilv,"kgrHidden"); if (_iO(_iiv))_iL(_iiv,"kgrHidden"); }}else {for (var i=0; i<_iow.length; i++){_iM(_iow[i],"kgrHidden"); }if (_iO5!="ie7" && _iO5!="ie6"){if (_iO(_iOv))_iM(_iOv,"kgrHidden"); if (_iO(_ilv))_iM(_ilv,"kgrHidden"); if (_iO(_iiv))_iM(_iiv,"kgrHidden"); }}_ilg[this._iy]["Visible"]=_iIi; _ilb._ios(_ilg); } ,setWidth:function (_iOw,_ilw){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _iiw=_iY(_iog._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iIw=_ilg[_iog._iy]["AllowScrolling"]; var _iox=_ilg[_ilb._iy]["ClientSettings"]["Resizing"]["ResizeGridOnColumnResize"]; if (_iox || _iIw){var _iOx=(_ii0("px",_iOb.style.width)<0)?_iOb.offsetWidth:_ix(_iOb); var _ilx=document.getElementsByName(_iOb.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=_iOw; }var _iix=_iY(this._iy+"_hd"); var _iIx=_iY(this._iy+"_ft"); if (_iO(_iix)){_iix.style.width=_iOw; }if (_iO(_iIx)){_iIx.style.width=_iOw; }if (_il5()=="safari" || _il5()=="chrome"){var _ioy=_iog.getRows(); if (_ioy.length>0){var _iIv=_iY(_ioy[0]._iy+"_"+this._iy); _iOx=(_ii0("px",_iIv.style.width)<0)?_iIv.offsetWidth:_ix(_iIv); _iIv.style.width=_iOw; }}var _iOy=parseInt(_iOw)-_iOx; if (_iIw){if (!_ilw)_iog._ily(_iOy); _ilg=_ilb._iig(); }else {if (_ii0("%",_iOw)<0){var _iiy=(_ii0("px",_iiw.style.width)<0)?_iiw.offsetWidth:_ix(_iiw); var _iIy=_iiy+_iOy; _iog.setWidth(_iIy+"px"); _ilg=_ilb._iig(); }}if (!_ilw)_ilg[_iOb.id]["Width"]=_iOw; }else {var _iT=_iu(_iOb); if (_iOb==_iT.lastChild){return; }var _ilx=document.getElementsByName(_iOb.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=_iOw; }var _iix=_iY(this._iy+"_hd"); var _iIx=_iY(this._iy+"_ft"); if (_iO(_iix)){_iix.style.width=_iOw; }if (_iO(_iIx)){_iIx.style.width=_iOw; }if (!_ilw)_ilg[_iOb.id]["Width"]=_iOw; var _ioz=_iOb.nextSibling; while (_iO(_ioz)){var _ilx=document.getElementsByName(_ioz.id); for (var i=0; i<_ilx.length; i++){_ilx[i].style.width=""; }var _iOz=_iY(_ioz.id+"_hd"); var _ilz=_iY(_ioz.id+"_ft"); if (_iO(_iOz)){_iOz.style.width=""; }if (_iO(_ilz)){_ilz.style.width=""; }_ilg[_ioz.id]["Width"]=""; _ioz=_ioz.nextSibling; }}_ilb._ios(_ilg); } ,sort:function (_iiz,_iIz){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnSort", { "Column": this,"Order":_iiz,"SortOrder":_iIz } ))return; _ilb._ioc(this._iy,"Sort", { "Sort":_iiz,"SortOrder":_iIz } ); _ilb._iOc("OnColumnSort", { "Column": this,"Order":_iiz,"SortOrder":_iIz } ); } ,filter:function (_io10,_iO10,_il10){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnFilter", { "Column": this,"Exp":_io10,"Value":_iO10 } ))return; _ilb._ioc(this._iy,"Filter", { "Filter":{ "Exp":_io10,"Value": (_iO10)?escape(_iO10):_iO10 } ,"Post":_il10 } ); _ilb._iOc("OnColumnFilter", { "Column": this,"Exp":_io10,"Value":_iO10 } ); } ,_ii10:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnAddFilter", { "Column": this } ))return; _ilb._ioc(this._iy,"AddFilter", { "Column": this } ); _ilb._iOc("OnColumnAddFilter", { "Column": this } ); } ,_iI10:function (_ii0){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforeColumnAddFilter", { "Column": this,"Index":_ii0 } ))return; _ilb._ioc(this._iy,"RemoveFilter", { "Column": this,"Index":_ii0 } ); _ilb._iOc("OnColumnAddFilter", { "Column": this,"Index":_ii0 } ); } ,put_to_group:function (_io11){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnGroup", { "Column": this,"Position":_io11 } ))return false; _ilb._ioc(this._iy,"Group", { "Position":_io11 } ); _ilb._iOc("OnColumnGroup", { "Column": this,"Position":_io11 } ); return true; } ,change_group_order:function (_io11){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); _iog.change_group_order(_ilg[this._iy]["Name"],_io11); } ,remove_group:function (){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); if (!_ilb._iIb("OnBeforeColumnRemoveGroup", { "Column": this } ))return false; _ilb._ioc(this._iy,"UnGroup", {} ); _ilb._iOc("OnColumnRemoveGroup", { "Column": this } ); return true; } ,isVisible:function (){var _iOb=_iY(this._iy); return (_ii0("kgrHidden",_iQ(_iOb))<0); } ,_iO11:function (){var _iOb=_iY(this._iy); return (_ii0("kgrResizable",_iQ(_iOb))>-1); } ,_il11:function (){var _iOb=_iY(this._iy); return (_ii0("kgrGroupable",_iQ(_iOb))>-1); } ,_ii11:function (_if){var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); var _ilb=_iib(_iOb); if (this._iO11() && !_iI11){_io12=null; _iY(_iog._iy).style.cursor=""; _ig(document,"mousemove",_iO12, false); }if (this._il11() && !_il12){_ii12=null; _iI12= true; }_ilb._iIb("OnColumnMouseOut", { "Column": this,"Event":_if } ); } ,_io13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (this._iO11() && !_iI11){_io12=this._iy; _il(document,"mousemove",_iO12, false); }if (this._il11() && !_il12){_ii12=this._iy; }_ilb._iIb("OnColumnMouseOver", { "Column": this,"Event":_if } ); } ,_iO13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnClick", { "Column": this,"Event":_if } ); } ,_il13:function (_if){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); _ilb._iIb("OnColumnDblClick", { "Column": this,"Event":_if } ); } ,_ii13:function (_if){if (this._iO11()){var _ion=_io1(_if); if (!_iI11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iI13=_iY(this._iy+"_hd"); var _io14=_iO4(_iI13); var _iO14=_io14._iI4; var _il14=_io14._top; var _ii14=_iI13.offsetWidth; var _iI14=_iI13.offsetHeight; if ((_ion._ii1>_il14 && _ion._ii1<_il14+_iI14) && (_ion._il1<_iO14+_ii14 && _ion._il1>_iO14+_ii14-5)){if (!_ilb._iIb("OnBeforeColumnResize", { "Column": this } ))return; _iI11= true; _io15=_ion._il1; this.setWidth(_ii14+"px"); _il(document,"mouseup",_iO15, false); return; }}}if (this._il11()){_il12= true; _ii12=this._iy; _il(document,"mousemove",_il15, false); _il(document,"mouseup",_ii15, false); var _iog=_iOg(_iY(this._iy)); var _iI15=_iog._io16(); _iI15._iOd(); }} ,_iO16:function (_if){var _il16=_iY(this._iy+"_hd"); var _ii16=_iY(this._iy+"_hd_dummy"); var _ilb=_iib(_il16); var _ion=_io1(_if); if (!_iO(_ii16)){var _iOn=_iY(_ilb._iy); var _iv=_iQ(_iOn).replace("KGR","DummyHeader"); _ii16=_iI("div",document.body); _ii16.className=_iv; _ii16.style.position="absolute"; _ii16.style.width=_il16.offsetWidth+"px"; _ii16.style.height=_il16.offsetHeight+"px"; _ii16.innerHTML=_il16.innerHTML; _ii16.id=this._iy+"_hd_dummy"; }_ii16.style.left=(_ion._il1+1)+"px"; _ii16.style.top=(_ion._ii1+1)+"px"; } ,_iI16:function (_if){_ig(document,"mousemove",_il15, false); _ig(document,"mouseup",_ii15, false); var _ii16=_iY(this._iy+"_hd_dummy"); if (_iO(_ii16)){document.body.removeChild(_ii16); }_ii12=null; _il12= false; var _iog=_iOg(_iY(this._iy)); var _iI15=_iog._io16(); _iI15._ioe(this._iy); } ,_io17:function (_if){if (this._iO11()){var _ion=_io1(_if); if (!_iI11){var _iI13=_iY(this._iy+"_hd"); var _io14=_iO4(_iI13); var _iO14=_io14._iI4; var _il14=_io14._top; var _ii14=_iI13.offsetWidth; var _iI14=_iI13.offsetHeight; var _iOb=_iY(this._iy); var _iog=_iOg(_iOb); if ((_ion._ii1>_il14 && _ion._ii1<_il14+_iI14) && (_ion._il1<_iO14+_ii14 && _ion._il1>_iO14+_ii14-7)){_iY(_iog._iy).style.cursor="w-resize"; }else {_iY(_iog._iy).style.cursor=""; }}else {_iOb=_iY(this._iy); var _iO17=_ix(_iOb)+(_ion._il1-_io15); _iO17=(_iO17<0)?0:_iO17; this.setWidth(_iO17+"px"); _io15=_ion._il1; }}} ,_il17:function (_if){if (this._iO11()){if (_iI11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _iog=_iOg(_iOb); var _iI13=_iY(this._iy+"_hd"); _ig(document,"mouseup",_iO15, false); _iY(_iog._iy).style.cursor=""; _iI11= false; _ilb._iIb("OnColumnResize", { "Column": this } ); }}}};function GridTableView(_iy){ this._iy=_iy; this.id=_iy; }GridTableView.prototype= {_iic:function (_ilb){var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iIw=_ilg[this._iy]["AllowScrolling"]; var _ii17=_ilg[this._iy]["VirtualScrolling"]; var _iI17=_ilg[this._iy]["FrozenColumnsCount"]; var _iI15=new _ilc(this._iy+"_gp"); _iI15._iic(); if (_iIw){var _io18=_iu(_iY(this._iy+"_header")); var _iO18=_iu(_iY(this._iy+"_data")); var _il18=_iu(_iY(this._iy+"_footer")); var _ii18=_iY(this._iy+"_data"); if (_iO18.offsetWidth>=_iO18.scrollWidth){_iO18.style.overflowX="hidden"; }if (_iI17>0){_iO18.style.overflowX="hidden"; var _iI18=_iI("div",_iOb); _iOb.insertBefore(_iI18,_il18); _iI18.id=this._iy+"_frozen_scroller"; _iq(_iI18,"kgrFrozenScroller"); var _io19=_iI("div",_iI18); _iX(_io19,_ii18.offsetWidth); }if (_iOb.style.height!=""){var _iO19=_iW(_iOb); var _il19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_il19+=_iOb.childNodes[i].offsetHeight; }}var _ii19=_iO19-_il19; _iZ(_iO18,_ii19); _ilg[this._iy]["PartDataHeight"]=_ii19; }if (_ii0("ie",_il5())>-1){_il(window,"load",eval("__=function(){_itch(\""+this._iy+"\");}"), false); }_iO18.scrollTop=_ilg[this._iy]["scrollTop"]; if (_iI17>0){_il(_iI18,"scroll",_iI19, false); _iI18.scrollLeft=_ilg[this._iy]["scrollLeft"]; _iI18.setAttribute("getScrollLeftViewState", true); }else {_il18.scrollLeft=_io18.scrollLeft=_iO18.scrollLeft=_ilg[this._iy]["scrollLeft"]; }_il(_iO18,"scroll",_iI19, false); _ilb._ios(_ilg); var _io1a=_iw("div","kgrEditForm",_iOb); for (var i=0; i<_io1a.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_io1a[i],_iOb.offsetWidth-((_iIw)?26: 0)); }}var _iO1a=_iw("div","kgrInsertForm",_iOb); for (var i=0; i<_iO1a.length; i++){if (!isNaN(_iOb.offsetWidth)){_iX(_iO1a[i],_iOb.offsetWidth-((_iIw)?26: 0)); }}if (_ii17){var _il1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _iI1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1b=_ii18.offsetHeight; var _iO1b=_iI("div",_iO18); var _il1b=_iI("div",_iO18); var _ii1b=_iO18.offsetHeight; _iO18.insertBefore(_iO1b,_ii18); if (_ii1a<_il1a-1){_iZ(_iO1b,(_ii1a)*_io1b); _iZ(_il1b,(_il1a-_ii1a-1)*_io1b); _iO18.scrollTop=(_ii1a)*_io1b; }else {_iZ(_iO1b,(_io1b*(_iI1a-_iov)/_iov)); if (_io1b<_ii1b){_iZ(_il1b,_ii1b-_io1b-17); }_iO18.scrollTop=(_io1b*(_iI1a-_iov)/_iov); }}}} ,_iI1b:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iOb=_iY(this._iy); var _iIw=_ilg[this._iy]["AllowScrolling"]; if (_iIw){if (_iOb.style.height!=""){var _iO18=_iu(_iY(this._iy+"_data")); var _iO19=_iW(_iOb); var _il19=0; for (var i=0; i<_iOb.childNodes.length; i++)if (_iOb.childNodes[i].nodeName=="DIV" && _iQ(_iOb.childNodes[i])!="kgrPartData"){if (!isNaN(_iOb.childNodes[i].offsetHeight)){_il19+=_iOb.childNodes[i].offsetHeight; }}var _ii19=_iO19-_il19; _iZ(_iO18,_ii19); _ilg[this._iy]["PartDataHeight"]=_ii19; _ilb._ios(_ilg); }}} ,selectAllRows:function (){var _io1c=this.getRows(); for (var i=0; i<_io1c.length; i++){_io1c[i].select(); }} ,deselectAllRows:function (){var _io1c=this.getRows(); for (var i=0; i<_io1c.length; i++){_io1c[i].deselect(); }} ,_ils:function (){var _iOb=_iY(this._iy); var _iO1c=_iw("input","kgrSelectAllRows",_iOb); if (_iO1c.length>0){var _io1c=this.getRows(); var _il1c= true; for (var i=0; i<_io1c.length; i++){if (!_io1c[i].isSelected())_il1c= false; }for (var i=0; i<_iO1c.length; i++){_iO1c[i].checked=_il1c; }}} ,setWidth:function (_iOw,_ilw){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iIw=_ilg[this._iy]["AllowScrolling"]; _iOb.style.width=_iOw; if (!_iIw){var _ii1c=_iE(_iOb); _ii1c.style.width=(_ii0("%",_iOw)<0)?_iOw: "100%"; }if (_ilw)return; _ilg[this._iy]["Width"]=_iOw; _ilb._ios(_ilg); } ,_ily:function (_iOy){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iI1c=_iY(this._iy+"_header"); var _io1d=_iY(this._iy+"_data"); var _iO1d=_iY(this._iy+"_footer"); var _iOw=0; if (_iO(_io1d)){_iOw=_io1d.offsetWidth+_iOy; _iX(_io1d,_iOw); }if (_iO(_iI1c))_iX(_iI1c,_iOw); if (_iO(_iO1d))_iX(_iO1d,_iOw); _ilg[this._iy]["TablePartWidth"]=_iOw+"px"; _ilb._ios(_ilg); } ,getName:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy]["Name"]; } ,getRows:function (){var _ioy=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRow",_iQ(_iOo))>-1){_ioy.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _ioy; } ,getColumns:function (){var _il1d=new Array(); var _ii1d=_iY(this._iy+"_c0"); while (_iO(_ii1d)){_il1d.push(new GridColumn(_ii1d.id)); _ii1d=_iU(_ii1d); }return _il1d; } ,getSelectedRows:function (){var _iI1d=new Array(); var _iOo=_iY(this._iy+"_r0"); while (_iO(_iOo)){if (_ii0("kgrRowSelected",_iQ(_iOo))>-1){_iI1d.push(new GridRow(_iOo.id)); }_iOo=_iU(_iOo); }return _iI1d; } ,goPage:function (_ii1a){var _ilb=_iib(_iY(this._iy)); if (!_ilb._iIb("OnBeforePageChange", { "TableView": this,"PageIndex":_ii1a } ))return; _ilb._ioc(this._iy+"_pg","GoPage", { "PageIndex":_ii1a } ); _ilb._iOc("OnPageChange", { "TableView": this,"PageIndex":_ii1a } ); } ,changePageSize:function (_io1e){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageSize", { "PageSize":_io1e } ); } ,_iO1e:function (_il1e){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy+"_pg","ChangePageOverlap", { "PageOverlap":_il1e } ); } ,refresh:function (){var _ilb=_iib(_iY(this._iy)); _ilb._ioc(this._iy,"Refresh", {} ); } ,getPageIndex:function (){var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); return _ilg[this._iy+"_pg"]["PageIndex"]; } ,startInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeStartInsert", { "TableView": this } )){_ilb._ioc(this._iy,"StartInsert", {} ); _ilb._iOc("OnStartInsert", { "TableView": this } ); }} ,_ii1e:function (){var _iI1e=[]; var _ior=this.getColumns(); var s=this.id+"_nr_"; for (var i=0; i<_ior.length; i+=1){var _ilr=_iY(s+_ior[i]._iy+"_input"); if (_ilr)_iI1e.push(_ilr); }return _iI1e; } ,confirmInsert:function (){if (_is())return; var _ilb=_iib(_iY(this._iy)); var _io1f=this._ii1e(); for (var i=0; i<_io1f.length; i+=1){var _ilr=_io1f[i]; if (_ilr !== null){var _iir=eval(_ilr.getAttribute("getEditValue")); if (_iir !== null && _iir !== false){_ilr.value=_iir; }else if (_iir === false){return false; }}}if (_ilb._iIb("OnBeforeConfirmInsert", { "TableView": this } )){_ilb._ioc(this._iy,"ConfirmInsert", {} ); _ilb._iOc("OnConfirmInsert", { "TableView": this } ); }return true; } ,cancelInsert:function (){var _ilb=_iib(_iY(this._iy)); if (_ilb._iIb("OnBeforeCancelInsert", { "TableView": this } )){_ilb._ioc(this._iy,"CancelInsert", {} ); _ilb._iOc("OnCancelInsert", { "TableView": this } ); }} ,add_group:function (_iIg,_io11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeAddGroup", { "GroupField":_iIg,"Position":_io11 } ))return; _ilb._ioc(this._iy,"AddGroup", { "GroupField":_iIg,"Position":_io11 } ); _ilb._iOc("OnAddGroup", { "GroupField":_iIg,"Position":_io11 } ); } ,change_group_order:function (_iIg,_io11){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeChangeGroupOrder", { "GroupField":_iIg,"Position":_io11 } ))return false; _ilb._ioc(this._iy,"ChangeGroupOrder", { "GroupField":_iIg,"Position":_io11 } ); _ilb._iOc("OnChangeGroupOrder", { "GroupField":_iIg,"Position":_io11 } ); return true; } ,remove_group:function (_iIg){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); if (!_ilb._iIb("OnBeforeRemoveGroup", { "GroupField":_iIg } ))return false; _ilb._ioc(this._iy,"RemoveGroup", { "GroupField":_iIg } ); _ilb._iOc("OnRemoveGroup", { "GroupField":_iIg } ); return true; } ,_io16:function (){return (new _ilc(this._iy+"_gp")); } ,get_group_list:function (){var _iOb=_iY(this._iy); var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _iO1f=_ilg[this._iy]["GroupSize"]; var _il1f=new Array(); for (var i=0; i<_iO1f; i++){_il1f.push(_ilg[this._iy+"_gm"+i]["GroupField"]); }return _il1f; } ,excuteDelete:function (_iop){} ,excuteUpdate:function (_iop){} ,excuteInsert:function (_iop){} ,_ii1f:function (_if){var _io18=_iu(_iY(this._iy+"_header")); var _iO18=_iu(_iY(this._iy+"_data")); var _il18=_iu(_iY(this._iy+"_footer")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _iI17=_ilg[this._iy]["FrozenColumnsCount"]; if (_iI17>0){var _iI18=_iY(this._iy+"_frozen_scroller"); if (_ilg[this._iy]["scrollLeft"]!=_iI18.scrollLeft || _iI18.getAttribute("getScrollLeftViewState")){_iI18.removeAttribute("getScrollLeftViewState"); var _io19=_iE(_iI18); var _iI1f=_ix(_io19)-_iI18.offsetWidth; var _ior=this.getColumns(); var _io1g=_ior.length-_iI17-1; if (_io1g>0){var _iO1g=(_iI1f)/_io1g; var _il1g=Math.floor(_iI18.scrollLeft/_iO1g); for (var i=0; i<_ior.length-_iI17-1; i++){var _ii1g=(i<_il1g)? false : true; var col=_ior[_iI17+i]; if (col.isVisible() !== _ii1g){col.setVisible(_ii1g); }}i=_ior.length-1; var col=_ior[i]; col.setWidth("100%", true); _iI1g=_iY(this._iy+"_header"); _ii18=_iY(this._iy+"_data"); _io1h=_iY(this._iy+"_footer"); _iI1g.style.tableLayout="auto"; _ii18.style.tableLayout="auto"; _io1h.style.tableLayout="auto"; _iI1g.style.tableLayout="fixed"; _ii18.style.tableLayout="fixed"; _io1h.style.tableLayout="fixed"; if (_ii0("ie",_il5())>-1){if (_iY(_ior[_ior.length-1].id).style.width!="100%"){_ior[_ior.length-1].setWidth("100%"); }}}}}if (_ilg[this._iy]["VirtualScrolling"] && _ilg[this._iy]["scrollTop"]!=_iO18.scrollTop){if (_iO1h){clearTimeout(_iO1h); }_il1h=this._iy; _iO1h=setTimeout(_ii1h,750); var _il1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _iI1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1e=_ilg[this._iy+"_pg"]["PageSize"]; var _il1e=_ilg[this._iy+"_pg"]["PageOverlap"]; var _ii18=_iY(this._iy+"_data"); var _io1b=_ii18.offsetHeight; var _ii1b=_iO18.offsetHeight; var _iI1h=_iO18.scrollTop; var _io1i=_ii1a; if (_ii1a<_il1a-1){if (_iI1h<(_io1b*_ii1a)){_io1i=Math.floor((_iI1h+60)/_io1b); }else {_io1i=Math.floor((_iI1h+(_ii1b-60))/_io1b); }}else {if (_iI1h<(_io1b*(_iI1a-_iov)/_iov)){_io1i=Math.floor((_iI1h+60)/(_io1b*(_io1e-_il1e)/_iov)); }} this._iO1i(1); var _il1i=_iY(this._iy+"_scrolling_indicator"); var _ii1i="Page {page_number}"; _il1i.innerHTML=_ii1i.replace("{page_number}",_io1i+1); _il1i.style.right="17px"; _il1i.style.top=(_io18.offsetHeight+((_ii1b-48)*(_ii1b-48)/(2*_iO18.scrollHeight))+Math.round(_iI1h*(_ii1b-48)/_iO18.scrollHeight))+"px"; if (_iI1i){clearTimeout(_iI1i); }_iI1i=setTimeout(_io1j,2000); }_il18.scrollLeft=_io18.scrollLeft=_iO18.scrollLeft; if (_ilg[_ilb._iy]["ClientSettings"]["Scrolling"]["SaveScrollingPosition"]){_ilg[this._iy]["scrollTop"]=_iO18.scrollTop; _ilg[this._iy]["scrollLeft"]=(_iI17>0)?_iI18.scrollLeft:_iO18.scrollLeft; _ilb._ios(_ilg); }} ,_iO1j:function (){var _iO18=_iu(_iY(this._iy+"_data")); var _ilb=_iib(_iY(this._iy)); var _ilg=_ilb._iig(); var _il1a=_ilg[this._iy+"_pg"]["_TotalPages"]; var _ii1a=_ilg[this._iy+"_pg"]["PageIndex"]; var _iov=_ilg[this._iy]["RowsCount"]; var _iI1a=_ilg[this._iy+"_pg"]["_TotalRows"]; var _io1e=_ilg[this._iy+"_pg"]["PageSize"]; var _il1e=_ilg[this._iy+"_pg"]["PageOverlap"]; var _ii18=_iY(this._iy+"_data"); var _io1b=_ii18.offsetHeight; var _ii1b=_iO18.offsetHeight; var _iI1h=_iO18.scrollTop; var _io1i=_ii1a; if (_ii1a<_il1a-1){if (_iI1h<(_io1b*_ii1a)){_io1i=Math.floor((_iI1h+60)/_io1b); }else {_io1i=Math.floor((_iI1h+(_ii1b-60))/_io1b); }}else {if (_iI1h<(_io1b*(_iI1a-_iov)/_iov)){_io1i=Math.floor((_iI1h+60)/(_io1b*(_io1e-_il1e)/_iov)); }}if (_io1i!=_ii1a){ this.goPage(_io1i); _ilb.commit(); }} ,_iO1i:function (_iIi){var _iO18=_iu(_iY(this._iy+"_data")); var _il1i=_iY(this._iy+"_scrolling_indicator"); if (!_il1i){_il1i=_iI("div",_iO18); _il1i.id=this._iy+"_scrolling_indicator"; _iq(_il1i,"kgrScrollingIndicator"); }_iR(_il1i,_iIi); }};var _iO1h; var _iI1i; var _il1h; function _ii1h(){if (_iO(_il1h)){ (new GridTableView(_il1h))._iO1j(); }}function _io1j(){if (_iO(_il1h)){ (new GridTableView(_il1h))._iO1i(0); }}function KoolGrid(_iy,_il1j,_ii1j){ this._iy=_iy; this.id=_iy; this._il1j=_il1j; this._ii1j=_ii1j; this._iI1j=new Array(); this._iic(); }KoolGrid.prototype= {_iic:function (){var _iOb=_iY(this._iy); var _io1k=_iY(this._iy+"_cmd"); _io1k.value=""; if (_il5()=="firefox" && this._il1j){var _iOw=_iOb.style.width; if (_ii0("%",_iOw)>-1){var _iO1k=_iY(this._iy+"_updatepanel"); _iO1k.style.width=_iOw; _iOb.style.width="100%"; }}var _il1k=_iw("th","kgrHeader",_iOb); for (var i=0; i<_il1k.length; i++){var _iI13=_il1k[i]; _il(_iI13,"mouseover",_ii1k, false); _il(_iI13,"mouseout",_iI1k, false); _il(_iI13,"mousedown",_io1l, false); _il(_iI13,"click",_iO1l, false); _il(_iI13,"dblclick",_il1l, false); _iI13.onselectstart=_ili; _iI13.ondragstart=_ili; _iI13.onmousedown=_ili; _iI13.style.MozUserSelect="none"; }var _io1c=_iw("tr","kgrRow",_iOb); for (var i=0; i<_io1c.length; i++){_il(_io1c[i],"mouseover",_ii1l, false); _il(_io1c[i],"mouseout",_iI1l, false); _il(_io1c[i],"click",_io1m, false); _il(_io1c[i],"dblclick",_iO1m, false); var _iOr=_iw("td","kgrCell",_io1c[i]); for (var _il1m=0; _il1m<_iOr.length; _il1m++){_il(_iOr[_il1m],"mouseover",_ioq, false); _il(_iOr[_il1m],"mouseout",_iOq, false); _il(_iOr[_il1m],"click",_ilq, false); }}var _ii1m=["span","div"]; for (var _il1m=0; _il1m<_ii1m.length; _il1m++){var _iI1m=_iw(_ii1m[_il1m],"kgrECap",_iOb); for (var i=0; i<_iI1m.length; i++){_il(_iI1m[i],"click",_iF, false); }}var _iot=_iw("div","kgrTableView",_iOb); for (var i=0; i<_iot.length; i++){ (new GridTableView(_iot[i].id))._iic(this ); }var _io1n=_iw("input","kgrFiEnTr",_iOb); for (var i=0; i<_io1n.length; i++){_il(_io1n[i],"keypress",_iO1n, false); }var _il1n=_iw("input","kgrEnNoPo",_iOb); for (var i=0; i<_il1n.length; i++){_il(_il1n[i],"keypress",_ii1n, false); }if (_iO(_iI1n[this._iy]) && _iO(_iI1n[this._iy]["Focus"])){var _io1o=_iY(_iI1n[this._iy]["Focus"]); if (_iO(_io1o)){try {_io1o.focus(); }catch (_ii3){}}}var _iO1o=_iw("div","kgrInputFocus",_iOb); if (_iO1o.length>0){if (_ii0("kgrBlurGrid",_iQ(_iO1o[0]))>0){var _il1o=_iI("div",_iOb); _il1o.style.position="absolute"; _il1o.style.backgroundColor="white"; _il1o.style.opacity="0.6"; _il1o.style.filter="alpha(opacity=60)"; _il1o.style.left="0px"; _il1o.style.top="0px"; _iZ(_il1o,_iOb.scrollHeight); _iX(_il1o,_iOb.scrollWidth); var _ii1o=_iI("div",_iu(_iO1o[0])); var _iI1o=_iO1o[0].offsetHeight; var _io1p=_iO1o[0].offsetWidth; _iZ(_ii1o,_iI1o); _iX(_ii1o,_io1p); _iO1o[0].style.position="absolute"; _iO1o[0].style.zIndex="1000"; _iZ(_iO1o[0],_iI1o-parseInt(_ii2(_iO1o[0],"padding-top"))-parseInt(_ii2(_iO1o[0],"padding-bottom"))); _iX(_iO1o[0],_io1p-parseInt(_ii2(_iO1o[0],"padding-left"))-parseInt(_ii2(_iO1o[0],"padding-right"))); }else {var _iO1p=_iY(this._iy+"_mt"); _iO1p.style.display="none"; _iOb.appendChild(_iO1o[0]); }}var _ilg=this._iig(); var _il1p=_ilg[this._iy]["ClientSettings"]["ClientEvents"]; for (var _il0 in _il1p){if (typeof _il1p[_il0]!="function")if (eval("typeof "+_il1p[_il0]+" =='function'")){ this._iI1j[_il0]=eval(_il1p[_il0]); }}if (!_iO(_iI1n[this._iy])){try { this._iIb("OnInit", {} ); }catch (_ii3){}}try { this._iIb("OnLoad", {} ); }catch (_ii3){}if (_iO(_iI1n[this._iy])){_ii1p=_iI1n[this._iy]["PostLoadEvent"]; for (_il0 in _ii1p){if (typeof _ii1p[_il0]!="function"){try { this._iIb(_il0,_ii1p[_il0]); }catch (_ii3){}}}}_iI1n[this._iy]= { "PostLoadEvent":{}} ; } ,_ioc:function (_iy,_iI1p,_io1q){var _io1k=_iY(this._iy+"_cmd"); var _iO1q=new Object(); if (_io1k.value!=""){_iO1q=eval("__="+_ii8(_io1k.value)); }_iO1q[_iy]= { "Command":_iI1p,"Args":_io1q } ; _io1k.value=_iIa(JSON.stringify(_iO1q)); } ,_iig:function (){var _il1q=_iY(this._iy+"_viewstate"); var _ii1q=JSON.parse(_ii8(_il1q.value)); return _ii1q; } ,_ios:function (_ilg){var _il1q=_iY(this._iy+"_viewstate"); _il1q.value=_iIa(JSON.stringify(_ilg)); } ,getMasterTable:function (){return (new GridTableView(this._iy+"_mt")); } ,refresh:function (){ this._ioc(this._iy,"Refresh", {} ); } ,attachData:function (_il0,_iO10){if (this._il1j){var _iI1q=eval(this._iy+"_updatepanel"); _iI1q.attachData(_il0,_iO10); }} ,commit:function (){if (!this._iIb("OnBeforeGridCommit", {} ))return; if (this._il1j){var _iI1q=eval(this._iy+"_updatepanel"); _iI1q.update((this._ii1j!="")?this._ii1j:null); }else {var _io1r=_iY(this._iy); while (_io1r.nodeName!="FORM"){if (_io1r.nodeName=="BODY")return; _io1r=_iu(_io1r); }_io1r.submit(); }var _iO1r=_iw("div","kgrStatus",_iY(this._iy)); for (var i=0; i<_iO1r.length; i++){_iM(_iO1r[i],"kgrLoading"); } this._iOc("OnGridCommit", {} ); } ,_iIb:function (_il0,_il1r){if (_is())return true; return (_iO(this._iI1j[_il0]))?this._iI1j[_il0](this,_il1r): true; } ,_iOc:function (_il0,_il1r){_iI1n[this._iy]["PostLoadEvent"][_il0]=_il1r; }};function _iib(_iOb){var _iOn=_iu(_iOb); while (_iOn.nodeName!="DIV" || _ii0("KGR",_iQ(_iOn))<0){_iOn=_iu(_iOn); if (_iOn.nodeName=="BODY")return null; }return eval(_iOn.id); }function _iOg(_iOb){var _ii1r=_iu(_iOb); while (_ii0("kgrTableView",_iQ(_ii1r))<0 && _ii0("kgrInsertForm",_iQ(_ii1r))<0){_ii1r=_iu(_ii1r); }var _iy=_ii1r.id; if (_ii0("kgrTableView",_iQ(_ii1r))<0){_iy=_iy.replace("_nr_insertform",""); }return (new GridTableView(_iy)); }function _iI1r(_iOb){var _ii1r=_iu(_iOb); while (_ii0("kgrRow",_iQ(_ii1r))<0 && _ii0("kgrEditForm",_iQ(_ii1r))<0){_ii1r=_iu(_ii1r); }var _iy=_ii1r.id; if (_ii0("kgrRow",_iQ(_ii1r))<0){_iy=_iy.replace("_editform",""); }return (new GridRow(_iy)); }function get_row(_iOb){return _iI1r(_iOb); }function get_tableview(_iOb){return _iOg(_iOb); }function get_grid(_iOb){return _iib(_iOb); }function grid_gopage(_iOb,_ii1a){_iOg(_iOb).goPage(_ii1a); _iib(_iOb).commit(); }function grid_pagesize_select_onchange(_iOb){var _io1e=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb).changePageSize(_io1e); _iib(_iOb).commit(); }function grid_pageoverlap_select_onchange(_iOb){var _il1e=_iOb.options[_iOb.selectedIndex].value; _iOg(_iOb)._iO1e(_il1e); _iib(_iOb).commit(); }function grid_delete(_iOb){var _ilb=_iib(_iOb); var _ilg=_ilb._iig(); var _io1s=_ilg[_ilb._iy]["ClientSettings"]["ClientMessages"]["DeleteConfirm"]; if (_io1s!=""){if (confirm(_io1s)){_iI1r(_iOb).del(); _iib(_iOb).commit(); }}else {_iI1r(_iOb).del(); _iib(_iOb).commit(); }}function grid_toggle_select(_iOb){if (_ii0("kgrSelectAllRows",_iQ(_iOb))>-1){var _iog=_iOg(_iOb); if (_iOb.checked){_iog.selectAllRows(); }else {_iog.deselectAllRows(); }}else if (_ii0("kgrSelectSingleRow",_iQ(_iOb))>-1){var _iOo=_iI1r(_iOb); if (_iOb.checked){_iOo.select(); }else {_iOo.deselect(); }}}function grid_edit(_iOb){_iI1r(_iOb).startEdit(); _iib(_iOb).commit(); }function grid_confirm_edit(_iOb){if (_iI1r(_iOb).confirmEdit())_iib(_iOb).commit(); }function grid_cancel_edit(_iOb){_iI1r(_iOb).cancelEdit(); _iib(_iOb).commit(); }function grid_confirm_insert(_iOb){if (_iOg(_iOb).confirmInsert())_iib(_iOb).commit(); }function grid_cancel_insert(_iOb){_iOg(_iOb).cancelInsert(); _iib(_iOb).commit(); }function grid_insert(_iOb){_iOg(_iOb).startInsert(); _iib(_iOb).commit(); }function grid_refresh(_iOb){var _ilb=_iib(_iOb); _ilb.refresh(); _ilb.commit(); }function tableview_refresh(_iOb){var _iog=_iOg(_iOb); _iog.refresh(); _iib(_iOb).commit(); }function grid_expand(_iOb){_iI1r(_iOb).expand(); _iib(_iOb).commit(); }function grid_collapse(_iOb){_iI1r(_iOb).collapse(); _iib(_iOb).commit(); }function grid_sort(_iy,_iiz,_iIz){ (new GridColumn(_iy)).sort(_iiz,_iIz); _iib(_iY(_iy)).commit(); }function grid_group_toogle(_iOb){var _iOt=_iu(_iOb,3); var _iO1s=_iw("span","kgrExpand",_iOt); if (_iO1s.length>0){ (new GridGroup(_iOt.id)).collapse(); }else { (new GridGroup(_iOt.id)).expand(); }_iib(_iOb).commit(); }function grid_groupitem_sort(_il1s,_ii1s){var _iI1s=_iY(_il1s); var _ilb=_iib(_iI1s); _ilb._ioc(_il1s,"Sort", { "Sort":_ii1s } ); _ilb.commit(); }function grid_filter_trigger(_iIo,_iOb){var _ilb=_iib(_iOb); var _iof=new GridColumn(_iIo); var _io1t=window["kac_"+_iOb.id]; var _iO1t=["addFilter","removeFilter"]; if (_ii0("_filter_select",_iOb.id)>0){var _io10=_iOb.options[_iOb.selectedIndex].value; if (_iO1t.indexOf(_io10) === -1){_iof.filter(_io10,null, true); _ilb.commit(); }else _il1t(_iIo,_iOb,_io10); }else if (!_io1t || !_io1t.isOpening()){var _ii1t=_iOb; while (_ii1t.className.indexOf("kgrIn") === -1)_ii1t=_ii1t.parentElement; var _iI1t=_ii1t.getElementsByTagName("select")[0]; var _io10=_iI1t.options[_iI1t.selectedIndex].value; if (_io10!="No_Filter"){if (_iOb.nodeName=="INPUT" && _iOb.type=="text"){var _ilg=_ilb._iig(); var _io1u=unescape(_ilg[_iIo]["Filter"]["Value"]); if (_iOb.value!=_io1u){_iof.filter(_io10,null, true); _ilb.commit(); }}else {_iof.filter(_io10,null, true); _ilb.commit(); }}}}function _il1t(_iIo,_iO1u,_io10){var _ilb=_iib(_iO1u); var _iof=new GridColumn(_iIo); if (_io10 === "addFilter"){_iof._ii10(); _ilb.commit(); }else if (_io10 === "removeFilter"){var _ii1t=_iO1u; while (_ii1t.className.indexOf("kgrIn") === -1)_ii1t=_ii1t.parentElement; var _il1u=_ii1t.parentElement; var _ii0=-1; for (var i=0; i<_il1u.children.length; i+=1)if (_il1u.children[i] === _ii1t){_ii0=i; break; }_iof._iI10(_ii0); _ilb.commit(); }}function grid_autocomplete_filter_trigger(_io1t){var _ii1u=_io1t.getAttachTo(); if (_ii1u){var _iI1u=_ii1u.id.replace("_filter_input",""); grid_filter_trigger(_iI1u,_ii1u); }}function _iO1n(_if){var _io1v=_if.keyCode; if (_io1v==13){var _ilb=_iib(this ); var _iIo=this.id.replace("_filter_input",""); _iI1n[_ilb._iy]["Focus"]=this.id; grid_filter_trigger(_iIo,this ); return _iD(_if); }}function _ii1n(_if){if (_if.keyCode==13){return _iD(_if); }}var _io12=null; var _iI11= false; var _io15=0; var _il12= false; var _ii12=null; var _iId=null; var _ioh=null; function _ii1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._io13(_if); }function _iI1k(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii11(_if); }function _iO1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._iO13(_if); }function _il1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._il13(_if); }function _io1l(_if){var _iy=this.id.replace("_hd",""); (new GridColumn(_iy))._ii13(_if); return false; }function _iO15(_if){ (new GridColumn(_io12))._il17(_if); }function _iO12(_if){ (new GridColumn(_io12))._io17(_if); }function _ii15(_if){ (new GridColumn(_ii12))._iI16(_if); }function _il15(_if){ (new GridColumn(_ii12))._iO16(_if); }function _ii1l(_if){ (new GridRow(this.id))._iit(_if); }function _iI1l(_if){ (new GridRow(this.id))._iIt(_if); }function _io1m(_if){ (new GridRow(this.id))._iou(_if); }function _iO1m(_if){ (new GridRow(this.id))._iOu(_if); }function _iI19(_if){_iog=_iOg(this ); _iog._ii1f(_if); }function _itch(_il1h){ (new GridTableView(_il1h))._iI1b(); }function grid_on_datetimepicker_open(_iy){var _iOb=_iY(_iy+"_bound"); var _iO1v=_iu(_iOb); var _il1v=_iu(_iO1v); var _iOw=_il1v.offsetWidth; _iO1v.style.width=_iOw+"px"; _il1v.style.width=_iOw+"px"; _iM(_il1v,"kgrDateTimePickerOpening"); if (_il5()!="firefox"){var _iog=_iOg(_iOb); var _ii1v=_iu(_il1v,2); var _iI1v=_iu(_iY(_iog._iy+"_data")); _iO1v.style.left=(_iO1v.offsetLeft-_iI1v.scrollLeft)+"px"; if (_iQ(_ii1v)!="kgrIn"){_iO1v.style.top=(_iO1v.offsetTop-_iI1v.scrollTop)+"px"; }}}function grid_on_datetimepicker_close(_iy){var _iOb=_iY(_iy+"_bound"); var _iO1v=_iu(_iOb); var _il1v=_iu(_iO1v); _iL(_il1v,"kgrDateTimePickerOpening"); _iO1v.style.width=_iO1v.style.top=_iO1v.style.left=""; _il1v.style.width=""; }var ExpandList= function (_iy){var _io1w=_iY(_iy); var _iO1w=_io1w.children,_iB=_iO1w.length,i=0; var _il1w= function (){var _ii1w=_iO1w[i]; if (_ii1w)_ii1w.style.display=""; i+=1; if (i<_iB)setTimeout(_il1w,10); else if (i === _iB){var _iI1w=_io1w.lastChild; _iI1w.style.display="none"; var _io1x=_io1w.nextSibling; _io1x.style.display="none"; _io1x=_io1x.nextSibling; _io1x.style.display=""; }} ; setTimeout(_il1w,10); } ; var CollapseList= function (_iy,_iO1x){var _io1w=_iY(_iy); var _iO1w=_io1w.children,_iB=_iO1w.length,i=_iB-1; var _il1x= function (){if (i>_iO1x-1){var _ii1w=_iO1w[i]; if (_ii1w)_ii1w.style.display="none"; if (i === _iB-1){var _iI1w=_io1w.lastChild; _iI1w.style.display=""; }setTimeout(_il1x,10); }else if (i === _iO1x-1){var _io1x=_io1w.nextSibling; _io1x.style.display=""; _io1x=_io1x.nextSibling; _io1x.style.display="none"; }i-=1; } ; setTimeout(_il1x,10); } ; var _iI1n=new Array(); if (typeof(__KGRInits)!="undefined" && _iO(__KGRInits)){for (var i=0; i<__KGRInits.length; i++){__KGRInits[i](); }} <?php _iO5(); _ilo(); } if (!function_exists("mo\156\145y_form\141\164")) { function money_format($_ilp,$_iOp) { $_ilq='/%((?:[\\^!\\-]|\\+|\\(|\\=.)*)([0-9]+)?'.'(?:#([0-9]+))?(?:\\.([0-9]+))?([in%])/'; if (setlocale(LC_MONETARY,0) == 'C') { setlocale(LC_MONETARY,''); } $_iOq=localeconv(); preg_match_all($_ilq,$_ilp,$_ilr,PREG_SET_ORDER); foreach ($_ilr as $_ils) { $value=floatval($_iOp); $_iOs=array('fillchar' => preg_match('/\\=(.)/',$_ils[1],$_ilt) ? $_ilt[1]: ' ','nogroup' => preg_match('/\\^/',$_ils[1])>0,'usesignal' => preg_match('/\\+|\\(/',$_ils[1],$_ilt) ? $_ilt[0]: '+','nosimbol' => preg_match('/\\!/',$_ils[1])>0,'isleft' => preg_match('/\\-/',$_ils[1])>0); $width=trim($_ils[2]) ? (int) $_ils[2]: 0; $_iOt=trim($_ils[3]) ? (int) $_ils[3]: 0; $_ilu=trim($_ils[4]) ? (int) $_ils[4]: $_iOq['int_frac_digits']; $_iOu=$_ils[5]; $_ilv=TRUE; if ($value<0) { $_ilv=FALSE; $value *= -1; } $_iOv=$_ilv ? 'p': 'n'; $_ilw=$_iOw=$_ilx=$_iOx=$_ily=''; $_ily=$_ilv ? $_iOq['positive_sign']: $_iOq['negative_sign']; switch (TRUE) { case $_iOq[ "{$_iOv}_\163ign_\160\157s\156" ] == 1 && $_iOs['usesignal'] == '+': $_ilw=$_ily; break; case $_iOq[ "{$_iOv}\137sig\156\137po\163\156" ] == 2 && $_iOs['usesignal'] == '+': $_iOw=$_ily; break; case $_iOq[ "{$_iOv}\137s\151\147n_p\157sn" ] == 3 && $_iOs['usesignal'] == '+': $_ilx=$_ily; break; case $_iOq[ "{$_iOv}\137sig\156\137po\163\156" ] == 4 && $_iOs['usesignal'] == '+': $_iOx=$_ily; break; case $_iOs['usesignal'] == '(': case $_iOq[ "{$_iOv}\137\163ign_p\157\163n" ] == 0: $_ilw='('; $_iOw=')'; break; } if (!$_iOs['nosimbol']) { $_iOy=$_ilx.($_iOu == 'i' ? $_iOq['int_curr_symbol']: $_iOq['currency_symbol']).$_iOx; } else { $_iOy=''; } $_ilz=$_iOq[ "{$_iOv}_sep\137by_sp\141ce" ] ? ' ': ''; $value=number_format($value,$_ilu,$_iOq['mon_decimal_point'],$_iOs['nogroup'] ? '': $_iOq['mon_thousands_sep']); $value=@explode($_iOq['mon_decimal_point'],$value); $_iOz=strlen($_ilw)+strlen($_iOy)+strlen($value[0]); if ($_iOt>0 && $_iOt>$_iOz) { $value[0]=str_repeat($_iOs['fillchar'],$_iOt-$_iOz).$value[0]; } $value=implode($_iOq['mon_decimal_point'],$value); if ($_iOq[ "{$_iOv}_cs_\160\162ecede\163" ]) { $value=$_ilw.$_iOy.$_ilz.$value.$_iOw; } else { $value=$_ilw.$value.$_ilz.$_iOy.$_iOw; } if ($width>0) { $value=str_pad($value,$width,$_iOs['fillchar'],$_iOs['isleft'] ? STR_PAD_RIGHT: STR_PAD_LEFT); } $_ilp=str_replace($_ils[0],$value,$_ilp); } return $_ilp; } } if (!class_exists("\113ool\107\162\151d",FALSE)) { require_once (dirname( __FILE__).'/GridIValueMap.php'); function _il10($_iO10) { return _iO0("\053","\040",urlencode($_iO10)); } function _il11($_iO10) { return urldecode(_iO0(" ","+",$_iO10)); } function _iO11($_iO10) { return stripslashes($_iO10); } function _il12($_iO10) { return addslashes($_iO10); } function _iO12($_iO10) { $_iO10=_iO0("\047","&a\160\157s;",$_iO10); $_iO10=_iO0('"',"\046qu\157\164;",$_iO10); return $_iO10; } function _il13($_iO13,$_il14) { if (is_null($_il14)) { return array(); } $_iO14=explode(",",$_il14); $_il15=array(); if ($_iO14 != NULL) { for ($_iO9=0; $_iO9<sizeof($_iO14); $_iO9 ++) { $_iO14[$_iO9]=trim($_iO14[$_iO9]); $_il15[$_iO14[$_iO9]]=$_iO13[$_iO14[$_iO9]]; } } return $_il15; } function _iO15($_iO13) { $_il3=""; foreach ($_iO13 as $_il16) { $_il3.=$_il16; } return md5($_il3); } function _iO16( &$_il17,$_iO17='strcmp',$_il18=NULL) { if (count($_il17)<2) return; $_iO18=count($_il17)/2; $_il19=array_slice($_il17,0,$_iO18); $_iO19=array_slice($_il17,$_iO18); _iO16($_il19,$_iO17,$_il18); _iO16($_iO19,$_iO17,$_il18); if (call_user_func($_iO17,end($_il19),$_iO19[0],$_il18)<1) { $_il17=array_merge($_il19,$_iO19); return; } $_il17=array(); $_il1a=$_iO1a=0; while ($_il1a<count($_il19) && $_iO1a<count($_iO19)) { if (call_user_func($_iO17,$_il19[$_il1a],$_iO19[$_iO1a],$_il18)<1) { $_il17[]=$_il19[$_il1a ++ ]; } else { $_il17[]=$_iO19[$_iO1a ++ ]; } } while ($_il1a<count($_il19)) $_il17[]=$_il19[$_il1a ++ ]; while ($_iO1a<count($_iO19)) $_il17[]=$_iO19[$_iO1a ++ ]; return; } function sortcmp($_il1b,$_iO1b,$_il1c) { if ($_il1b->_iO1c === $_iO1b->_iO1c) return 0; else { if ($_il1c === 'lcfs') return ($_il1b->_iO1c <$_iO1b->_iO1c) ? 1: -1; else if ($_il1c === 'fcfs') return ($_il1b->_iO1c <$_iO1b->_iO1c) ? -1: 1; } } class datasourcefilter { var $Field; var $Expression; var $Value; var $_il1d=FALSE; function __construct($_iO1d,$_il1e,$_iO1e,$_il1f) { $this->Field =$_iO1d; $this->Expression =$_il1e; $this->Value =_il12($_iO1e); $this->_il1d =$_il1f; } } class datasourcesort { var $Field; var $Order; var $_iO1c; function __construct($_iO1d,$_iO1f="A\123C",$_il1g=0) { $this->Field =$_iO1d; $this->Order =$_iO1f; $this->_iO1c =$_il1g; } } class datasourcegroup { var $Field; function __construct($_iO1d) { $this->Field =$_iO1d; } } class datasource { var $Sorts=array(); var $Filters=array(); var $Groups=array(); protected $_iO1g=NULL; public function setvaluemap($_il1h) { $this->_iO1g =$_il1h; } public function getvaluemap() { return $this->_iO1g; } public function getmappedvalue($_iO1e,$_iO1h) { if ( isset ($this->_iO1g)) $_iO1e=$this->_iO1g->mapvalue($_iO1e,$_iO1h); return $_iO1e; } public function getinversemappedvalue($_iO1e,$_iO1h) { if ( isset ($this->_iO1g)) $_iO1e=$this->_iO1g->inversemapvalue($_iO1e,$_iO1h); return $_iO1e; } function count() { } function getfields() { } function getdata($_il1i=0,$_iO1i=046113177) { } function getaggregates($_il6) { } function insert($_il1j) { return FALSE; } function update($_il1j) { return FALSE; } function delete($_il1j) { return FALSE; } function addsort($_iO1j) { array_push($this->Sorts ,$_iO1j); } function addfilter($_il1k) { array_push($this->Filters ,$_il1k); } function addgroup($_iO1k) { array_push($this->Groups ,$_iO1k); } function clear() { $this->Sorts =array(); $this->Filters =array(); $this->Groups =array(); } function geterror() { return ""; } function setcharset($_il1l) { } function _iO1l($_il1m) { return $_il1m; } function getfilterexpression($_il1k) { $_il1e=""; $_iO1e=$this->_iO1l($_il1k->Value); switch ($_il1k->Expression) { case "\105qual": $_il1e="="; break; case "Not\137\105qua\154": $_il1e="\074>"; break; case "Great\145\162_Th\141\156": $_il1e="\076"; break; case "\114ess\137\124\150an": $_il1e="<"; break; case "\107re\141\164er\137\124ha\156\137O\162\137Eq\165\141l": $_il1e=">="; break; case "L\145ss_Th\141\156_O\162\137Eq\165\141l": $_il1e="<="; break; case "Co\156tain": $_il1e="LIK\105"; $_iO1e="\045".$_iO1e."\045"; break; case "N\157\164_Co\156\164ai\156": $_il1e="NOT \114\111\113E"; $_iO1e="\045".$_iO1e."%"; break; case "\123tart_\127\151th": $_il1e="LIKE"; $_iO1e=$_iO1e."%"; break; case "End_\127\151th": $_il1e="\114\111KE"; $_iO1e="%".$_iO1e; break; default : $_il1e=""; } if (!empty($_il1e)) { $_il1m=$_il1k->Field."\040".$_il1e." '".$_iO1e."'"; if ($_il1k->_il1d && empty($_il1k->Value)) $_il1m='('.$_il1m.' or '.$_il1k->Field." is n\165\154l)"; } else $_il1m=""; return $_il1m; } function arrangesorts($MultiSortingOrder) { $_il1c=strtolower($MultiSortingOrder); if ($_il1c === 'right-left') $this->Sorts =array_reverse($this->Sorts); else if ($_il1c === 'fcfs' || $_il1c === 'lcfs') { _iO16($this->Sorts ,'sortcmp',$_il1c); } } } class mysqldatasource extends datasource { var $SelectCommand; var $UpdateCommand; var $InsertCommand; var $DeleteCommand; var $_iO1m; function __construct($_il1n) { $this->_iO1m =$_il1n; } function _iO1l($_il1m) { return mysql_real_escape_string($_il1m); } function count() { $_iO1n="\123ELEC\124\040COUNT\050\052) F\122\117M (".$this->SelectCommand."\051\040AS _T\115\120 \173w\150\145re}"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.=" a\156\144 ".$_il1p; } if ($_il1o != "") { $_il1o="\127\110ERE ".substr($_il1o,5); } $_iO1n=_iO0("\173w\150\145\162e}",$_il1o,$_iO1n); $_iO1p=mysql_query($_iO1n,$this->_iO1m); $_il1q=mysql_result($_iO1p,0,0); mysql_free_result($_iO1p); return $_il1q; } function getfields() { $_iO1q=array(); $_iO1p=mysql_query($this->SelectCommand ,$this->_iO1m); while ($_il1r=mysql_fetch_field($_iO1p)) { $_iO1d=array("N\141\155e" => $_il1r->name ,"Typ\145" => $_il1r->type ,"\116ot_\116\165ll" => $_il1r->not_null); array_push($_iO1q,$_iO1d); } mysql_free_result($_iO1p); return $_iO1q; } function _iO1r() { $_iO1p=mysql_query($this->SelectCommand ,$this->_iO1m); $_il1s=array(); while ($_iO1s=mysql_fetch_assoc($_iO1p)) { array_push($_il1s,$_iO1s); } mysql_free_result($_iO1p); return $_il1s; } function getdata($_il1t=0,$_il1q=046113177) { $_iO1t="\123E\114\105CT \052 FRO\115\040(\173\123e\154\145ct\103\157mm\141nd\175\051 \101\123 _\124\115P \173\167he\162\145} \173\157r\144erb\171\175 \173\147ro\165\160by\175\040\173\154imi\164\175"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.=" a\156d ".$_il1p; } if ($_il1o != "") { $_il1o="WH\105RE ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.="\054 ".$_iO1u[$_iO9]->Field."\040".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="O\122DER B\131\040".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.=", ".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="\107\122OUP B\131\040".substr($_il1v,2); } $_il1w="\114IMI\124\040".$_il1t."\040\054 ".$_il1q; $_iO1w=_iO0("\173Se\154\145\143tCo\155\155\141nd\175",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173whe\162\145}",$_il1o,$_iO1w); $_iO1w=_iO0("\173or\144\145rb\171\175",$_il1u,$_iO1w); $_iO1w=_iO0("\173\147roup\142\171}",$_il1v,$_iO1w); $_iO1w=_iO0("\173\154imit}",$_il1w,$_iO1w); $_iO1p=mysql_query($_iO1w,$this->_iO1m); $_il1s=array(); while ($_iO1s=mysql_fetch_assoc($_iO1p)) { foreach ($_iO1s as $_iO1h => &$_iO1e) $_iO1e=$this->getmappedvalue($_iO1e,$_iO1h); array_push($_il1s,$_iO1s); } mysql_free_result($_iO1p); return $_il1s; } function exportdata($_il1x,$_iO1x,$_il1y,$_il1t=0,$_il1q=046113177) { $_iO1y=''; $_il1z=TRUE; foreach ($_iO1x as $_iO1h) { if (!$_il1z) $_iO1y.=","; $_iO1y.="\042".$_iO1h['HeaderText']."\042 as\040".$_iO1h['DataField']; $_il1z=FALSE; } $_iO1y.="\015\n"; $_iO1t="S\105LECT\040".$_iO1y."\040UN\111\117N \123\105LE\103\124 \052 FRO\115\040(\173\123el\145ct\103\157mm\141\156d}) A\123\040_TMP \173\167here}\040\173ord\145\162by} \173\147roupb\171\175 \173li\155\151t}"; $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.=" a\156\144 ".$_il1p; } if ($_il1o != "") { $_il1o="WHERE ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.=", ".$_iO1u[$_iO9]->Field." ".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="ORDE\122\040BY ".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.=",\040".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="GR\117\125P BY ".substr($_il1v,2); } $_il1w="LIMIT ".$_il1t." \054\040".$_il1q; $_iO1w=_iO0("\173S\145\154\145ctC\157\155mand\175",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173\167\150ere}",$_il1o,$_iO1w); $_iO1w=_iO0("\173\157\162derb\171\175",$_il1u,$_iO1w); $_iO1w=_iO0("\173\147\162oupb\171\175",$_il1v,$_iO1w); $_iO1w=_iO0("\173limit}",$_il1w,$_iO1w); $_iO1w.="\040\111NTO OUT\106\111LE '".$_il1y."' FIE\114\104\123 TER\115\111NATE\104\040BY '".$_il1x->_iO1z."\047 ENCLOS\105\104 BY '".$_il1x->_il20."\047;"; $_iO1p=mysql_query($_iO1w,$this->_iO1m); } function getaggregates($_il6) { $_iO1t="\123E\114\105CT \173\164ex\164\175 \106\122OM\040(\173\123\145l\145ctC\157mma\156d})\040\101S \137\124MP\040\173w\150\145re\175 \173\157rde\162\142y}\040\173g\162\157up\142\171}"; $_il3=""; $_iO20=array(); foreach ($_il6 as $_il21) { if (strpos("\055\174min|m\141\170|first\174\154ast|\143\157\165nt|\163\165m|av\147\174","|".strtolower($_il21["Agg\162\145\147ate"])."|")>0) { $_il3.=", ".$_il21["Aggre\147\141te"]."\050".$_il21["\104\141taFiel\144"].") as ".$_il21["\113ey"]; } } if ($_il3 != "") { $_il3=substr($_il3,2); $_il1o=""; $_iO1o=$this->Filters; for ($_iO9=0; $_iO9<sizeof($_iO1o); $_iO9 ++) { $_il1p=$this->getfilterexpression($_iO1o[$_iO9]); if (!empty($_il1p)) $_il1o.=" and\040".$_il1p; } if ($_il1o != "") { $_il1o="W\110\105RE ".substr($_il1o,5); } $_il1u=""; $_iO1u=$this->Sorts; for ($_iO9=0; $_iO9<sizeof($_iO1u); $_iO9 ++) { $_il1u.="\054 ".$_iO1u[$_iO9]->Field." ".$_iO1u[$_iO9]->Order; } if ($_il1u != "") { $_il1u="O\122DER \102\131 ".substr($_il1u,2); } $_il1v=""; $_iO1v=$this->Groups; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il1v.="\054 ".$_iO1v[$_iO9]->Field; } if ($_il1v != "") { $_il1v="\107ROUP\040\102Y\040".substr($_il1v,2); } $_iO1w=_iO0("\173Sele\143\164Co\155\155an\144}",$this->SelectCommand ,$_iO1t); $_iO1w=_iO0("\173\164ext\175",$_il3,$_iO1w); $_iO1w=_iO0("\173\167here\175",$_il1o,$_iO1w); $_iO1w=_iO0("\173o\162\144erb\171}",$_il1u,$_iO1w); $_iO1w=_iO0("\173gr\157\165pby\175",$_il1v,$_iO1w); $_iO1p=mysql_query($_iO1w,$this->_iO1m); $_iO20=mysql_fetch_assoc($_iO1p); foreach ($_iO20 as $_iO1h => &$_iO1e) $_iO1e=$this->getmappedvalue($_iO1e,$_iO1h); mysql_free_result($_iO1p); } return $_iO20; } function insert($_il1j,$_iO21=array(),&$_il22=array()) { $_iO22=explode(";",$this->InsertCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_iO22); $_iO9 ++) { $_iO22[$_iO9]=preg_replace("/(@".$_ilk.")([\134\051\134\047\042\135*[\134\163;,\135\051/",preg_quote(addslashes($_iO1e))."\0442",$_iO22[$_iO9]); $_iO22[$_iO9]=preg_replace("/(@".$_ilk.")([\134\051\134\047\042\135*\044\051/",preg_quote(addslashes($_iO1e))."\044\062",$_iO22[$_iO9]); } } foreach ($_iO22 as $_il23) { $_il23=trim($_il23); if (!empty($_il23)) if (mysql_query($_il23,$this->_iO1m) == FALSE) { return FALSE; } } foreach ($_iO21 as $_iO23) { if ( isset ($_il1j[$_iO23->IdColumn ])) { array_push($_il22,$_il1j[$_iO23->IdColumn ]); } else { array_push($_il22,mysql_insert_id($this->_iO1m)); } } return TRUE; } function update($_il1j) { $_il24=explode(";",$this->UpdateCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_il24); $_iO9 ++) { $_il24[$_iO9]=preg_replace("/(\100".$_ilk.")([\134\051\134'\042\135\052[\134s\073\054])/",preg_quote(addslashes($_iO1e))."\044\062",$_il24[$_iO9]); $_il24[$_iO9]=preg_replace("\057(@".$_ilk.")([\134\051\134'\042]\052\044)/",preg_quote(addslashes($_iO1e))."\044\062",$_il24[$_iO9]); } } foreach ($_il24 as $_iO24) { if (mysql_query($_iO24,$this->_iO1m) == FALSE) { return FALSE; } } return TRUE; } function delete($_il1j) { $_il25=explode("\073",$this->DeleteCommand); foreach ($_il1j as $_ilk => $_iO1e) { $_iO1e=$this->getinversemappedvalue($_iO1e,$_ilk); for ($_iO9=0; $_iO9<sizeof($_il25); $_iO9 ++) { $_il25[$_iO9]=preg_replace("/(\100".$_ilk."\051([\134\051\134\047\042\135*[\134\163;,]\051/",preg_quote(addslashes($_iO1e))."\044\062",$_il25[$_iO9]); $_il25[$_iO9]=preg_replace("/\050@".$_ilk."\051(\133\134)\134\047\042\135\052\044\051/",preg_quote(addslashes($_iO1e))."\0442",$_il25[$_iO9]); } } foreach ($_il25 as $_iO25) { if (mysql_query($_iO25,$this->_iO1m) == FALSE) { return FALSE; } } return TRUE; } function geterror() { return mysql_error($this->_iO1m); } function setcharset($_il1l) { mysql_set_charset($_il1l,$this->_iO1m); } } class arraydatasource extends datasource { var $_il26; function __construct($_iO26) { $this->_il26 =$_iO26; } function count() { return sizeof($this->_il26); } function getfields() { $_iO1q=array(); $_il27=$this->_il26[0]; foreach ($_il27 as $_iO27 => $_il28) { $_iO1d=array("Nam\145" => $_iO27,"Typ\145" => "","Not\137\116ull" => FALSE); array_push($_iO1q,$_iO1d); } return $_iO1q; } function getdata($_il1i=0,$_iO1i=046113177) { $_iO28=array(); if ($_il1i>$this->count()) return $_iO28; if ($_il1i+$_iO1i>$this->count()) { $_iO1i=$this->count()-$_il1i; } for ($_iO9=0; $_iO9<$_iO1i; $_iO9 ++) { array_push($_iO28,$this->_il26[$_il1i+$_iO9]); } return $_iO28; } } interface _il29 { function _iO29(); function _il2a(); } class _iO2a { var $_il2b; var $_il26; var $_iO2b=TRUE; var $_il2c=FALSE; function _iO2c($_il2d) { $this->_il2b =$_il2d; $this->_il2c =$_il2d->KeepViewStateInSession; $_iO2d=( isset ($_POST[$this->_il2b->_il2e."_v\151ewsta\164\145"])) ? $_POST[$this->_il2b->_il2e."\137vie\167\163\164ate"]: ""; if ($this->_il2c && $_iO2d == "") { $_iO2d=( isset ($_SESSION[$this->_il2b->_il2e."_vie\167state"])) ? $_SESSION[$this->_il2b->_il2e."_view\163tate"]: ""; $this->_il2b->_iO2e->_il2f =TRUE; } if ($_iO2d != "" && $this->_iO2b) { $_iO2d=base64_decode($_iO2d); } $_iO2d=_iO0("\134","",$_iO2d); $this->_il26 =json_decode($_iO2d,TRUE); } function _iO2f() { $_il2g=json_encode($this->_il26); if ($this->_iO2b) { $_il2g=base64_encode($_il2g); } if ($this->_il2c) { $_SESSION[$this->_il2b->_il2e."\137vi\145\167st\141\164e"]=$_il2g; } $_iO2g="<inpu\164\040id='\173\151d}' na\155\145='\173\151\144}' t\171pe=\047hid\144en'\040valu\145\075'\173\166\141lue}'\040\141uto\143om\160\154ete\075'off\047 />"; $_il2h=_iO0("\173\151d}",$this->_il2b->_il2e."\137view\163\164at\145",$_iO2g); $_il2h=_iO0("\173va\154\165e}",$_il2g,$_il2h); return $_il2h; } } class _iO2h { var $_il2i; var $_iO2i; function __construct() { $this->_il2i =array("\111\156ser\164" => "Add N\145\167\040Re\143\157rd","\104\145lete" => "Delet\145","\103onfi\162\155" => "\103onfir\155","Edi\164" => "E\144\151t","Ca\156\143el" => "\103an\143\145l","Refr\145\163h" => "Ref\162\145sh","\104one" => "\104one","Lo\141\144in\147" => "L\157ading\056\056.","Go" => "\107o","N\145\170t" => "Next","P\162ev" => "\120rev","Las\164" => "Las\164","F\151\162st" => "\106ir\163\164","No_F\151\154ter" => "[\116\157 Fi\154ter]","\105qual" => "Eq\165\141l","Not\137\105qua\154" => "\116\157t \105\161ual","\107rea\164\145r_T\150\141n" => "\107reat\145\162 T\150\141n","Less\137Than" => "\114ess \124\150an","G\162\145ate\162\137Tha\156\137O\162_Equ\141l" => "\107re\141\164er \124\150an\040Or E\161\165a\154","Les\163\137Th\141\156_O\162\137E\161\165al" => "\114e\163\163 Th\141\156 O\162\040E\161\165al","Co\156\164ain" => "C\157\156ta\151\156","Not_\103\157nta\151\156" => "No\164\040Co\156\164ain","Start\137\127ith" => "S\164\141rt\040\127it\150","End_\127\151th" => "End\040\127ith"); $this->_iO2i =array("\104elet\145\103onfirm" => "Are \171\157u su\162\145 to\040\144el\145\164e \164\150i\163 ro\167?","Pag\145\111nf\157\124em\160\154a\164\145" => "\120age <\163\164ron\147\076\173\120ageI\156\144e\170\175</\163tro\156g> \151\156 <\163tron\147\076\173\124ota\154\120ag\145\163}\074/s\164\162on\147\076,\040\151t\145\155s \074\163t\162\157ng\076\173Fi\162\163t\111\156de\170\111nP\141\147e}\074/st\162\157n\147> t\157\040<\163\164ro\156\147>\173\114as\164\111n\144\145x\111\156Pa\147e}<\057\163t\162o\156\147> \157f <\163\164ro\156\147>\173\124ot\141lRo\167\163}\074/st\162ong\076.","\115anua\154\120ag\145\162Te\155pla\164\145" => "\103hang\145\040p\141\147e: \173Text\102\157x}\040\050o\146\040\173\124ot\141lPa\147\145} \160\141ge\163\051 \173\107oP\141\147e\102utt\157\156}","\120age\123\151zeT\145\170t" => "\120age Siz\145\072","P\141\147eOverla\160\124ext" => "\120\141\147e Ov\145\162lap:","\116\145xtPag\145\124oolTip" => "Next \120\141ge","PrevPa\147\145\124ool\124\151p" => "Previo\165\163 Page","\106\151rstPage\124\157\157lTip" => "F\151\162st Page","\114astPa\147\145ToolTi\160" => "\114\141st Page","So\162\164\110eade\162\124\157olT\151\160" => "Click\040\150ere to\040\163ort","Sort\101\163cToolTi\160" => "\123\157rt Asc","\123or\164\104esc\124\157olTip" => "\123\157rt Desc","\123\157rtN\157\156eTo\157\154Ti\160" => "N\157\040sort","O\162\144\145r" => "Ord\145\162","In\163\145\162tFor\155\137Confir\155\102utton\124\157olTip" => "Co\156firm \111\156s\145\162t","Inse\162\164For\155\137Ca\156\143e\154\102ut\164onT\157\157lT\151p" => "\103ance\154\040In\163\145rt","Edi\164\106or\155\137Con\146\151r\155\102u\164\164on\124ool\124ip" => "Co\156\146irm\040Chan\147\145s","Ed\151\164For\155\137Ca\156\143e\154\102ut\164\157n\124\157ol\124ip" => "Ca\156\143el \103\150an\147\145s","Re\161\165ire\144\106ie\154\144V\141\154i\144\141to\162_Er\162\157r\115ess\141ge" => "F\151\145ld\040\151s \162\145qu\151\162ed\041","\122\145gu\154\141rE\170\160re\163\163io\156\126a\154\151da\164or_\105rro\162Mes\163\141g\145" => "No\164\040v\141\154id\041","\122angeVa\154\151\144ator\137\105rrorM\145\163sage" => "\126alu\145\040m\165\163t b\145\040in\040rang\145\040[\173Min\126al\165e}\054\173M\141\170Va\154\165e}]","\107\162ou\160\120an\145\154G\165\151d\145\124e\170t" => "Dra\147\040a \143\157lum\156\040he\141\144er\040\141nd\040dr\157p i\164 h\145re\040to \147\162oup\040by \164hat\040colu\155n","\107roup\111\164em\124oolT\151p" => "\104rag ou\164\040of th\145\040bar t\157\040ungro\165\160","\126irtual\123\143rollin\147\120\141geT\157\157\154Tip" => "Pa\147\145 \173\160\141ge\137\151nde\170\175"); } function load($_il2j) { $_iO2j=new domdocument(); $_iO2j->load($_il2j); $_il2k=$_iO2j->getelementsbytagname("\143om\155\141nd\163"); if ($_il2k->length >0) { foreach ($_il2k->item(0)->attributes as $_iO2k) { $this->_il2i[$_iO2k->name ]=$_iO2k->value; } } $_il2k=$_iO2j->getelementsbytagname("\155es\163\141ge\163"); if ($_il2k->length >0) { foreach ($_il2k->item(0)->attributes as $_iO2k) { $this->_iO2i[$_iO2k->name ]=$_iO2k->value; } } } } class _il2l { var $_il2e; var $_il2b; var $_il2i; function __construct($_il2d) { $this->_il2e =$_il2d->_il2e."_cmd"; $this->_iO2l(); } function _iO2l() { if ( isset ($_POST[$this->_il2e ])) { $_iO2d=$_POST[$this->_il2e ]; $_iO2d=base64_decode($_iO2d); $_iO2d=_iO0("\134","",$_iO2d); $this->_il2i =json_decode($_iO2d,TRUE); } } function _iO2f() { $_il2m="<input\040\151d='\173\151\144}' \156\141me='\173\151\144}' \164\171pe=\047\150idd\145\156\047 va\154\165e='' \057\076"; $_ilm=_iO0("\173id}",$this->_il2e ,$_il2m); return $_ilm; } } class gridrow implements _il29 { var $_il2e; var $_iO2m; var $_il2n; var $_iO2n=array(); var $_il2o; var $DataItem; var $Selected=FALSE; var $Expand=FALSE; var $EditMode=FALSE; var $TableView; var $CssClass=""; var $_iO2o=FALSE; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; } function getuniqueid() { return $this->_il2e; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Selected =$_iO2p["Sele\143\164ed"]; $this->Expand =$_iO2p["\105xp\141\156d"]; $this->EditMode =$_iO2p["\105\144itMode"]; $_il2q=$_iO2p["\104at\141\111tem"]; $this->DataItem =array(); foreach ($_il2q as $_iO2q => $_il2r) { $this->DataItem[$_iO2q]=_il11($_il2r); } } } function _il2a() { $_il2q=array(); foreach ($this->DataItem as $_iO2q => $_il2r) { $_il2q[$_iO2q]=_il10($_il2r); } $this->_iO2m->_il26[$this->_il2e ]=array("\123ele\143\164e\144" => $this->Selected ,"Ex\160\141nd" => $this->Expand ,"\104a\164\141Ite\155" => $_il2q,"\105ditM\157\144e" => $this->EditMode); foreach ($this->_iO2n as $_iO2r) { $_iO2r->_il2a(); } } function _il2s($_il2p) { $_il2p->_il2e =$this->_il2e."_dt".sizeof($this->_iO2n); array_push($this->_iO2n ,$_il2p); } function getinstancedetailtables() { return $this->_iO2n; } function gettableview() { return $this->_il2n; } function _iO2s() { $this->_iO29(); if ($this->EditMode) { $this->_il2o =$this->_il2n->EditSettings->_il2t(); $this->_il2o->_iO2c($this->_il2n); $this->_il2o->_iO2t =$this; } if ($this->Expand) { foreach ($this->_il2n->_il2u as $_iO2r) { $_iO2u=$_iO2r->_il2t(); $this->_il2s($_iO2u); $_iO2u->_iO2c($this->_il2n->_il2b ,$this); $_iO2u->_iO2s(); } } } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["\103o\155\155an\144"]) { case "\123el\145\143t": $this->Selected =TRUE; break; case "\125\156select": $this->Selected =FALSE; break; case "Expand": if ($this->_il2n->_il2b->EventHandler->onbeforedetailtablesexpand($this,array()) == TRUE) { $this->Expand =TRUE; $this->_il2n->_il2b->EventHandler->ondetailtablesexpand($this,array()); } break; case "Collap\163\145": if ($this->_il2n->_il2b->EventHandler->onbeforedetailtablescollapse($this,array()) == TRUE) { $this->Expand =FALSE; $this->_iO2n =array(); $this->_il2n->_il2b->EventHandler->ondetailtablescollapse($this,array()); } break; case "\123ta\162\164Edi\164": if ($this->_il2n->AllowEditing) { if ($this->_il2n->_il2b->EventHandler->onbeforerowstartedit($this,array()) == TRUE) { $this->EditMode =TRUE; $this->_il2o =$this->_il2n->EditSettings->_il2t(); $this->_il2o->_il2w ="\123\164artE\144\151t"; $this->_il2o->_iO2c($this->_il2n); $this->_il2o->_iO2t =$this; $this->_il2n->_il2b->EventHandler->onrowstartedit($this,array()); } } break; case "\103\157nfir\155\105dit": if ($this->EditMode) { $this->_il2o->_il2w ="\103onfir\155\105dit"; $this->_il2o->_iO2w(); } break; case "CancelE\144\151\164": if ($this->_il2n->_il2b->EventHandler->onbeforerowcanceledit($this,array()) == TRUE) { $this->EditMode =FALSE; $this->_il2n->_il2b->EventHandler->onrowcanceledit($this,array()); } break; case "Delete": if ($this->_il2n->AllowDeleting) { if ($this->_il2n->_il2b->EventHandler->onbeforerowdelete($this,array()) == TRUE) { $_ilm->_il2i[$this->_il2e ]["Co\155\155and"]="NoM\157\162\145"; $_il2x=$this->_il2n->DataSource->delete($this->DataItem); $this->_il2n->_il2f =TRUE; $_iO2x=$this->_il2n->DataSource->geterror(); if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("E\162\162or" => $_iO2x)); $this->_il2n->_il2b->EventHandler->onrowdelete($this,array("Succes\163\146ul" => $_il2x,"Err\157r" => $_iO2x)); } } break; } } $this->_il2n->_il2b->EventHandler->onrowprerender($this,array()); if ($this->Expand && sizeof($this->_iO2n) == 0) { foreach ($this->_il2n->_il2u as $_iO2r) { $_iO2u=$_iO2r->_il2t(); $this->_il2s($_iO2u); $_iO2u->_iO2c($this->_il2n->_il2b ,$this); } } foreach ($this->_iO2n as $_iO2r) { $_iO2r->_il2v($_ilm); } } function _iO2f() { $_il2y="\074t\162\040id=\047\173\162\157wi\144}' \143\154as\163='k\147rR\157\167 \173alt\175 \173\163\145le\143\164ed\175\040\173\143ssc\154ass\175\047>\173\164ds\175\074/t\162\076"; $_iO2y="\074tr\076\074td\040cla\163\163=\047\153g\162\103e\154\154 \173\141l\164}'\076&#1\0660;</\164\144><\164\144 c\157\154sp\141\156=\047\173co\154\163pa\156\175'\040\143la\163s='\153\147rD\145\164ai\154\124ab\154esP\141\156el\047\076\173\164abl\145\163}<\057td\076</t\162\076"; $_il2z="<\144iv c\154\141ss\075'kg\162\104es\143'>\173\164ext\175</d\151v>"; $_iO2z=""; if ($this->EditMode) { $_iO2z=$this->_il2o->_iO2f(); } else { $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this); $_il30.=$_iO31; } $_iO2z=_iO0("\173\164ds\175",$_il30,$_il2y); } $_iO2z=_iO0("\173rowi\144\175",$this->_il2e ,$_iO2z); $_iO2z=_iO0("\173sel\145\143te\144}",$this->Selected ? "k\147rRow\123\145l\145\143te\144": "",$_iO2z); $_iO2z=_iO0("\173al\164\175",$this->_iO2o ? "kg\162AltRo\167": "",$_iO2z); $_iO2z=_iO0("\173c\163\163cla\163s}",$this->CssClass ,$_iO2z); if (sizeof($this->_iO2n)>0) { $_il32=""; foreach ($this->_iO2n as $_iO2r) { $_iO32=""; if ($_iO2r->_il33 !== NULL) { $_iO32=_iO0("\173t\145\170t}",$_iO2r->_il33 ,$_il2z); foreach ($this->DataItem as $_iO27 => $_il28) { $_iO32=_iO0("\173".$_iO27."}",$_il28,$_iO32); } } $_iO33=$_iO32.$_iO2r->_iO2f(); $_il32.=$_iO33; } $_il34=_iO0("\173col\163\160\141n}",sizeof($this->_il2n->_iO30)-1,$_iO2y); $_il34=_iO0("\173a\154\164\175",$this->_iO2o ? "\153grAlt\122\157w": "",$_il34); $_il34=_iO0("\173\164\141bles\175",$_il32,$_il34); $_iO2z.=$_il34; } return $_iO2z; } } class _iO34 { var $Wrap; var $Align; var $Valign; function _iO2c($_il31) { if ($this->Wrap === NULL) $this->Wrap =$_il31->Wrap; if ($this->Align === NULL) $this->Align =$_il31->Align; if ($this->Valign === NULL) $this->Valign =$_il31->Valign; } function _il35() { return "\167hite-\163\160ace:".(($this->Wrap) ? "\156\157rmal": "nowra\160").";"; } function _iO35() { return ($this->Align) ? "text-a\154\151gn:".$this->Align.";": ""; } function _il36() { return ($this->Valign) ? "val\151\147n='".$this->Valign."' ": ""; } } class gridvalidator { var $ErrorMessage; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { return TRUE; } } class requiredfieldvalidator extends gridvalidator { function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if ($_iO1e === NULL || $_iO1e == "") { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["Re\161uire\144\106ie\154\144Va\154\151d\141\164or\137\105r\162\157r\115es\163\141g\145"]; return FALSE; } return TRUE; } } class regularexpressionvalidator extends gridvalidator { var $ValidationExpression=""; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if (!preg_match($this->ValidationExpression ,$_iO1e)) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["\122egul\141\162Expre\163\163ionV\141\154idato\162\137Error\115\145ssa\147\145"]; return FALSE; } return TRUE; } } class rangevalidator extends gridvalidator { var $MinValue; var $MaxValue; function __construct($_iO36=NULL,$_il37=NULL) { if ($_iO36 !== NULL) $this->MinValue =$_iO36; if ($_il37 !== NULL) $this->MaxValue =$_il37; } function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { if ($_iO1e>$this->MaxValue || $_iO1e<$this->MinValue) { if ($this->ErrorMessage === NULL) $this->ErrorMessage =$_il31->_il2n->_il2b->Localization->_iO2i["Rang\145\126alida\164\157r_Erro\162\115essa\147\145"]; $this->ErrorMessage =_iO0("\173\115\151nValue\175",$this->MinValue ,$this->ErrorMessage); $this->ErrorMessage =_iO0("\173\115\141xValu\145\175",$this->MaxValue ,$this->ErrorMessage); return FALSE; } return TRUE; } } class customvalidator extends gridvalidator { var $ValidateFunction; function validate($_iO1e,$_il2q=NULL,$_iO1s=NULL,$_il31=NULL) { $_iO37=$this->ValidateFunction; if ($_iO37 !== NULL) { $_il38=$_iO37($_iO1e); if ($_il38 !== NULL) { $this->ErrorMessage =$_il38; return FALSE; } } return TRUE; } } class gridcolumn implements _il29 { var $_il2e; var $_iO2m; var $_il2n; var $_iO38; var $ReadOnly=FALSE; var $TableView; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $AllowExporting=TRUE; var $Width; var $Visible=TRUE; var $Filter; var $FilterOptions; var $_il39; var $HeaderText; var $FooterText; var $DataField; var $DataFieldPrefix; var $Sort=0; var $_iO1c=0; var $Group=FALSE; var $GroupIndex=0; var $GroupSettings; var $HeaderStyle; var $ItemStyle; var $FooterStyle; var $Wrap; var $Align; var $Valign; var $CssClass=""; var $DefaultValue=NULL; var $NullDisplayText; var $Aggregate; var $_iO39; var $_il1d=FALSE; function __construct() { $this->HeaderStyle =new _iO34(); $this->FooterStyle =new _iO34(); $this->ItemStyle =new _iO34(); $this->_iO38 =array(); $this->GroupSettings =new _il3a(); } function getuniqueid() { return $this->_il2e; } function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il2n->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il2n->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il2n->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il2n->AllowGrouping; if ($this->Width === NULL) $this->Width =$this->_il2n->ColumnWidth; if ($this->Wrap === NULL) $this->Wrap =$this->_il2n->ColumnWrap; if ($this->Align === NULL) $this->Align =$this->_il2n->ColumnAlign; if ($this->Valign === NULL) $this->Valign =$this->_il2n->_iO3a; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il2n->FilterOptions; $this->HeaderStyle->_iO2c($this); $this->FooterStyle->_iO2c($this); $this->ItemStyle->_iO2c($this); if ($this->Filter === NULL) { $this->Filter =array("Val\165e" => "","\105\170p" => "N\157\137Filter"); } if ($this->_il39 === NULL) { $this->_il39 =array($this->Filter); } $this->GroupSettings->_il3b =$this; } function addvalidator($_iO3b) { array_push($this->_iO38 ,$_iO3b); } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Sort =$_iO2p["Sort"]; $this->_iO1c =$_iO2p["SortOr\144\145r"]; $this->Group =$_iO2p["\107\162oup"]; $this->Width =$_iO2p["\127\151dth"]; $this->Visible =$_iO2p["\126isib\154\145"]; $this->_iO39 =_il11($_iO2p["A\147gRes"]); $_il1k=$_iO2p["\106ilter"]; $_il1k["V\141lue"]=_il11($_il1k["\126a\154\165e"]); $this->Filter =$_il1k; $_il3c=$_iO2p["\115\165ltiFi\154\164ers"]; foreach ($_il3c as $_iO3c) { $_iO3c["\126alue"]=_il11($_iO3c["Value"]); } $this->_il39 =$_il3c; } } function _il2a() { $_il1k=$this->Filter; $_il1k["\126alue"]=_il10($_il1k["\126\141lue"]); $_il3c=$this->_il39; foreach ($_il3c as $_iO3c) { $_iO3c["\126alue"]=_il10($_iO3c["V\141lue"]); } $this->_iO2m->_il26[$this->_il2e ]=array("\116ame" => $this->DataField ,"Sort" => $this->Sort ,"\123or\164\117rde\162" => $this->_iO1c ,"\107rou\160" => $this->Group ,"\126is\151\142le" => $this->Visible ,"\106\151lt\145\162" => $_il1k,"M\165\154tiFil\164\145rs" => $_il3c,"W\151\144\164h" => $this->Width ,"AggRes" => _il10($this->_iO39)); } function _il2v($_ilm) { $_il3d=$this->_il2n; $_il2d=$_il3d->_il2b; $_iO3d=$_il2d->EventHandler; if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["C\157mman\144"]) { case "So\162\164": if ($_iO3d->onbeforecolumnsort($this,array("NewS\157\162t" => $_iO2v["A\162gs"]["\123ort"])) == TRUE) { if ($_il3d->SingleColumnSorting) { foreach ($_il3d->_iO30 as $_il31) { $_il31->Sort =0; } $_il3d->DataSource->Sorts =array(); } $this->Sort =$_iO2v["\101r\147\163"]["So\162\164"]; $this->_iO1c =$_iO2v["Arg\163"]["So\162\164Or\144\145r"]; $_il3d->_il2f =TRUE; $_iO3d->oncolumnsort($this,array()); } break; case "\106ilt\145\162": if ($_iO3d->onbeforecolumnfilter($this,array("F\151\154te\162\126alu\145" => $_iO2v["Args"]["\106il\164\145r"]["\126al\165\145"],"\106il\164\145rEx\160" => $_iO2v["\101rgs"]["Filte\162"]["Exp"])) == TRUE) { $this->Filter["\105xp"]=$_iO2v["Arg\163"]["Fi\154ter"]["Exp"]; if ($_iO2v["\101rg\163"]["Post"]) { $this->_il39 =$this->_il3e(); $this->Filter["Val\165\145"]=$this->getfiltervalue(); } else { $this->Filter["\126\141lue"]=_il11($_iO2v["A\162\147s"]["\106ilte\162"]["Valu\145"]); } $_il3d->_il2f =TRUE; $_iO3d->oncolumnfilter($this,array()); } break; case "A\144dFil\164\145r": array_push($this->_il39 ,array("Valu\145" => "","Exp" => "No\137\106il\164\145r")); break; case "\122emove\106\151lte\162": array_splice($this->_il39 ,$_iO2v["\101\162gs"]["Ind\145\170"],1); $_il3d->_il2f =TRUE; break; case "\107ro\165p": if ($this->Group == FALSE) { $_iO3e=$_iO2v["\101rgs"]["\120\157si\164\151on"]; if ($_iO3d->onbeforecolumngroup($this,array("\120osi\164\151o\156" => $_iO3e)) == TRUE && $_iO3d->onbeforeaddgroup($_il3d,array("Pos\151tion" => $_iO3e)) == TRUE) { $_il3f=$this->GroupSettings; $_il3f->_iO2c($_il3d); if ($_iO3e === NULL || ($_iO3e>=sizeof($this->TableView->_iO3f))) { array_push($_il3d->_iO3f ,$_il3f); } else { $_il3g=array(); for ($_iO9=0; $_iO9<sizeof($_il3d->_iO3f); $_iO9 ++) { if ($_iO3e == $_iO9) { array_push($_il3g,$_il3f); } array_push($_il3g,$_il3d->_iO3f[$_iO9]); } $_il3d->_iO3f =$_il3g; } for ($_iO9=0; $_iO9<sizeof($_il3d->_iO3f); $_iO9 ++) { $_il3d->_iO3f[$_iO9]->_il2e =$_il3d->_il2e."\137g\155".$_iO9; } $this->Group =TRUE; $_iO3d->oncolumngroup($this,array("\120os\151\164io\156" => $_iO3e)); $_iO3d->onaddgroup($_il3d,array("\120osition" => $_iO3e)); $_il3d->_il2f =TRUE; } } break; case "Un\107\162oup": if ($_iO3d->onbeforecolumnremovegroup($this,array()) == TRUE && $_iO3d->onbeforeremovegroup($_il3d,array("\107rou\160\106ie\154\144" => $this->DataField)) == TRUE) { $_il3g=array(); for ($_iO9=0; $_iO9<sizeof($_il3d->_iO3f); $_iO9 ++) { if ($_il3d->_iO3f[$_iO9]->GroupField != $this->DataField) { array_push($_il3g,$_il3d->_iO3f[$_iO9]); } } $_il3d->_iO3f =$_il3g; for ($_iO9=0; $_iO9<sizeof($_il3d->_iO3f); $_iO9 ++) { $_il3d->_iO3f[$_iO9]->_il2e =$_il3d->_il2e."_g\155".$_iO9; } $this->Group =FALSE; $_iO3d->oncolumnremovegroup($this,array()); $_iO3d->onremovegroup($_il3d,array("\107rou\160\106ie\154\144" => $this->DataField)); $_il3d->_il2f =TRUE; } break; } } if ($_il3d->_iO3g <$this->_iO1c) $_il3d->_iO3g =$this->_iO1c; if ($_il3d->_il3h >$this->_iO1c) $_il3d->_il3h =$this->_iO1c; if ($this->Sort != 0) { $_il3d->DataSource->addsort(new datasourcesort($this->DataFieldPrefix.$this->DataField ,($this->Sort <0) ? "\104ESC": "ASC",$this->_iO1c)); } if (count($this->_il39)>0) { foreach ($this->_il39 as $_il1k) { $_iO3h=new datasourcefilter($this->DataFieldPrefix.$this->DataField ,$_il1k["\105xp"],$_il1k["\126a\154\165e"],$this->_il1d); if ($_il1k["\105xp"] !== "N\157_Filt\145\162") $_il3d->DataSource->addfilter($_iO3h); } } } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcolumn(); } $_il3i->ReadOnly =$this->ReadOnly; $_il3i->HeaderText =$this->HeaderText; $_il3i->FooterText =$this->FooterText; $_il3i->DataField =$this->DataField; $_il3i->DataFieldPrefix =$this->DataFieldPrefix; $_il3i->AllowSorting =$this->AllowSorting; $_il3i->AllowResizing =$this->AllowResizing; $_il3i->AllowFiltering =$this->AllowFiltering; $_il3i->AllowGrouping =$this->AllowGrouping; $_il3i->AllowExporting =$this->AllowExporting; $_il3i->Width =$this->Width; $_il3i->Visible =$this->Visible; $_il3i->Sort =$this->Sort; $_il3i->Filter =$this->Filter; $_il3i->_il39 =$this->_il39; $_il3i->FilterOptions =$this->FilterOptions; $_il3i->Wrap =$this->Wrap; $_il3i->Align =$this->Align; $_il3i->Valign =$this->Valign; $_il3i->HeaderStyle =$this->HeaderStyle; $_il3i->FooterStyle =$this->FooterStyle; $_il3i->ItemStyle =$this->ItemStyle; $_il3i->CssClass =$this->CssClass; $_il3i->_iO38 =$this->_iO38; $_il3i->Aggregate =$this->Aggregate; $_il3i->DefaultValue =$this->DefaultValue; $_il3i->NullDisplayText =$this->NullDisplayText; $_il3i->_il1d =$this->_il1d; $_il3i->Group =$this->Group; $_il3i->GroupIndex =$this->GroupIndex; $_il3i->GroupSettings =$this->GroupSettings->_il2t(); return $_il3i; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function formeditrender($_iO1s) { return $this->inlineeditrender($_iO1s); } function format($_iO1e) { return mb_check_encoding($_iO1e,'UTF-8') ? $_iO1e: utf8_encode($_iO1e); } function render($_iO1s) { return $this->format($_iO1s->DataItem[$this->DataField ]); } function renderexport($_iO1s) { return $this->render($_iO1s); } function _iO2f($_iO1s) { $_iO3i="\074td id=\047\173id}'\040\143lass\075\047kgrC\145\154l \173\163\157rte\144\175 \173v\151\163ible}\040\173csscl\141\163s} \173\143\163scla\163\163es}' \173\166align\175\076<div \143\154ass='\153\147rIn' \163\164yle='\173\167rap}\173\141\154ign}\047\076\173c\145\154l}</\144\151v></t\144\076"; $_iO31=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e ,$_iO3i); $_il3j=strtolower($_SERVER["\110TTP\137\125\123ER_\101\107ENT"]); $_iO3j=(strpos($_il3j,"ms\151\145 6") !== FALSE) && (strpos($_il3j,"m\163\151e 7") === FALSE) && (strpos($_il3j,"\155sie\040\070") === FALSE) && (strpos($_il3j,"\157\160era") === FALSE); $_il3k=(strpos($_il3j,"ms\151\145 7") !== FALSE) && (strpos($_il3j,"\157pera") === FALSE); $_iO31=_iO0("\173visi\142\154e}",($this->Visible || $_iO3j || $_il3k) ? "": "\153gr\110\151dd\145n",$_iO31); $_iO31=_iO0("\173wrap}",$this->ItemStyle->_il35(),$_iO31); $_iO31=_iO0("\173a\154\151\147n}",$this->ItemStyle->_iO35(),$_iO31); $_iO31=_iO0("\173valig\156\175",$this->ItemStyle->_il36(),$_iO31); $_iO31=_iO0("\173\163orted\175",($this->Sort != 0) ? "kgrSor\164\145\144": "",$_iO31); $_iO31=_iO0("\173cssclas\163\175",$this->CssClass ,$_iO31); $_iO3k=$this->_il2n->CssClasses; $_iO31=_iO0("\173\143ss\143\154ass\145\163}",isset ($_iO3k['cell']) ? $_iO3k['cell']: '',$_iO31); if ($this->DataField !== NULL && $this->NullDisplayText !== NULL) { $_iO31=_iO0("\173\143\145ll}",($_iO1s->DataItem[$this->DataField ] === NULL) ? $this->NullDisplayText : $this->render($_iO1s),$_iO31); } else { $_iO31=_iO0("\173\143\145ll}",$this->render($_iO1s),$_iO31); } return $_iO31; } function _il3l($_iO1s) { $_iO3i="<\164d id=\047\173i\144}' c\154\141s\163\075'k\147rCel\154 \173\166isi\142le}\040\173c\163scla\163ses\175\047 \173\166ali\147\156}\076<div\040cla\163\163='\153\147rI\156' st\171\154e\075\047\173\167rap\175\173al\151\147n\175\047 >\173\143e\154\154}<\057div\076</\164\144>"; $_iO31=_iO0("\173id\175",$_iO1s->_il2e."\137".$this->_il2e ,$_iO3i); $_iO31=_iO0("\173\143ell\175",$this->inlineeditrender($_iO1s),$_iO31); $_il3j=strtolower($_SERVER["HTT\120_USER\137\101G\105\116T"]); $_iO3j=(strpos($_il3j,"\155sie\040\066") !== FALSE) && (strpos($_il3j,"\155si\145\0407") === FALSE) && (strpos($_il3j,"\155sie 8") === FALSE) && (strpos($_il3j,"o\160era") === FALSE); $_il3k=(strpos($_il3j,"m\163ie 7") !== FALSE) && (strpos($_il3j,"\157per\141") === FALSE); $_iO31=_iO0("\173\166isib\154e}",($this->Visible || $_iO3j || $_il3k) ? "": "\153grHi\144\144en",$_iO31); $_iO31=_iO0("\173wrap\175",$this->ItemStyle->_il35(),$_iO31); $_iO31=_iO0("\173\141\154ign\175",$this->ItemStyle->_iO35(),$_iO31); $_iO31=_iO0("\173\166alig\156}",$this->ItemStyle->_il36(),$_iO31); $_iO3k=$this->_il2n->CssClasses; $_iO31=_iO0("\173\143\163scl\141\163se\163\175",isset ($_iO3k['cell']) ? $_iO3k['cell']: '',$_iO31); return $_iO31; } function _iO3l($_iO1s) { $_il2y="<\164r sty\154\145='\167\150it\145\055s\160ace:\156\157wr\141p'>\074td\040\166a\154\151gn\075'top\047 st\171\154e=\047\167id\164h:2\160\170;'\076<lab\145\154 c\154\141s\163\075'k\147rCap\164ion'\040for\075\047\173\151d}'\076\173t\145\170t\175\072<\057\154a\142\145l>\074/td\076<td \166alig\156='t\157\160'\076\074d\151v c\154\141ss\075'kg\162Inp\165t'>\173\151np\165\164}\074\057d\151\166><\057td>\074/tr\076"; $_iO2z=_iO0("\173\164ext\175",$this->HeaderText ,$_il2y); $_iO2z=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."_input",$_iO2z); $_iO2z=_iO0("\173inp\165\164}",$this->formeditrender($_iO1s),$_iO2z); return $_iO2z; } function geteditvalue($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."\137".$this->_il2e."_inp\165\164"]; if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("\125TF-\070",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function _il3m() { $_iO3m="\074c\157\154 id\075'\173\151d}'\040na\155\145=\047\173i\144\175'\040st\171\154e\075'\173\167\151dt\150}' c\154\141ss\075'\173\162esi\172\141bl\145} \173\166isi\142\154e\175\040\173\147rou\160able\175'/>"; $_il31=_iO0("\173i\144\175",$this->_il2e ,$_iO3m); $_il31=_iO0("\173resi\172\141bl\145\175",($this->AllowResizing) ? "\153g\162\122esi\172able": "",$_il31); $_il31=_iO0("\173\147rou\160\141bl\145\175",($this->AllowGrouping) ? "\153grG\162\157up\141\142le": "",$_il31); $_il31=_iO0("\173\167idth\175",($this->Width != NULL) ? "wid\164h:".$this->Width.";": "",$_il31); $_il31=_iO0("\173vi\163\151bl\145\175",($this->Visible) ? "": "kgr\110\151dd\145\156",$_il31); return $_il31; } function renderheader() { $_il3d=$this->_il2n; $_il3n=$_il3d->_il2b->Localization->_iO2i; $_iO3n="<\164\150 i\144=\047\173\151\144}\047 cla\163\163='\153grH\145\141d\145\162 \173visi\142le} \173\163or\164\145d}\040\173c\163\163c\154ass\145\163}'\040\173v\141lig\156}><d\151\166 \143\154as\163='k\147rIn'\040sty\154e='\173\167ra\160}\173\141lig\156}'>\173tex\164}&#\06160;\173sig\156\175</\144\151v\076</t\150\076"; $_il3o="<a hr\145\146='j\141\166asc\162\151p\164\072void\040\060' cl\141ss=\047\153gr\123ort\110\145ad\145\162Te\170\164' \157\156cl\151\143k=\047grid\137\163or\164\050\042\173id}\042\054\173\163ort}\054 \173\163\157rt\117\162de\162\175)\047\040t\151\164le\075'\173\164\151t\154\145}\047\076\173\164ex\164}</\141\076"; $_iO3o="\074i\156\160ut \164\171pe\075\047b\165tto\156\047 c\154ass\075'n\157\144ec\157r k\147\162So\162t\173\144\151r\175\047 o\156\143l\151\143k=\047gri\144\137so\162\164(\042\173id\175\042,\173\163or\164}, \173\163or\164\117rd\145\162})\047 ti\164\154e=\047\173t\151\164le\175' />"; $_il3p=_iO0("\173id}",$this->_il2e."_h\144",$_iO3n); if ($this->AllowSorting) { $_iO1j=0; $_il1g=$_il3d->_iO3g +1; $_iO3p="N\157\156e"; switch ($this->Sort) { case 0: $_iO1j=1; $_iO3p="Non\145"; break; case 1: $_iO1j=-1; $_iO3p="Asc"; break; case -1: $_iO1j=0; $_iO3p="\104es\143"; break; } $_il3q=_iO0("\173i\144\175",$this->_il2e ,$_il3o); $_il3q=_iO0("\173sort}",$_iO1j,$_il3q); $_il3q=_iO0("\173so\162\164Or\144\145r}",$_il1g,$_il3q); $_il3q=_iO0("\173text\175",$this->HeaderText ,$_il3q); $_il3q=_iO0("\173titl\145\175",$_il3n["Sor\164He\141\144er\124\157ol\124ip"],$_il3q); $_iO3q=_iO0("\173id\175",$this->_il2e ,$_iO3o); $_iO3q=_iO0("\173\163\157rt\175",$_iO1j,$_iO3q); $_iO3q=_iO0("\173\163ortOr\144\145r\175",$_il1g,$_iO3q); $_iO3q=_iO0("\173di\162\175",$_iO3p,$_iO3q); $_iO3q=_iO0("\173\164itl\145\175",$_il3n["\123ort".$_iO3p."\124oolTi\160"].($this->Sort !== 0 ? ' '.$_il3n["O\162der"].' '.$this->_iO1c : ''),$_iO3q); $_il3p=_iO0("\173text\175",$_il3q,$_il3p); $_il3p=_iO0("\173\163\151gn}",$_iO3q,$_il3p); } else { $_il3p=_iO0("\173\164ext}",$this->HeaderText ,$_il3p); $_il3p=_iO0("\173\163ign}","",$_il3p); } $_il3j=strtolower($_SERVER["H\124TP_U\123\105R_\101GENT"]); $_iO3j=(strpos($_il3j,"\155sie \066") !== FALSE) && (strpos($_il3j,"msie\0407") === FALSE) && (strpos($_il3j,"msie\0408") === FALSE) && (strpos($_il3j,"\157pera") === FALSE); $_il3k=(strpos($_il3j,"msie\0407") !== FALSE) && (strpos($_il3j,"op\145ra") === FALSE); $_il3p=_iO0("\173visi\142\154e}",($this->Visible || $_iO3j || $_il3k) ? "": "\153\147rHidd\145\156",$_il3p); $_il3p=_iO0("\173\163orted\175",($this->Sort != 0) ? "\153grSorte\144": "",$_il3p); $_il3p=_iO0("\173wrap}",$this->HeaderStyle->_il35(),$_il3p); $_il3p=_iO0("\173ali\147\156}",$this->HeaderStyle->_iO35(),$_il3p); $_il3p=_iO0("\173\166align}",$this->HeaderStyle->_il36(),$_il3p); $_iO3k=$this->_il2n->CssClasses; $_il3p=_iO0("\173c\163\163\143las\163\145s}",isset ($_iO3k['header']) ? $_iO3k['header']: '',$_il3p); return $_il3p; } function renderfooter() { $_il3r="<td i\144\075'\173i\144\175' cla\163\163='kg\162\106ooter\040\173vi\163\151ble}\047\040\173v\141\154ign}>\074\144iv cl\141\163s='k\147\162In' s\164\171le='\173\167\162ap}\173\141\154ign\175\047><spa\156\040clas\163\075'kgrF\157\157terTe\170\164'>\173\164\145xt}&\043\06160;<\057\163pan>\074\057div>\074\057td>"; $_iO3r=_iO0("\173\151d}",$this->_il2e."_ft",$_il3r); $_il3=$this->FooterText; if ($this->Aggregate !== NULL) { $_il3s=new gridrow(); $_il3s->DataItem[$this->DataField ]=$this->_iO39; $_il3.=$this->render($_il3s); } $_iO3r=_iO0("\173\164\145xt}",$_il3,$_iO3r); $_il3j=strtolower($_SERVER["\110TTP_US\105\122_AGENT"]); $_iO3j=(strpos($_il3j,"msie 6") !== FALSE) && (strpos($_il3j,"\155\163ie 7") === FALSE) && (strpos($_il3j,"ms\151\145\0408") === FALSE) && (strpos($_il3j,"ope\162\141") === FALSE); $_il3k=(strpos($_il3j,"msie 7") !== FALSE) && (strpos($_il3j,"\157\160era") === FALSE); $_iO3r=_iO0("\173v\151\163\151ble\175",($this->Visible || $_iO3j || $_il3k) ? "": "\153grH\151\144\144en",$_iO3r); $_iO3r=_iO0("\173\167\162\141p}",$this->FooterStyle->_il35(),$_iO3r); $_iO3r=_iO0("\173align}",$this->FooterStyle->_iO35(),$_iO3r); $_iO3r=_iO0("\173vali\147\156}",$this->FooterStyle->_il36(),$_iO3r); return $_iO3r; } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_iO3s="\074div cl\141\163s='kgr\105\144itIn\047\076<inpu\164\040clas\163\075'k\147\162FiEnT\162\047 type\075\047text\047\040id='\173\151d}' n\141\155e='\173\151\144}[]' \166\141lue='\173\164ext}'\040\157nblur\075\047grid\137\146ilter\137\164rigge\162\050\042\173\143\157lid\175\042,thi\163\051' st\171\154e='wi\144\164h:100\045\073' />\074\057div>"; $_il3t=_iO0("\173\151d}",$this->_il2e."\137\146ilter\137\151nput",$_iO3s); $_il3t=_iO0("\173\143\157\154id}",$this->_il2e ,$_il3t); $_il3t=_iO0("\173\164\145\170t}",_iO12($_il1k["Va\154\165e"]),$_il3t); return $_il3t; } function _il3e() { $_iO3t=$this->_il2e."\137filter_\151\156\160ut"; $_il3u=$this->_il2e."\137filte\162\137select"; $_iO3u=$_POST[$_iO3t]; $_il3v=$_POST[$_il3u]; $_iO1o=array(); foreach ($_iO3u as $_iO2q => $_iO3v) { $_iO3v=$this->getfiltervalue($_iO3v); array_push($_iO1o,array("\126alue" => $_iO3v,"Exp" => $_il3v[$_iO2q])); } return $_iO1o; } function getfiltervalue($_iO1e=NULL) { if ($_iO1e === NULL) { $_iO1e=$_POST[$this->_il2e."_\146\151lter_\151\156put"][0]; } if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("\125TF-8",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function _il3w() { $_iO3w="\074\164d id=\047\173id}' \143\154ass='\153\147rFilt\145\162Cel\154\040\173v\151\163ible}\040\173csscl\141\163ses}'\076\173conte\156\164}</t\144\076"; $_il3x="&\043\06160;"; $_il3j=strtolower($_SERVER["\110TTP_U\123\105R_AGEN\124"]); $_iO3j=(strpos($_il3j,"\155\163ie 6") !== FALSE) && (strpos($_il3j,"msi\145\0407") === FALSE) && (strpos($_il3j,"msi\145\0408") === FALSE) && (strpos($_il3j,"\157\160era") === FALSE); $_il3k=(strpos($_il3j,"\155sie 7") !== FALSE) && (strpos($_il3j,"opera") === FALSE); $_iO3x=_iO0("\173\151d}",$this->_il2e."_\146\154t",$_iO3w); $_iO3x=_iO0("\173vi\163\151bl\145\175",($this->Visible || $_iO3j || $_il3k) ? "": "k\147rHid\144\145n",$_iO3x); if ($this->AllowFiltering) { $_il3y="<div c\154\141ss='k\147\162\111n'\076\074div>\173\151nput\175\074/di\166\076<div\076\173sele\143\164\175</d\151\166></div\076"; $_iO3y="\074\163elect\040\151d='\173\151\144}' n\141\155e='\173\151\144}[]\047\040onc\150\141nge='\147\162id_fi\154\164\145r_t\162\151\147ge\162\050\042\173\143\157lid}\042\054this)\047\040styl\145\075'widt\150\072100%\047\076<opt\147\162oup l\141\142el='F\151\154ter\047\076\173o\160\164ions}\074\057opt\147\162oup><\157\160tgro\165\160 labe\154\075'Act\151\157n'><o\160\164ion \166\141lue='\141\144dFil\164\145r'>Ad\144\040filt\145\162</op\164\151on><o\160\164ion \166\141lue=\047\162emov\145\106ilte\162\047>Rem\157\166e f\151\154ter<\057\157pti\157\156></o\160\164grou\160\076</se\154\145ct>"; $_il3z="<\157\160tion va\154\165e='\173\166\141lue}\047\040\173se\154\145cte\144\175 >\173\164\145xt}</\157\160tion>"; $_iO3z=$this->FilterOptions; $_iO1o=$this->_il39; foreach ($_iO1o as $_il1k) { $_il40=""; for ($_iO9=0; $_iO9<sizeof($_iO3z); $_iO9 ++) { $_iO40=_iO0("\173value}",$_iO3z[$_iO9],$_il3z); $_iO40=_iO0("\173\164ext\175",$this->_il2n->_il2b->Localization->_il2i[$_iO3z[$_iO9]],$_iO40); $_iO40=_iO0("\173\163\145lec\164\145d}",($_il1k["\105\170p"] == $_iO3z[$_iO9]) ? "\163\145lec\164\145d": "",$_iO40); $_il40.=$_iO40; } $_il41=_iO0("\173id}",$this->_il2e."\137fi\154\164er\137\163e\154\145c\164",$_iO3y); $_il41=_iO0("\173\143oli\144\175",$this->_il2e ,$_il41); $_il41=_iO0("\173\157ption\163\175",$_il40,$_il41); $_il3x=_iO0("\173\163elec\164\175",$_il41,$_il3y); $_il3x=_iO0("\173in\160\165t}",$this->renderfilter($_il1k),$_il3x); $_iO3x=_iO0("\173c\157\156ten\164}",$_il3x."\173\143ont\145\156t}",$_iO3x); } } $_iO3x=_iO0("\173co\156\164ent\175","",$_iO3x); $_iO3k=$this->_il2n->CssClasses; $_iO3x=_iO0("\173\143ssclas\163es}",isset ($_iO3k['filter cell']) ? $_iO3k['filter cell']: '',$_iO3x); return $_iO3x; } } class _iO41 extends gridcolumn { var $AllowHtmlRender=FALSE; function render($_iO1s) { $_il42=$this->format($_iO1s->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il42=_iO0("<","\046#6\060\073",$_il42); $_il42=_iO0(">","&\043\0662;",$_il42); } return $_il42; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new _iO41(); } parent::createinstance($_il3i); $_il3i->AllowHtmlRender =$this->AllowHtmlRender; return $_il3i; } } class gridboundcolumn extends _iO41 { var $MaxLength=-1; var $_iO42=''; var $_il43=NULL; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->MaxLength >-1) { $_iO43=new regularexpressionvalidator(); $_iO43->ValidationExpression = "/^\056\1730,$this->MaxLength}\044\057"; if (!empty($this->_iO42)) $_iO43->ErrorMessage =$this->_iO42; else $_iO43->ErrorMessage = "Ple\141\163e ente\162\040less \164\150an o\162\040equa\154\040to $this->MaxLength c\150\141racters\056"; $this->addvalidator($_iO43); $this->_il43 =$_iO43; } } function setlengtherrormessage($_il44) { $this->_iO42 =$_il44; if ( isset ($this->_il43)) $this->_il43->ErrorMessage =$_il44; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO44="\074d\151\166 cl\141ss='\153\147rE\144\151tI\156\040kg\162ECap\047\076<i\156\160ut id\075\047\173id\175\047 cla\163\163='kgrE\156\116oPo'\040\156ame=\047\173id}' \164\171pe='t\145\170t' va\154\165e='\173\166\141lue}\047\040\173ma\170\154ength\175\040 styl\145\075'wi\144\164h:100\045\047 /><\057\144iv>"; $_il45=_iO0("\173i\144\175",$_iO1s->_il2e."_".$this->_il2e."\137inpu\164",$_iO44); $_il45=_iO0("\173m\141\170len\147\164h}",$this->MaxLength >-1 ? "\155axle\156\147th\075$this->MaxLength" : "",$_il45); $_il45=_iO0("\173\166alue}",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il45); return $_il45; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO44="\074in\160\165t \151\144='\173\151d}\047 cla\163s='\153\147rE\156NoP\157' n\141me=\047\173id\175\047 \164\171pe\075\047t\145\170t\047\040v\141\154ue\075'\173\166alu\145\175' \173\155ax\154\145n\147\164h}\040\163t\171\154e=\047wid\164\150:9\060\045'\040\057\076"; $_il45=_iO0("\173i\144\175",$_iO1s->_il2e."_".$this->_il2e."\137i\156\160ut",$_iO44); $_il45=_iO0("\173maxle\156\147th\175",$this->MaxLength >-1 ? "\155axle\156\147th=$this->MaxLength" : "",$_il45); $_il45=_iO0("\173\166al\165\145}",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il45); return $_il45; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridboundcolumn(); } parent::createinstance($_il3i); $_il3i->MaxLength =$this->MaxLength; $_il3i->_iO42 =$this->_iO42; return $_il3i; } } class gridcalculatedcolumn extends gridboundcolumn { var $Expression; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_il1e=$this->Expression; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il1e=_iO0("\173".$_iO27."}",$_il28,$_il1e); } return eval ("\162e\164\165rn ".$_il1e.";"); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcalculatedcolumn(); } parent::createinstance($_il3i); $_il3i->Expression =$this->Expression; return $_il3i; } } class gridcalculatedcustomcolumn extends gridcalculatedcolumn { var $InlineEditExpression; function inlineeditrender($_iO1s) { $_il1e=$this->InlineEditExpression; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il1e=_iO0("\173".$_iO27."\175",$_il28,$_il1e); } return eval ("r\145\164urn\040".$_il1e.";"); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcalculatedcustomcolumn(); } parent::createinstance($_il3i); $_il3i->InlineEditExpression =$this->InlineEditExpression; return $_il3i; } } class gridnumbercolumn extends gridboundcolumn { var $DecimalNumber=0; var $DecimalPoint="."; var $ThousandSeperate=","; var $FormatString="\173\156}"; function format($_iO1e) { $_iO45= (double) $_iO1e; return _iO0("\173\156}",number_format($_iO45,$this->DecimalNumber ,$this->DecimalPoint ,$this->ThousandSeperate),$this->FormatString); } function render($_iO1s) { $_il42=$this->format($_iO1s->DataItem[$this->DataField ]); if (!$this->AllowHtmlRender) { $_il42=_iO0("<","&#60;",$_il42); $_il42=_iO0(">","&#62\073",$_il42); } return $_il42; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO44="\074di\166\040cl\141ss='\153grEd\151tIn\040kgr\105Cap\047><i\156put\040id\075'\173\151\144}'\040\143las\163\075'kgrE\156\116oPo'\040\156ame=\047\173id}\047\040t\171\160e=\047\164ex\164\047 \166\141lu\145\075'\173\166al\165\145}\047\040s\164\171le\075'wi\144\164h\072\0610\060%' \057></\144\151v>"; $_il45=_iO0("\173i\144\175",$_iO1s->_il2e."\137".$this->_il2e."_\151\156put",$_iO44); $_il42=$this->format($_iO1s->DataItem[$this->DataField ]); $_il45=_iO0("\173\166al\165\145}",$_il42,$_il45); return $_il45; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO44="\074in\160\165t i\144\075'\173i\144\175' cl\141\163s='kg\162\105nNo\120\157' n\141\155e='\173\151\144}' ty\160\145='tex\164\047 va\154\165e='\173\166\141lue}\047\040styl\145\075'widt\150\07290%'\040\057>"; $_il45=_iO0("\173\151\144}",$_iO1s->_il2e."_".$this->_il2e."\137\151nput",$_iO44); $_il42=$this->format($_iO1s->DataItem[$this->DataField ]); $_il45=_iO0("\173value}",$_il42,$_il45); return $_il45; } function geteditvalue($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."_".$this->_il2e."_inp\165\164"]; $_iO1e=floatval(str_replace($this->DecimalPoint ,'.',preg_replace('/[^\\d'.preg_quote($this->DecimalPoint).']/','',$_iO1e))); return $_iO1e; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridnumbercolumn(); } parent::createinstance($_il3i); $_il3i->DecimalNumber =$this->DecimalNumber; $_il3i->DecimalPoint =$this->DecimalPoint; $_il3i->ThousandSeperate =$this->ThousandSeperate; $_il3i->FormatString =$this->FormatString; return $_il3i; } } class gridcurrencycolumn extends gridboundcolumn { var $Locale="en_\125\123"; var $FormatString="\045i"; function format($_iO1e) { setlocale(LC_MONETARY,$this->Locale); return money_format($this->FormatString ,$_iO1e); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcurrencycolumn(); } parent::createinstance($_il3i); $_il3i->Locale =$this->Locale; $_il3i->FormatString =$this->FormatString; return $_il3i; } } class gridtextareacolumn extends _iO41 { var $BoxHeight; function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO44="\074d\151v cl\141ss=\047kgr\105dit\111\156 \153\147rE\103ap'\076<te\170tar\145a i\144\075'\173\151d}'\040\143la\163\163='\153\147r\105\156N\157\120o'\040\156am\145\075'\173\151d}\047\040sty\154\145='wid\164\150:1\060\060%\073\173h\145\151gh\164\175'>\173\166alu\145\175</\164ext\141\162ea\076</div\076"; $_il45=_iO0("\173id\175",$_iO1s->_il2e."\137".$this->_il2e."_i\156\160\165t",$_iO44); $_il45=_iO0("\173val\165\145\175",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il45); $_il45=_iO0("\173hei\147\150\164}",($this->BoxHeight) ? "\150eight:".$this->BoxHeight."\073": "",$_il45); return $_il45; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO44="<te\170\164ar\145\141 i\144\075'\173\151d}\047 cl\141\163s\075\047\153\147r\105nNoP\157\047 \156\141me\075'\173\151\144}'\040sty\154e='\167\151dt\150\0729\060\045;\173\150ei\147\150t\175\047>\173\166al\165\145}<\057tex\164\141re\141>"; $_il45=_iO0("\173\151d}",$_iO1s->_il2e."_".$this->_il2e."_inpu\164",$_iO44); $_il45=_iO0("\173value\175",_iO12($this->format($_iO1s->DataItem[$this->DataField ])),$_il45); $_il45=_iO0("\173\150eight\175",($this->BoxHeight) ? "\150eig\150\164:".$this->BoxHeight.";": "",$_il45); return $_il45; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridtextareacolumn(); } parent::createinstance($_il3i); $_il3i->BoxHeight =$this->BoxHeight; return $_il3i; } } class griddropdowncolumn extends gridcolumn { var $_il46=array(); function render($_iO1s) { $_iO1e=$_iO1s->DataItem[$this->DataField ]; $_il3=$_iO1s->DataItem[$this->DataField ]; for ($_iO9=0; $_iO9<sizeof($this->_il46); $_iO9 ++) { if ($_iO1e == $this->_il46[$_iO9][1]) { $_il3=$this->_il46[$_iO9][0]; break; } } return $_il3; } function additem($_il3,$_iO1e=NULL) { if ($_iO1e === NULL) $_iO1e=$_il3; array_push($this->_il46 ,array($_il3,$_iO1e)); } function clear() { $this->_il46 =array(); } function _iO46($_iO1s,$_iO3y) { $_il3z="<\157\160tion \166\141lue=\047\173val\165\145}'\040\173s\145\154e\143\164ed\175\076\173te\170\164}</o\160\164io\156\076"; $_il40=""; foreach ($this->_il46 as $_il16) { $_iO40=_iO0("\173te\170\164}",$_il16[0],$_il3z); $_iO40=_iO0("\173\166alu\145\175",_iO12($_il16[1]),$_iO40); $_iO40=_iO0("\173\163elec\164\145d}",($_il16[1] == $_iO1s->DataItem[$this->DataField ]) ? "\163e\154\145cte\144": "",$_iO40); $_il40.=$_iO40; } $_il41=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e."_\151npu\164",$_iO3y); $_il41=_iO0("\173\157ptions}",$_il40,$_il41); return $_il41; } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_iO3y="<span\040\143lass\075\047kgr\105\103ap\047\076<sele\143\164 id=\047\173id\175\047 nam\145\075'\173i\144\175' sty\154\145='wid\164\150:100\045\047>\173o\160\164ions}\074\057sele\143\164></sp\141\156>"; return $this->_iO46($_iO1s,$_iO3y); } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_iO3y="<sele\143\164 id=\047\173id}' \156\141me='\173\151d}' s\164\171le=\047\167idt\150\07290%'\076\173optio\156\163}</se\154\145ct>"; return $this->_iO46($_iO1s,$_iO3y); } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_iO3y="\074spa\156\040c\154\141ss\075'kg\162\105Ca\160\047>\074\163e\154\145c\164 id\075'\173\151\144}'\040nam\145\075'\173\151d}[\135' s\164\171le\075'wi\144\164h:\06100%\047\040on\143\150an\147e='g\162\151d_\146ilte\162\137t\162\151gg\145r(\042\173co\154\151d\175\042,\164his\051'>\173\157pt\151\157ns\175\074/\163\145le\143\164>\074\057s\160\141n>"; $_il3z="<op\164\151on\040valu\145\075'\173\166al\165\145}\047\040\173\163e\154ect\145d}>\173text\175</op\164ion>"; $_il40=""; foreach ($this->_il46 as $_il16) { $_iO40=_iO0("\173te\170\164}",$_il16[0],$_il3z); $_iO40=_iO0("\173v\141\154\165e}",$_il16[1],$_iO40); $_iO40=_iO0("\173\163elec\164\145d\175",($_il16[1] == $this->Filter["V\141lue"]) ? "\163ele\143\164ed": "",$_iO40); $_il40.=$_iO40; } $_il41=_iO0("\173i\144\175",$this->_il2e."_\146\151lt\145\162_i\156\160ut",$_iO3y); $_il41=_iO0("\173col\151\144}",$this->_il2e ,$_il41); $_il41=_iO0("\173opt\151\157ns\175",$_il40,$_il41); return $_il41; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new griddropdowncolumn(); } parent::createinstance($_il3i); $_il3i->_il46 =$this->_il46; return $_il3i; } } class gridrowselectcolumn extends gridcolumn { var $Align="c\145nter"; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_il47="<span \143\154ass=\047\153grECa\160\047><in\160\165t typ\145\075'c\150\145ckbo\170\047 cla\163\163\075'kg\162\123elect\123\151ngl\145\122ow' \173\143\150eck\145\144\175 on\143\154ick='\147\162id_to\147\147\154e_s\145\154ect(t\150\151s)' /\076</sp\141\156>"; $_iO47=_iO0("\173\143hecked}",$_iO1s->Selected ? "che\143\153ed": "",$_il47); return $_iO47; } function _il3m() { $_iO3m="\074\143ol id\075\047\173i\144\175' na\155\145='\173\151\144}' s\164\171le='\173\167idth\175\047 clas\163\075'kgrC\157\154umnSe\154\145ct \173\162\145siza\142\154\145} \173\166\151sibl\145\175'/>"; $_il31=_iO0("\173id}",$this->_il2e ,$_iO3m); $_il31=_iO0("\173\162esizabl\145\175",($this->AllowResizing) ? "\153\147rResi\172\141ble": "",$_il31); $_il31=_iO0("\173width}",($this->Width != NULL) ? "\167\151dth:".$this->Width."\073": "",$_il31); $_il31=_iO0("\173visible\175",($this->Visible) ? "": "\153\147rHidd\145\156",$_il31); return $_il31; } function renderheader() { $_il47="\074span\040\143l\141\163s='\153grE\103\141p'\076<inp\165\164 \164\171p\145\075'ch\145\143kbo\170\047 c\154\141ss\075'kgr\123\145l\145\143tAl\154\122ows\047 \173\143\150e\143\153ed}\040\157ncl\151\143k=\047\147r\151\144_t\157\147gl\145\137selec\164\050this\051\047 />\074\057spa\156\076"; $_il1s=$this->_il2n->_il48; $_iO48=TRUE; for ($_iO9=0; $_iO9<sizeof($_il1s); $_iO9 ++) { if (!$_il1s[$_iO9]->Selected) { $_iO48=FALSE; break; } } $this->HeaderText =_iO0("\173c\150\145cke\144\175",$_iO48 ? "c\150ecked": "",$_il47); return parent::renderheader(); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridrowselectcolumn(); } parent::createinstance($_il3i); return $_il3i; } } class gridbooleancolumn extends gridcolumn { var $TrueText="T\162\165e"; var $FalseText="\106alse"; var $UseCheckBox=FALSE; function render($_iO1s) { $_il45=""; if ($this->UseCheckBox) { $_iO44="<i\156\160ut typ\145\075'ch\145\143kb\157\170' \173\143heck\145\144} d\151\163able\144\040/>"; $_il45=_iO0("\173\143hecked}",($_iO1s->DataItem[$this->DataField ]) ? "chec\153\145d": "",$_iO44); } else { $_il45=($_iO1s->DataItem[$this->DataField ]) ? $this->TrueText : $this->FalseText; } return $_il45; } function inlineeditrender($_iO1s,$_il49=FALSE) { if (!$this->ReadOnly) { $_il45=""; if ($this->UseCheckBox) { $_iO44="\074span cl\141\163s='kg\162\105Cap'>\074\151nput\040\040id='\173\151d}'\040\156ame\075\047\173\151d}' \164\171pe\075'che\143\153b\157\170' \173\143\150ec\153\145d}\040/><\057\163p\141\156>"; $_il45=_iO0("\173\151\144}",$_iO1s->_il2e."\137".$this->_il2e."\137\151nput",$_iO44); $_il45=_iO0("\173che\143\153\145d}",($_iO1s->DataItem[$this->DataField ]) ? "check\145\144": "",$_il45); } else { $_iO3y="\074span c\154\141ss='kg\162\105Cap'>\074\163elect\040\151d='\173\151d}' \156\141me='\173\151d}' s\164\171le='w\151\144th:\173\167\151dth}\047\076\173op\164\151ons}<\057\163elect\076\074/spa\156\076"; $_il3z="<\157\160\164ion \166\141\154ue=\047\173value\175\047 \173\163\145lect\145\144}>\173\164\145xt}</\157\160tion>"; $_iO49=_iO0("\173\166alu\145\175","\061",$_il3z); $_iO49=_iO0("\173s\145\154ect\145\144}",($_iO1s->DataItem[$this->DataField ]) ? "selecte\144": "",$_iO49); $_iO49=_iO0("\173text\175",$this->TrueText ,$_iO49); $_il4a=_iO0("\173value}","\060",$_il3z); $_il4a=_iO0("\173\163\145lect\145\144}",(!$_iO1s->DataItem[$this->DataField ]) ? "\163elec\164\145d": "",$_il4a); $_il4a=_iO0("\173\164ext}",$this->FalseText ,$_il4a); $_il45=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e."_input",$_iO3y); $_il45=_iO0("\173opti\157\156s}",$_iO49.$_il4a,$_il45); $_il45=_iO0("\173widt\150\175",($_il49) ? "\0710%": "\06100%",$_il45); } return $_il45; } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { return $this->inlineeditrender($_iO1s,TRUE); } function geteditvalue($_iO1s) { if ($this->UseCheckBox) { return isset ($_POST[$_iO1s->_il2e."\137".$this->_il2e."_inpu\164"]) ? 1: 0; } else { return parent::geteditvalue($_iO1s); } } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_il45=""; if ($this->UseCheckBox) { $_iO44="\074\163pan \143\154ass=\047\153grEC\141\160'><in\160\165t  i\144\075'\173\151\144}' n\141\155e='\173\151\144}[]'\040\164yp\145\075'c\150\145ck\142\157x' \173\143he\143\153e\144\175 on\143\150ang\145\075'g\162id_\146ilt\145r_t\162\151g\147\145r\050\042\173\143oli\144\175\042\054\164hi\163\051' \057\076</\163\160an\076"; $_il45=_iO0("\173id}",$this->_il2e."_\146ilter\137\151np\165\164",$_iO44); $_il45=_iO0("\173col\151\144\175",$this->_il2e ,$_il45); $_il45=_iO0("\173\143hecked\175",($this->Filter["Value"]) ? "\143heck\145\144": "",$_il45); } else { $_iO3y="\074spa\156\040cl\141\163s=\047kgr\105\103ap\047><s\145\154e\143t \151\144=\047\173i\144\175' \156\141m\145\075'\173\151d}'\040sty\154\145=\047widt\150\0721\0600%' \157ncha\156\147e=\047grid\137\146il\164\145r_\164\162ig\147\145r\050\042\173\143oli\144\175\042\054th\151\163)'\076\173o\160\164io\156\163}\074\057s\145\154ec\164\076<\057\163pa\156>"; $_il3z="<op\164\151on \166\141lu\145\075'\173\166a\154\165e}\047 \173\163el\145\143t\145\144}>\173\164ex\164}</\157\160tio\156>"; $_iO49=_iO0("\173val\165\145}","1",$_il3z); $_iO49=_iO0("\173selec\164\145d}",($this->Filter["Va\154ue"]) ? "s\145\154ect\145\144": "",$_iO49); $_iO49=_iO0("\173text\175",$this->TrueText ,$_iO49); $_il4a=_iO0("\173\166\141lu\145\175","\060",$_il3z); $_il4a=_iO0("\173s\145\154ect\145d}",(!$this->Filter["\126alue"]) ? "sel\145\143te\144": "",$_il4a); $_il4a=_iO0("\173\164ext}",$this->FalseText ,$_il4a); $_il45=_iO0("\173\151\144}",$this->_il2e."_\146ilter\137\151n\160\165t",$_iO3y); $_il45=_iO0("\173\143\157lid}",$this->_il2e ,$_il45); $_il45=_iO0("\173o\160\164ion\163\175",$_iO49.$_il4a,$_il45); } return $_il45; } function getfiltervalue($_iO1e=NULL) { if ($this->UseCheckBox) { if (!$_iO1e) $_iO1e= isset ($_POST[$this->_il2e."_\146\151lt\145\162_\151\156pu\164"][0]) ? 1: 0; return $_iO1e; } else { return parent::getfiltervalue(); } } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridbooleancolumn(); } parent::createinstance($_il3i); $_il3i->TrueText =$this->TrueText; $_il3i->FalseText =$this->FalseText; $_il3i->UseCheckBox =$this->UseCheckBox; return $_il3i; } } class gridimagecolumn extends gridcolumn { var $ImageFolder=""; var $CssClass=""; function render($_iO1s) { $_iO44="\074img\040\163rc\075'\173\163\162c\175\047 \143\154a\163\163=\047\173\143las\163}' a\154t=''\040/>"; $_il45=_iO0("\173s\162\143}",(($this->ImageFolder != "") ? ($this->ImageFolder."/"): "").$_iO1s->DataItem[$this->DataField ],$_iO44); $_il45=_iO0("\173\143lass}",$this->CssClass ,$_il45); return $_il45; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridimagecolumn(); } parent::createinstance($_il3i); $_il3i->ImageFolder =$this->ImageFolder; $_il3i->CssClass =$this->CssClass; return $_il3i; } } class gridcustomcolumn extends gridcolumn { var $ItemTemplate; var $EditItemTemplate; var $AllowSorting=FALSE; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->ReadOnly =TRUE; } function render($_iO1s) { $_il45=$this->ItemTemplate; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il45=_iO0("\173".$_iO27."}",$_il28,$_il45); } return $_il45; } function inlineeditrender($_iO1s) { $_il45=$this->EditItemTemplate; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il45=_iO0("\173".$_iO27."\175",$_il28,$_il45); } return $_il45; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcustomcolumn(); } parent::createinstance($_il3i); $_il3i->ItemTemplate =$this->ItemTemplate; $_il3i->EditItemTemplate =$this->EditItemTemplate; return $_il3i; } } class gridcommandcolumn extends gridcolumn { var $CommandText="\103o\155\155an\144"; var $OnClick=""; var $CssClass=""; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_iO44="\074span cl\141\163s='kg\162\105Cap\047\076<inp\165\164 typ\145\075'bu\164\164on\047\040cl\141\163s='\173\143la\163\163}' \166\141lu\145\075'\173\164ext\175' o\156\143l\151\143k\075'\173\157ncl\151\143k\175\047 \057></\163pan\076"; $_il45=_iO0("\173clas\163\175",$this->CssClass ,$_iO44); $_il3=$this->CommandText; $_iO4a=$this->OnClick; foreach ($_iO1s->DataItem as $_iO27 => $_il28) { $_il3=_iO0("\173".$_iO27."\175",$_il28,$_il3); $_iO4a=_iO0("\173".$_iO27."}",$_il28,$_iO4a); } $_il45=_iO0("\173te\170\164}",$_il3,$_il45); $_il45=_iO0("\173\157\156\143lic\153\175",$_iO4a,$_il45); return $_il45; } function inlineeditrender($_iO1s) { return $this->render($_iO1s); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridcommandcolumn(); } parent::createinstance($_il3i); $_il3i->CommandText =$this->CommandText; $_il3i->OnClick =$this->OnClick; $_il3i->CssClass =$this->CssClass; return $_il3i; } } class grideditdeletecolumn extends gridcolumn { var $ButtonType="Aut\157"; var $EditButtonText; var $DeleteButtonText; var $ConfirmButtonText; var $CancelButtonText; var $EditButtonImageUrl=""; var $DeleteButtonImageUrl=""; var $ConfirmButtonImageUrl=""; var $CancelButtonImageUrl=""; var $EditButtonCssClass=""; var $ConfirmButtonCssClass=""; var $CancelButtonCssClass=""; var $DeleteButtonCssClass=""; var $ShowEditButton=TRUE; var $ShowDeleteButton=TRUE; function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; if ($this->EditButtonText === NULL) $this->EditButtonText =$_il2p->_il2b->Localization->_il2i["E\144\151t"]; if ($this->DeleteButtonText === NULL) $this->DeleteButtonText =$_il2p->_il2b->Localization->_il2i["\104\145lete"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["\103\157nfirm"]; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["\103ancel"]; } function render($_iO1s) { $_iO3m="<sp\141\156 class\075\047kgr\105\103ap'>\173\145dit} \173\144ele\164\145}</\163\160an>"; $_il4b=""; switch (strtolower($this->ButtonType)) { case "auto": $_iO3m="\074span\040\143lass=\047\153grEC\141\160' st\171\154e='wh\151\164e-s\160\141ce:n\157\167rap;'\076\173edit}\173\144elete\175\074/spa\156\076"; $_il4b="<\141\040type='b\165\164ton' c\154\141ss='\173\141utocl\141\163s} \173\143lass\175\047 oncl\151\143k='\173\157\156click\175\047 hre\146\075'jav\141\163cript\072\166oid 0\047\076\173te\170\164}</a>"; break; case "\154ink": $_il4b="<a type\075\047butto\156\047 clas\163\075'\173c\154\141ss}'\040\157ncl\151\143k='\173\157\156clic\153\175' hre\146\075'java\163\143ript\072\166oid 0\047\076\173t\145\170\164}</\141\076"; break; case "image": $_il4b="\074img \163\162c='\173\163\162c}' o\156\143lick=\047\173oncl\151\143k}'\040\143lass=\047\173clas\163\175' />"; break; case "butt\157\156": default : $_il4b="\074\151nput c\154\141ss='\173\143\154ass}\047\040type\075\047but\164\157n' v\141\154ue='\173\164\145xt}\047\040oncli\143\153='\173\157\156clic\153\175' />"; break; } $_iO4b=_iO0("\173text}",$this->EditButtonText ,$_il4b); $_iO4b=_iO0("\173\141\165\164ocl\141\163\163}","k\147\162\114inkE\144\151\164",$_iO4b); $_iO4b=_iO0("\173\143\154ass}",$this->EditButtonCssClass ,$_iO4b); $_iO4b=_iO0("\173src}",$this->EditButtonImageUrl ,$_iO4b); $_iO4b=_iO0("\173onclic\153\175","\147rid_ed\151\164(this)",$_iO4b); $_il4c=_iO0("\173\164\145xt}",$this->DeleteButtonText ,$_il4b); $_il4c=_iO0("\173autoc\154\141ss}","\153grLin\153\104elete",$_il4c); $_il4c=_iO0("\173c\154\141ss}",$this->DeleteButtonCssClass ,$_il4c); $_il4c=_iO0("\173src}",$this->DeleteButtonImageUrl ,$_il4c); $_il4c=_iO0("\173\157\156click}","\147rid_del\145\164e(this\051",$_il4c); $_il31=_iO0("\173edi\164\175",($this->ShowEditButton) ? $_iO4b: "",$_iO3m); $_il31=_iO0("\173\144\145\154ete}",($this->ShowDeleteButton) ? $_il4c: "",$_il31); return $_il31; } function inlineeditrender($_iO1s) { if ($this->ShowEditButton) { $_iO3m="<span c\154\141ss='\153\147rECap\047\076\173c\157\156firm\175\040\173c\141\156cel}\074\057span\076"; $_il4b=""; switch (strtolower($this->ButtonType)) { case "\141\165\164o": $_iO3m="\074\163pan c\154\141ss='kg\162\105Cap'\040\163tyle=\047\167hit\145\055spa\143\145:nowr\141\160;'>\173\143\157nfirm\175\173canc\145\154}</sp\141\156>"; $_il4b="<a typ\145\075'butto\156\047 clas\163\075'\173a\165\164ocla\163\163} \173\143\154ass}\047\040oncli\143\153='\173\157\156\143lic\153\175' hre\146\075'jav\141\163\143rip\164\072void \060\047>\173\164\145\170t}<\057\141>"; break; case "\154\151nk": $_il4b="<a typ\145\075'butto\156\047 clas\163\075'\173c\154\141ss}'\040\157ncli\143\153='\173\157\156click\175\047 href\075\047java\163\143ript:\166\157id 0'\076\173text}\074\057a>"; break; case "imag\145": $_il4b="<inpu\164\040type='\151\155age' \163\162c='\173\163\162c}' \157\156clic\153\075'\173\157\156\143lic\153\175\047 cl\141\163s='\173\143\154ass}\047\040/>"; break; case "\142\165tton": default : $_il4b="\074\151nput c\154\141ss='\173\143\154ass}\047\040type\075\047but\164\157n' v\141\154ue='\173\164\145xt}'\040\157nclic\153\075'\173o\156\143lick\175\047 />"; break; } $_iO4c=_iO0("\173\164\145xt}",$this->ConfirmButtonText ,$_il4b); $_iO4c=_iO0("\173\141\165tocla\163\163}","\153grLink\103\157nfirm",$_iO4c); $_iO4c=_iO0("\173\143\154\141ss}",$this->ConfirmButtonCssClass ,$_iO4c); $_iO4c=_iO0("\173\163\162\143}",$this->ConfirmButtonImageUrl ,$_iO4c); $_iO4c=_iO0("\173\157\156click}","\147\162id_conf\151\162m_edit\050\164his)",$_iO4c); $_il4d=_iO0("\173\164\145xt}",$this->CancelButtonText ,$_il4b); $_il4d=_iO0("\173aut\157\143la\163\163}","\153grL\151\156kCa\156\143el",$_il4d); $_il4d=_iO0("\173\143\154ass}",$this->CancelButtonCssClass ,$_il4d); $_il4d=_iO0("\173\163rc\175",$this->CancelButtonImageUrl ,$_il4d); $_il4d=_iO0("\173onc\154\151ck}","grid_c\141\156cel_ed\151\164(thi\163\051",$_il4d); $_il31=_iO0("\173\143on\146\151rm\175",$_iO4c,$_iO3m); $_il31=_iO0("\173\143\141nce\154\175",$_il4d,$_il31); return $_il31; } else { return $this->render($_iO1s); } } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new grideditdeletecolumn(); } parent::createinstance($_il3i); $_il3i->ButtonType =$this->ButtonType; $_il3i->ReadOnly =$this->ReadOnly; $_il3i->EditButtonText =$this->EditButtonText; $_il3i->DeleteButtonText =$this->DeleteButtonText; $_il3i->ConfirmButtonText =$this->ConfirmButtonText; $_il3i->CancelButtonText =$this->CancelButtonText; $_il3i->EditButtonImageUrl =$this->EditButtonImageUrl; $_il3i->DeleteButtonImageUrl =$this->DeleteButtonImageUrl; $_il3i->ConfirmButtonImageUrl =$this->ConfirmButtonImageUrl; $_il3i->CancelButtonImageUrl =$this->CancelButtonImageUrl; $_il3i->EditButtonCssClass =$this->EditButtonCssClass; $_il3i->DeleteButtonCssClass =$this->DeleteButtonCssClass; $_il3i->ConfirmButtonCssClass =$this->ConfirmButtonCssClass; $_il3i->CancelButtonCssClass =$this->CancelButtonCssClass; $_il3i->ShowEditButton =$this->ShowEditButton; $_il3i->ShowDeleteButton =$this->ShowDeleteButton; return $_il3i; } } class gridexpanddetailcolumn extends gridcolumn { function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->AllowExporting =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; } function render($_iO1s) { $_iO3m="\074s\160\141n cla\163\163='kgr\173\163tatus\175\040kgrE\103\141p'\040\157ncli\143\153='gri\144\137\173com\155\141nd}(t\150\151s)'>\040\074/spa\156\076"; $_il31=_iO0("\173\163\164atus}",($_iO1s->Expand) ? "E\170\160and": "\103\157llapse",$_iO3m); $_il31=_iO0("\173\143ommand}",($_iO1s->Expand) ? "\143\157llapse": "expan\144",$_il31); return $_il31; } function _il3m() { $_iO3m="<c\157l id=\047\173id\175\047 \156ame\075'\173\151\144}\047 st\171le=\047\173\167idt\150\175'\040\143l\141\163s=\047kgr\103\157l\165mnEx\160\141n\144\040\173\162\145s\151\172ab\154\145} \173\166is\151ble}\047/>"; $_il31=_iO0("\173id}",$this->_il2e ,$_iO3m); $_il31=_iO0("\173resi\172\141ble}",($this->AllowResizing) ? "\153gr\122\145siz\141\142le": "",$_il31); $_il31=_iO0("\173\167idt\150\175",($this->Width != NULL) ? "\167id\164\150:".$this->Width.";": "",$_il31); $_il31=_iO0("\173\166isib\154\145}",($this->Visible) ? "": "\153grH\151\144\144en",$_il31); return $_il31; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridexpanddetailcolumn(); } parent::createinstance($_il3i); return $_il3i; } } class _iO4d extends gridcolumn { function _iO2c($_il2p) { parent::_iO2c($_il2p); $this->AllowSorting =FALSE; $this->AllowResizing =FALSE; $this->AllowFiltering =FALSE; $this->AllowGrouping =FALSE; $this->ReadOnly =TRUE; $this->Aggregate =NULL; $this->AllowExporting =FALSE; } function _il3m() { $_iO3m="\074col i\144\075'\173\151\144}' \156\141me='\173\151d}' s\164\171le\075\047\173w\151\144th}' \143\154ass=\047\153grCol\165\155nGr\157\165p'/>"; $_il31=_iO0("\173id}",$this->_il2e ,$_iO3m); $_il31=_iO0("\173\167idth}",($this->Width != NULL) ? "\167\151dth:".$this->Width.";": "",$_il31); return $_il31; } function _iO2f($_iO1s) { $_iO3i="\074td \151\144\075'\173\151\144}' \143\154ass='\153\147rCel\154\040kgr\107\162oupC\157\154'><di\166\040clas\163\075'kgrI\156\047 st\171\154e=''>\046\043160;\074\057div>\074\057td>"; $_iO31=_iO0("\173id}",$_iO1s->_il2e."_".$this->_il2e ,$_iO3i); return $_iO31; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new _iO4d(); } parent::createinstance($_il3i); return $_il3i; } } class griddatetimecolumn extends gridcolumn { var $Picker; var $FormatString; var $DatabaseFormatString="Y\055m\055\144 \110\072i\072\163"; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FormatString === NULL) { $this->FormatString ="\155\057d/Y \147\072i A"; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "k\157olda\164\145t\151\155ep\151cke\162": $this->FormatString =$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153ool\144\141\164epi\143\153er": $this->FormatString =$this->Picker->DateFormat; break; case "kooltim\145\160icker": $this->FormatString =$this->Picker->TimeFormat; break; } } } } function inlineeditrender($_iO1s) { if (!$this->ReadOnly) { $_il4e=$_iO1s->DataItem[$this->DataField ]; $_iO4e=strtotime($_il4e); $_il4f=($_iO4e == NULL || mb_strpos($_il4e,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO4f="m/\144/Y g:\151\040A"; switch (strtolower(get_class($this->Picker))) { case "koo\154\144ate\164\151me\160\151cker": $_iO4f=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153oo\154\144ate\160\151ck\145\162": $_iO4f=$this->Picker->DateFormat; break; case "k\157olti\155\145pic\153\145r": $_iO4f=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1s->_il2e."_".$this->_il2e."\137in\160\165t"; $this->Picker->Width ="\0610\060\045"; $this->Picker->ClientEvents =array(); if ($this->_il2n->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117nBe\146\157reDat\145\120icker\117\160en"]=$this->Picker->id."_onbe\146\157reo\160en"; $this->Picker->ClientEvents["\117nB\145\146or\145Time\120\151c\153\145rO\160en"]=$this->Picker->id."_\157\156bef\157\162eo\160\145n"; $this->Picker->ClientEvents["\117nDate\120\151c\153\145rCl\157se"]=$this->Picker->id."\137onclo\163\145"; $this->Picker->ClientEvents["\117n\124\151meP\151\143ke\162\103lo\163e"]=$this->Picker->id."\137onclo\163\145"; } $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il4f) { $this->Picker->Value =""; } else { $this->Picker->Value =date($_iO4f,$_iO4e); } $_iO44="\074div \143\154ass='k\147\162ECap\047\076\173pi\143\153er}\173\152s_ed\151\164_ove\162\146low}<\057\144iv>"; if ($this->_il2n->AllowScrolling == TRUE) { $_iO44="<div\040\143la\163\163='\153\147rE\103\141p'\076\173js\137\151n\151\164_\157pen\143lose\175\074d\151\166 \143\154as\163='k\147\162D\141\164eT\151mePi\143\153er\117ut'><\144\151v cl\141\163s='\153\147rD\141\164eT\151\155eP\151cker\111n'>\173\160ic\153\145r}\074/d\151\166><\057\144i\166\076\173\152s_e\144it_\157\166e\162\146lo\167\175<\057\144i\166\076"; } $_il4g="\074scri\160\164 ty\160\145='t\145xt/ja\166\141s\143\162ip\164'\076fu\156\143t\151\157n \173\151d}\137\157nb\145\146or\145\157pe\156()\173\147rid\137\157n_\144\141te\164imep\151\143ke\162_ope\156('\173\151d}'\051\073r\145\164ur\156\040t\162\165e;\175\040f\165nct\151\157n\040\173i\144\175_\157\156cl\157se(\051\173g\162\151d\137\157n_\144\141te\164ime\160\151ck\145\162_\143\154os\145\050'\173\151d\175\047)\073\175 \074/sc\162\151pt\076"; $_iO4g="\074\163\143ript\040type\075'tex\164\057j\141\166as\143\162i\160\164'\076\144o\143\165m\145\156t.\147\145tE\154\145me\156\164By\111\144('\173id}'\051.cl\141\163sN\141\155e+\075' kg\162EnNo\120\157'\073\166ar\040_age\156t=na\166\151g\141\164or\056use\162Age\156t.t\157\114o\167\145rC\141se(\051;if\050!((\137\141ge\156t.in\144exOf\050'ms\151\145 \066\047)\041\075-\061 ||\040_ag\145\156t\056\151n\144\145xO\146\050'\155sie\0407')\041=-1\051\046&\137age\156\164.\151\156de\170\117f\050'ms\151\145 8\047)=\075-1 \046&_\141\147e\156\164.\151\156d\145\170O\146\050'\157\160e\162\141'\051\075=\0551))\173do\143\165m\145\156t\056get\105lem\145ntB\171Id(\047\173\151\144}\137\142o\165\156d\047).p\141re\156\164N\157\144e\056par\145nt\116ode\056st\171\154e\056ov\145\162f\154\157w\075'v\151\163i\142\154e\047;}\074/sc\162ip\164\076"; $_il4h=_iO0("\173id}",$this->Picker->id ,$_iO4g); $_iO4h=_iO0("\173\151d}",$this->Picker->id ,$_il4g); $_il45=_iO0("\173pick\145\162}",$this->Picker->render(),$_iO44); $_il45=_iO0("\173js_\151\156\151t_\157\160\145nc\154\157se}",$_iO4h,$_il45); $_il45=_iO0("\173j\163\137edi\164\137ov\145\162f\154\157w}",$_il4h,$_il45); return $_il45; } else { if ($this->NullDisplayText != NULL && $_il4f) { $_il4i=""; } else { $_il4i=date($this->FormatString ,$_iO4e); } $_iO44="\074\144\151v \143\154as\163\075'\153\147r\105\144it\111n k\147rE\103\141p\047><i\156put \151\144=\047\173i\144\175' \143\154as\163='k\147\162En\116\157Po\047 na\155\145='\173\151d}\047\040t\171\160e=\047tex\164\047 v\141lue=\047\173v\141\154ue\175\047 \163tyl\145='w\151\144th\072100\045' /\076\074/\144\151v\076"; $_il45=_iO0("\173id}",$_iO1s->_il2e."\137".$this->_il2e."\137inpu\164",$_iO44); $_il45=_iO0("\173val\165\145\175",($_il4e != "") ? _iO12($_il4i): "",$_il45); return $_il45; } } else { return $this->render($_iO1s); } } function formeditrender($_iO1s) { $_il4e=$_iO1s->DataItem[$this->DataField ]; $_iO4e=strtotime($_il4e); $_il4f=($_iO4e == NULL || mb_strpos($_il4e,'0000-00-00') !== FALSE); if ($this->Picker !== NULL) { $_iO4f="\155/d/Y g\072\151 A"; switch (strtolower(get_class($this->Picker))) { case "\153\157oldate\164\151mepic\153\145r": $_iO4f=$this->Picker->DateFormat." ".$this->Picker->TimeFormat; break; case "\153o\157\154dat\145\160ick\145\162": $_iO4f=$this->Picker->DateFormat; break; case "\153ooltime\160\151cker": $_iO4f=$this->Picker->TimeFormat; break; } $this->Picker->id =$_iO1s->_il2e."_".$this->_il2e."_\151\156pu\164"; $this->Picker->Width ="\0710%"; $this->Picker->ClientEvents =array(); $this->Picker->init(); if ($this->NullDisplayText !== NULL && $_il4f) { $_il4i=""; } else { $_il4i=date($_iO4f,$_iO4e); } $this->Picker->Value =$_il4i; $_iO44="\074di\166\040\143lass\075\047kgr\105\103ap'>\173\160\151cke\162\175\173j\163\137edit\137\157verfl\157\167}</div\076"; $_iO4g="<scr\151\160t type=\047\164ext/j\141\166ascri\160\164'>do\143\165ment\056\147etE\154\145mentB\171\111\144('\173\151\144}').\143\154ass\116am\145+=' \153\147rE\156\116oPo\047;</\163\143rip\164\076"; $_il4h=_iO0("\173\151\144}",$this->Picker->id ,$_iO4g); $_il45=_iO0("\173\160\151cker}",$this->Picker->render(),$_iO44); $_il45=_iO0("\173js\137\145\144it_o\166\145rflow\175",$_il4h,$_il45); return $_il45; } else { if ($this->NullDisplayText != NULL && $_il4f) { $_il4i=""; } else { $_il4i=date($_iO4f,$_iO4e); } $_iO44="\074div \143\154ass='k\147\162\105dit\111\156 kgrE\103\141p'><\151\156put \151\144='\173\151\144}' cl\141\163s='kg\162\105nNoPo\047\040name\075\047\173i\144\175' typ\145\075'text\047\040valu\145\075'\173v\141\154ue}' \163\164yle='\167\151dth:9\060\045' />\074\057di\166\076"; $_il45=_iO0("\173id}",$_iO1s->_il2e."\137".$this->_il2e."_inp\165\164",$_iO44); $_il45=_iO0("\173va\154\165e}",($_il4e != "") ? _iO12($_il4i): "",$_il45); return $_il45; } } function renderfilter($_il1k=NULL) { if ($_il1k === NULL) $_il1k=$this->Filter; $_il4e=$_il1k["\126a\154\165e"]; $_iO4e=strtotime($_il4e); if ($this->Picker !== NULL) { $_iO4f="m\057d/Y \147\072i\040\101"; switch (strtolower(get_class($this->Picker))) { case "\153ool\144\141te\164\151me\160\151c\153\145r": $_iO4f=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "\153oo\154\144at\145\160ic\153\145r": $_iO4f=$this->Picker->DateFormat; break; case "k\157oltim\145\160ick\145\162": $_iO4f=$this->Picker->TimeFormat; break; } $_iO4i=$this->Picker->id =$this->_il2e."_\146ilte\162\137i\156\160ut"; $this->Picker->Width ="\0610\060\045"; if ($this->_il2n->AllowScrolling == TRUE) { $this->Picker->ClientEvents["\117nBef\157\162e\104\141te\120\151c\153\145rO\160en"]=$this->Picker->id."_on\142\145for\145\157pe\156"; $this->Picker->ClientEvents["OnB\145\146or\145\124im\145Pick\145rOp\145n"]=$this->Picker->id."_o\156\142efo\162\145op\145\156"; $this->Picker->ClientEvents["O\156\104atePick\145\162Close"]=$this->Picker->id."_on\143\154\157se"; $this->Picker->ClientEvents["\117nTimePi\143\153\145rClo\163\145"]=$this->Picker->id."_onclos\145"; } $this->Picker->ClientEvents["OnS\145\154ect"]=$this->Picker->id."_o\156\163\145lec\164"; $this->Picker->init(); $this->Picker->Value =($_il4e != "") ? date($_iO4f,$_iO4e): ""; $_iO44="<div cl\141\163s='kgr\105\103ap'>\173\160\151cke\162\175\173js\137\151nit\137\157nsel\145\143\164}</\144\151\166>"; if ($this->_il2n->AllowScrolling == TRUE) { $_iO44="<div c\154\141\163s='\153\147rECap\047\076<di\166\040clas\163\075'kgr\104\141teT\151\155ePick\145\162Out'><\144\151v cla\163\163='kg\162\104ateTi\155\145Picke\162\111n'>\173\152\163_init\137\157pencl\157\163e}\173\160\151cker}\173\152s_ini\164\137onsel\145\143t}<\057\144iv><\057\144iv><\057\144iv>"; } $_il4j="\074script \164\171\160e='\164\145xt/ja\166\141scrip\164\047>fun\143\164ion\040\173id}_\157\156\163ele\143\164()\173g\162\151d_fi\154\164er_tr\151\147ger(\042\173colid\175\042,docu\155\145nt.ge\164\105lemen\164\102yId('\173\151d}'))\175\073var \137\151nput\040\075 doc\165\155ent.\147\145tElem\145\156tById\050\047\173i\144\175');_i\156\160ut.c\154\141ssNam\145\053='kg\162\106iEnTr\047\073 var\040\137agen\164\075navi\147\141tor.\165\163erAge\156\164.toL\157\167erCas\145\050);if\050\041((_\141\147ent.\151\156dex\117\146('m\163\151e 6'\051\041=-1 \174\174 _ag\145\156t.in\144\145xOf(\047\155sie \067\047)!=\055\061)&&\137\141gent\056\151nde\170\117f('m\163\151e 8'\051\075=-1\040\046&_a\147\145nt.i\156\144exOf\050\047ope\162\141')=\075\0551))\173\144ocum\145\156t.g\145\164Elem\145\156tBy\111\144('\173\151\144}_b\157\165nd')\056\160are\156\164Nod\145\056par\145\156tNod\145\056par\145\156tNo\144\145.st\171\154e.ov\145\162flo\167\075'vi\163\151ble\047\073}</\163\143rip\164\076"; $_il4g="<\163\143rip\164\040ty\160\145='\164\145x\164\057javas\143\162ipt\047\076fun\143\164ion\040\173id\175\137on\142\145for\145\157pe\156\050\051\173g\162\151d_\157\156_da\164\145tim\145\160ick\145\162_op\145\156('\173\151d}\047);re\164\165rn\040\164ru\145\073}\040func\164ion\040\173i\144\175_o\156\143lo\163\145()\173\147rid\137\157n_\144\141te\164\151me\160\151ck\145\162_c\154ose(\047\173i\144\175')\073\175</\163\143r\151\160t>"; $_iO4j=_iO0("\173\151d}",$this->Picker->id ,$_il4j); $_iO4j=_iO0("\173coli\144\175",$this->_il2e ,$_iO4j); $_iO4h=_iO0("\173id}",$this->Picker->id ,$_il4g); $_il45=_iO0("\173p\151\143ker\175",$this->Picker->render(),$_iO44); $_il45=_iO0( "name\075'$_iO4i" ,"na\155\145='$_iO4i"."\133\135",$_il45); $_il45=_iO0( "name=\042$_iO4i" ,"\156ame=\042$_iO4i"."\133\135",$_il45); $_il45=_iO0("\173js_\151\156it_\157\156sel\145ct}",$_iO4j,$_il45); $_il45=_iO0("\173js_\151\156it\137\157pe\156\143lo\163\145}",$_iO4h,$_il45); return $_il45; } else { $_iO3s="<\144iv c\154\141ss=\047kgrE\144\151tI\156\047>\074inp\165\164 c\154ass=\047kgr\106\151En\124\162' t\171\160e='\164\145xt\047\040i\144\075'\173\151d}'\040\156am\145\075'\173\151d}[\135\047 \166\141lu\145\075'\173\164e\170\164}'\040onbl\165\162=\047\147r\151\144_\146\151lt\145r_tr\151\147ge\162\050\042\173co\154\151d\175\042,\164\150is\051' s\164yle\075'wi\144\164h:\06100%\073' /\076</d\151v>"; $_il3t=_iO0("\173id\175",$this->_il2e."_fil\164\145r_i\156\160ut",$_iO3s); $_il3t=_iO0("\173\143olid\175",$this->_il2e ,$_il3t); $_il3t=_iO0("\173\164ext}",($_il4e != "") ? _iO12(date($this->FormatString ,$_iO4e)): "",$_il3t); return $_il3t; } } function render($_iO1s) { $_il4e=$_iO1s->DataItem[$this->DataField ]; $_iO4e=strtotime($_il4e); $_il4f=($_iO4e == NULL || mb_strpos($_il4e,'0000-00-00') !== FALSE); if ($_il4f) { return $this->NullDisplayText; } else { $_iO1e=date($this->FormatString ,$_iO4e); return $_iO1e; } } function geteditvalue($_iO1s) { $_il4k=$_iO1s->_il2e."\137".$this->_il2e."_i\156\160ut"; $_iO4k=_iO11($_POST[$_il4k]); if (trim($_iO4k) == "") { if ($this->DefaultValue != NULL) { $_iO4e=strtotime($this->DefaultValue); return date($this->DatabaseFormatString ,$_iO4e); } else { return NULL; } } else { $_iO4f=""; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "\153\157oldat\145\164imepi\143\153er": $_iO4f=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "\153\157oldate\160\151cker": $_iO4f=$this->Picker->DateFormat.'|'; break; case "k\157\157\154time\160\151\143ker": $_iO4f=$this->Picker->TimeFormat; break; } } if (strnatcmp(phpversion(),'5.3.0')>=0 && $_iO4f !== "") { $_iO4e=datetime::createfromformat($_iO4f,$_iO4k); if ($_iO4e) $_iO4e=$_iO4e->gettimestamp(); else $_iO4e=strtotime($_iO4k); } else { $_iO4e=strtotime($_iO4k); } $_il2=date($this->DatabaseFormatString ,$_iO4e); return $_il2; } } function getfiltervalue($_iO1e=NULL) { if (!$_iO1e) $_iO1e=_iO11($_POST[$this->_il2e."\137filte\162\137input"][0]); $_iO4f=""; if ($this->Picker !== NULL) { switch (strtolower(get_class($this->Picker))) { case "k\157\157ldateti\155\145picker": $_iO4f=$this->Picker->DateFormat."\040".$this->Picker->TimeFormat; break; case "koo\154\144atepick\145\162": $_iO4f=$this->Picker->DateFormat.'|'; break; case "koolt\151\155\145pick\145\162": $_iO4f=$this->Picker->TimeFormat; break; } } if (strnatcmp(phpversion(),'5.3.0')>=0 && $_iO4f !== "") { $_iO4e=datetime::createfromformat($_iO4f,$_iO4k); if ($_iO4e) $_iO4e=$_iO4e->gettimestamp(); else $_iO4e=strtotime($_iO1e); } else { $_iO4e=strtotime($_iO1e); } return date($this->DatabaseFormatString ,$_iO4e); } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new griddatetimecolumn(); } parent::createinstance($_il3i); $_il3i->Picker =$this->Picker; $_il3i->FormatString =$this->FormatString; $_il3i->DatabaseFormatString =$this->DatabaseFormatString; return $_il3i; } } class gridautocompletecolumn extends gridcolumn { var $serviceFunction=''; var $itemTemplate='{text}'; var $saveTemplate=''; var $defaultSave=''; var $footerTemplate=''; var $KoolAutoCompleteFolder=''; var $HiddenDataField=''; var $ClientEvents=array(); function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridautocompletecolumn(); } parent::createinstance($_il3i); $_il3i->serviceFunction =$this->serviceFunction; $_il3i->itemTemplate =$this->itemTemplate; $_il3i->saveTemplate =$this->saveTemplate; $_il3i->defaultSave =$this->defaultSave; $_il3i->footerTemplate =$this->footerTemplate; $_il3i->KoolAutoCompleteFolder =$this->KoolAutoCompleteFolder; $_il3i->HiddenDataField =$this->HiddenDataField; $_il3i->ClientEvents =$this->ClientEvents; return $_il3i; } function _il4l($_iO1s) { $_iO4i=$_iO1s->_il2e."_".$this->_il2e."_i\156\160ut"; $_iO1e=$_iO1s->DataItem[$this->DataField ]; $_il1m=''; $_il1m.= "\074inpu\164\040type\075\164ext \151\144='$_iO4i' \156\141me='$_iO4i' v\141\154\165e='$_iO1e' \141\165\164ocomp\154\145te='of\146\047 sty\154\145='wid\164\150:90\045\047>"; if (!empty($this->HiddenDataField)) { $_iO4l= isset ($_iO1s->DataItem[$this->HiddenDataField ]) ? $_iO1s->DataItem[$this->HiddenDataField ]: $this->defaultSave; $_il4m=$_iO1s->_il2e."\137".$this->_il2e."_hid\144\145n_inpu\164"; $_il1m.= "<i\156\160ut type\075\150idden \151\144='$_il4m\047 name\075\047$_il4m' va\154\165\145='$_iO4l'>"; } $_iO4m="\153ac_".$_iO1s->_il2e."\137".$this->_il2e; $_il4n=new koolautocomplete($_iO4m); $_il4n->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_il4n->attachTo =$_iO4i; if (!empty($_il4m)) { $_il4n->saveTo =$_il4m; $_il4n->saveTemplate =$this->saveTemplate; $_il4n->defaultSave =$this->defaultSave; } $_il4n->serviceFunction =$this->serviceFunction; $_il4n->itemTemplate =$this->itemTemplate; $_il4n->footerTemplate =$this->footerTemplate; $_il4n->ClientEvents =$this->ClientEvents; $_il1m.=$_il4n->render(); return $_il1m; } function inlineeditrender($_iO1s) { return $this->_il4l($_iO1s); } function formeditrender($_iO1s) { return $this->_il4l($_iO1s); } function _iO4n($_iO1s) { $_iO1e=$_POST[$_iO1s->_il2e."_".$this->_il2e."_hidd\145\156_inpu\164"]; if ($this->_il2n->_il2b->AjaxEnabled === TRUE) { $_iO1e=iconv("\125TF-8",$this->_il2n->_il2b->CharSet ,$_iO1e); } return $_iO1e; } function renderfilter($_il1k=NULL) { if (!$_il1k) $_il1k=$this->Filter; $_iO4i=$this->_il2e."_filte\162\137\151npu\164"; $_iO3s="\074div cl\141\163\163='kg\162\105ditI\156\047><in\160\165t cl\141\163s='\153\147rFiEn\124\162' type\075\047text\047\040id='\173\151d}' \156\141me='\173\151\144}[]\047\040value\075\047\173t\145\170t}' o\156\142\154ur=\047\147rid_f\151\154ter_\164\162\151gg\145\162(\042\173\143olid}\042\054this\051\047 aut\157\143omple\164\145='o\146f\047\040st\171\154e=\047\167i\144th\07210\060%\073' \057><\057div\076"; $_il3t=_iO0("\173id}",$_iO4i,$_iO3s); $_il3t=_iO0("\173\143\157lid}",$this->_il2e ,$_il3t); $_il3t=_iO0("\173\164\145\170t}",_iO12($this->Filter["\126\141lue"]),$_il3t); $_iO4m="k\141\143_".$_iO4i; $_il4n=new koolautocomplete($_iO4m); $_il4n->styleFolder =$this->KoolAutoCompleteFolder.'styles/default'; $_il4n->attachTo =$_iO4i; $_il4n->serviceFunction =$this->serviceFunction; $_il4n->itemTemplate =$this->itemTemplate; $_il4n->footerTemplate =$this->footerTemplate; $_il4n->ClientEvents =$this->ClientEvents; $_il4n->ClientEvents['OnSelectAndClose']='grid_autocomplete_filter_trigger'; $_il4n->ClientEvents['OnBlurAndClose']='grid_autocomplete_filter_trigger'; $_il3t.=$_il4n->render(); return $_il3t; } } class gridoptionscolumn extends gridcolumn { var $ChoiceType='Checkboxes'; var $Options=array(); var $DefaultOptions=array(); var $Delimiter=','; function addoption($_il1m) { if (is_string($_il1m)) $_il40=explode($this->Delimiter ,$_il1m); else if (is_array($_il1m)) $_il40=$_il1m; $this->Options =array_merge($this->Options ,$_il40); return $this; } function adddefaultoption($_il1m) { if (is_string($_il1m)) $_il40=explode($this->Delimiter ,$_il1m); else if (is_array($_il1m)) $_il40=$_il1m; $this->DefaultOptions =array_merge($this->DefaultOptions ,$_il40); return $this; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridoptionscolumn(); } parent::createinstance($_il3i); $_il3i->ChoiceType =$this->ChoiceType; $_il3i->Options =$this->Options; $_il3i->DefaultOptions =$this->DefaultOptions; $_il3i->Delimiter =$this->Delimiter; return $_il3i; } function render($_iO1s) { $_il4o=$_iO1s->DataItem[$this->DataField ]; $_il4o=explode($this->Delimiter ,$_il4o); $_iO4o="<u\154\040style=\047\156one\047\076\173\151\164em}</\165\154>"; $_il4p="\074\154i>\173n\141\155e}</l\151\076"; foreach ($_il4o as $_il16) { $_iO4p=str_replace("\173\156ame}",$_il16,$_il4p); $_iO4o=str_replace("\173it\145\155\175",$_iO4p."\173item}",$_iO4o); } $_iO4o=str_replace("\173item}","",$_iO4o); return $_iO4o; } function formeditrender($_iO1s) { $_il4q=$_iO1s->_il2e."_".$this->_il2e."_input"; $_il4o=$_iO1s->DataItem[$this->DataField ]; if (empty($_il4o)) $_il4o=$this->DefaultOptions; else $_il4o=explode($this->Delimiter ,$_il4o); $_il1m="<div>\173\143\150oice\175\074/di\166\076"; $_iO4q=$this->ChoiceType === 'RadioButtons' ? 'radio': 'checkbox'; $_il4p= "\074lab\145\154\040cla\163\163='op\164\151\157n-c\157\154umn'\076\074in\160\165t cla\163\163='opt\151\157n-\143\157lum\156\047 \164\171pe\075'$_iO4q\047 value=\047\173optio\156\175' nam\145\075'\173i\144\175[]' \173\143hec\153\145d} />\173\157ption\175\074/labe\154\076"; foreach ($this->Options as $_iO40) { $_iO4p=str_replace("\173option}",$_iO40,$_il4p); $_iO4p=str_replace("\173\151d}",$_il4q,$_iO4p); $_iO4p=str_replace("\173\143hecked}",in_array($_iO40,$_il4o) ? "ch\145cked": "",$_iO4p); $_il1m=str_replace("\173cho\151\143e}",$_iO4p."\173\143hoice}",$_il1m); } $_il1m=str_replace("\173\143hoice}","",$_il1m); return $_il1m; } function inlineeditrender($_iO1s) { return $this->formeditrender($_iO1s); } function geteditvalue($_iO1s) { $_il4q=$_iO1s->_il2e."_".$this->_il2e."\137input"; $_il4o=$_POST[$_il4q]; $_il4o=implode($this->Delimiter ,$_il4o); return $_il4o; } } class gridfilecolumn extends gridcolumn { var $BaseDirectory; var $TableName; var $IdColumn; var $UploadHandlePage; var $MustHaveFiles; var $MaxFileSize=046113200; var $AllowedExtension="gif\054\152pg,doc\054\160df,tx\164"; var $AllowDelete=FALSE; var $AllowDownload=TRUE; var $AutoUpload=FALSE; var $InitialShownFiles=3; var $ShowDescription=FALSE; var $MultipleUpload=TRUE; var $KoolUploaderFolder='kooluploader'; function _il4r($_iO4r) { $_il4s=substr(strrchr($_iO4r,'.'),1); $_iO4s=array('pdf' => 'pdf_2-16','zip' => 'zip_2-16','rar' => 'zip_2-16','7z' => 'zip_2-16','doc' => 'word_2-16','docx' => 'word_2-16','jpg' => 'image_2-16','jpeg' => 'image_2-16','png' => 'image_2-16','xls' => 'excel_2-16','xlsx' => 'excel_2-16','ppt' => 'powerpoint_2-16','pptx' => 'powerpoint_2-16','txt' => 'text_2-16'); if (array_key_exists($_il4s,$_iO4s)) $_il4t=$_iO4s[$_il4s]; else $_il4t='file_2-16'; return $_il4t; } function render($_iO1s) { $_iO4i='ul_'.$_iO1s->_il2e."\137".$this->_il2e; $_il1m= "<ul\040\143lass=\047\153grFile\114\151st' \151\144='$_iO4i' >"; $_iO4t="<span c\154\141ss='ko\157\154phpfi\154\145forma\164\040\173cl\141\163s}'\076\074/sp\141\156>"; $_iO4t.=$this->AllowDownload ? "<a \150\162ef='\173\146\151lepat\150\175' dow\156\154\157ad>\173\144isp\154\141y}</\141\076": "\173dis\160\154\141y}"; $_il4u=$_iO1s->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_il4u=stripslashes($_il4u); $_il4u=json_decode($_il4u,TRUE); $_iO4u=0; if (is_array($_il4u)) foreach ($_il4u as $_il4v) { if ($_iO4u<$this->InitialShownFiles) $_iO4v=''; else $_iO4v='none'; $_iO3c=$_iO4t; $_il4w=$_il4v['name']; if (!empty($_il4v['description'])) $_iO32=$_il4v['description']; else $_iO32=$_il4w; if ($this->ShowDescription) { $_iO4w=$_iO32; $_il4x=$_il4w; } else { $_iO4w=$_il4w; $_il4x=$_iO32; } $_iO3c=str_replace("\173d\151\163pla\171}",$_iO4w,$_iO3c); $_iO4x=$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1s->DataItem[$this->IdColumn ].'/'.$_il4w; $_iO3c=str_replace("\173\146ile\160\141th\175",$_iO4x,$_iO3c); $_iO3c=str_replace("\173clas\163\175",'koolphp-'.$this->_il4r($_il4w),$_iO3c); $_il1m.="\074li\040\164it\154e='".$_il4x."\047 st\171\154e='\144\151sp\154\141y\072".$_iO4v."'>".$_iO3c."\074/li\076"; $_iO4u ++; } if (count($_il4u)>$this->InitialShownFiles) { $_il1m.="<\154i><s\160\141n c\154\141ss=\047kgr\106\151l\145\106or\155\141t\040kg\162\146i\154\145'>\074\057sp\141n>..\056</l\151\076</\165l>"; $_il1m.= "\074a\040\163ty\154\145='\143\165r\163\157r\072\160o\151\156t\145r; \146ont\055wei\147\150t\072\142ol\144\073'\040\157nc\154ick=\105xpa\156\144L\151\163t(\047$_iO4i')\076>></a\076\074a\040\163ty\154\145='\143\165rs\157\162:\160\157in\164er;\040fon\164\055we\151ght\072\142ol\144\073 \144\151sp\154\141y:\156\157ne\047\040o\156\143li\143\153=\042\103oll\141pseL\151st(\047$_iO4i'\054\040$this->InitialShownFiles\051\042><\074\074/a\076"; } return $_il1m; } function formeditrender($_iO1s) { $_il4y="k\165l_".$_iO1s->_il2e."\137".$this->_il2e; $_iO4y=$_iO1s->_il2e."\137".$this->_il2e."_\151\156put"; $_il1m=''; $_il1m.="\074input t\171\160e=hid\144\145n id=\173\151d} na\155\145=\173i\144\175 ge\164\105ditVa\154\165e='\173\153\165lId}.\147\145tItem\163\123tatus\050\051'>"; $_il1m=_iO0("\173id}",$_iO4y,$_il1m); $_il1m=_iO0("\173kulId}",$_il4y,$_il1m); $_il6=array(); $_il4u=$_iO1s->DataItem[$this->DataField ]; if (get_magic_quotes_gpc()) $_il4u=stripslashes($_il4u); $_il4u=json_decode($_il4u,TRUE); if (is_array($_il4u)) foreach ($_il4u as $_il4v) { $_iO32=''; if ( isset ($_il4v['description'])) $_iO32=$_il4v['description']; array_push($_il6,array('name' => $_il4v['name'],'description' => $_iO32)); } $_il4z=new kooluploader($_il4y); $_il4z->styleFolder =$this->KoolUploaderFolder.'styles/default'; $_il4z->allowedExtension =$this->AllowedExtension; $_il4z->maxFileSize =$this->MaxFileSize; $_il4z->allowDelete =$this->AllowDelete; $_il4z->allowDownload =$this->AllowDownload; $_il4z->autoUpload =$this->AutoUpload; $_il4z->multipleUpload =$this->MultipleUpload; $_il4z->progressTracking =FALSE; $_il4z->updateProgressInterval =024; $_il4z->targetFolder =$this->BaseDirectory.'/'.$this->TableName.'/'.$_iO1s->DataItem[$this->IdColumn ]; $_il4z->currentFiles =$_il6; $_il4z->width ='90%'; $_il4z->mustHaveFiles =$this->MustHaveFiles; $_il1m.=$_il4z->render(); return $_il1m; } function createinstance($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridfilecolumn(); } parent::createinstance($_il3i); $_il3i->BaseDirectory =$this->BaseDirectory; $_il3i->TableName =$this->TableName; $_il3i->IdColumn =$this->IdColumn; $_il3i->UploadHandlePage =$this->UploadHandlePage; $_il3i->MustHaveFiles =$this->MustHaveFiles; $_il3i->AllowDelete =$this->AllowDelete; $_il3i->AllowDownload =$this->AllowDownload; $_il3i->AllowedExtension =$this->AllowedExtension; $_il3i->AutoUpload =$this->AutoUpload; $_il3i->InitialShownFiles =$this->InitialShownFiles; $_il3i->ShowDescription =$this->ShowDescription; $_il3i->MultipleUpload =$this->MultipleUpload; return $_il3i; } } class _iO4z implements _il29 { var $_il2e; var $_il2n; var $_iO2m; var $TableView; var $PageIndex=0; var $_il50; var $_iO50; var $PageSize; var $ShowPageInfo=TRUE; var $PageInfoTemplate; var $ShowPageSize=FALSE; var $PageSizeText; var $PageSizeOptions="\065\054\0610\05420,\064\060"; var $Position="\142o\164\164om"; var $ShowPageOverlap=FALSE; var $PageOverlap=0; var $PageOverlapText; var $PageOverlapOptions="\060,1\054\062,3\0544,5"; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->TableView =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->PageSize === NULL) $this->PageSize =$this->_il2n->PageSize; if ($this->PageInfoTemplate === NULL) $this->PageInfoTemplate =$_il2p->_il2b->Localization->_iO2i["\120\141geI\156\146o\124\145mp\154at\145"]; if ($this->PageSizeText === NULL) $this->PageSizeText =$_il2p->_il2b->Localization->_iO2i["\120age\123\151z\145Tex\164"]; if ($this->PageOverlapText === NULL) $this->PageOverlapText =$_il2p->_il2b->Localization->_iO2i["\120ageOve\162\154apText"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->PageIndex =$_iO2p["Pag\145\111ndex"]; $this->_il50 =$_iO2p["\137\124otal\120\141ges"]; $this->_iO50 =$_iO2p["\137\124otalRow\163"]; $this->PageSize =$_iO2p["Pag\145\123ize"]; $this->PageOverlap =$_iO2p["\120ageO\166\145rla\160"]; } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("\120ageIn\144\145x" => $this->PageIndex ,"\137TotalP\141\147\145s" => $this->_il50 ,"\120age\123\151ze" => $this->PageSize ,"_TotalR\157\167\163" => $this->_iO50 ,"\120\141\147eOve\162\154\141p" => $this->PageOverlap ,); } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["Comm\141\156d"]) { case "GoPag\145": if ($this->_il2n->_il2b->EventHandler->onbeforepageindexchange($this,array("NewPag\145\111ndex" => $_iO2v["A\162\147s"]["Pa\147\145Index"])) == TRUE) { $this->PageIndex =$_iO2v["\101rgs"]["\120\141geInde\170"]; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->onpageindexchange($this,array()); } break; case "\103hange\120\141\147eSiz\145": if ($this->_il2n->_il2b->EventHandler->onbeforepagesizechange($this,array("NewPag\145\123\151ze" => $_iO2v["\101\162\147s"]["\120ageSize"])) == TRUE) { $this->PageSize =$_iO2v["Arg\163"]["PageS\151\172\145"]; if ($this->PageSize <$this->PageOverlap) $this->PageOverlap =0; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->onpagesizechange($this,array()); } break; case "Cha\156\147ePag\145\117ver\154\141p": if ($this->_il2n->_il2b->EventHandler->_il51($this,array("Ne\167\120ageO\166\145rla\160" => $_iO2v["A\162\147s"]["Pag\145\117verl\141\160"])) == TRUE) { $this->PageOverlap =$_iO2v["\101rgs"]["\120\141geOverl\141\160"]; if ($this->PageSize <=$this->PageOverlap) $this->PageOverlap =0; $this->_il2n->_il2f =TRUE; $this->_il2n->_il2b->EventHandler->_iO51($this,array()); } break; } } $this->_il50 =ceil($this->_iO50 /($this->PageSize -$this->PageOverlap)); if ($this->PageIndex >=$this->_il50) $this->PageIndex =$this->_il50 -1; if ($this->PageIndex <0) $this->PageIndex =0; } function _il52() { return $this->PageIndex *($this->PageSize -$this->PageOverlap); } function _iO2f() { return ""; } function _iO52() { $_il53="\074div cl\141\163s='kgr\111\156fo \173\143\163scl\141\163ses}'\076\173t\145\170t}</d\151\166>"; $_il3=_iO0("\173\120ageIndex\175",($this->_il50 >0) ? ($this->PageIndex +1): 0,$this->PageInfoTemplate); $_il3=_iO0("\173Tota\154\120ages}",$this->_il50 ,$_il3); $_iO53=($this->_il50 >0) ? ($this->_il52()+1): 0; $_il54=$this->_il52()+$this->PageSize; if ($_il54>$this->_iO50) $_il54=$this->_iO50; $_il3=_iO0("\173FirstI\156\144exInPa\147\145}",$_iO53,$_il3); $_il3=_iO0("\173\114astInd\145\170InPage\175",$_il54,$_il3); $_il3=_iO0("\173\124\157\164alRo\167\163}",$this->_iO50 ,$_il3); $_iO54=_iO0("\173\164\145xt}",$_il3,$_il53); return $_iO54; } function _il55() { $_iO55="<\144\151\166 cla\163\163='kgrP\141\147eSiz\145\040\173cs\163\143las\163\145s}'>\173\164ext}\173\163\145lect\175\074/di\166\076"; $_iO3y="\074\163elect \157\156change\075\047grid\137\160agesi\172\145_se\154\145ct_o\156\143hange\050\164his)\047\076\173op\164\151\157ns\175\074/sel\145\143t>"; $_il3z="<optio\156\040value=\047\173value\175\047 \173s\145\154ected\175\076\173v\141\154ue}<\057\157ption\076"; $_il40=""; $_il56=explode(',',$this->PageSizeOptions); for ($_iO9=0; $_iO9<sizeof($_il56); $_iO9 ++) { $_iO40=_iO0("\173\166\141lue}",$_il56[$_iO9],$_il3z); $_iO40=_iO0("\173sele\143\164ed}",($this->PageSize == (int) $_il56[$_iO9]) ? "selecte\144": "",$_iO40); $_il40.=$_iO40; } $_il41=_iO0("\173\157ptions\175",$_il40,$_iO3y); $_iO56=_iO0("\173\164\145\170t}",$this->PageSizeText ,$_iO55); $_iO56=_iO0("\173\163\145lect}",$_il41,$_iO56); return $_iO56; } function _il57() { $_iO57="<\144\151\166 cla\163\163='kgrP\141\147eSiz\145\040\173cs\163\143las\163\145s}'>\173\164ext}\173\163\145lect\175\074/div>"; $_iO3y="<selec\164\040onchan\147\145='gri\144\137pageo\166\145rlap_\163\145lec\164\137oncha\156\147e(thi\163\051'>\173o\160\164ions}\074\057sel\145\143t>"; $_il3z="\074opt\151\157n \166\141lue\075'\173\166\141l\165\145}\047 \173\163el\145\143t\145\144}>\173\166al\165\145}</\157\160ti\157\156>"; $_il40=""; $_il56=explode(',',$this->PageOverlapOptions); for ($_iO9=0; $_iO9<sizeof($_il56); $_iO9 ++) { $_iO40=_iO0("\173v\141\154\165e}",$_il56[$_iO9],$_il3z); $_iO40=_iO0("\173\163electe\144\175",($this->PageOverlap == (int) $_il56[$_iO9]) ? "\163elected": "",$_iO40); $_il40.=$_iO40; } $_il41=_iO0("\173\157\160tions\175",$_il40,$_iO3y); $_il58=_iO0("\173\164\145xt}",$this->PageOverlapText ,$_iO57); $_il58=_iO0("\173\163elect\175",$_il41,$_il58); return $_il58; } function _il2t($_il3i=NULL) { $_il3i->PageIndex =$this->PageIndex; $_il3i->ShowPageInfo =$this->ShowPageInfo; $_il3i->PageInfoTemplate =$this->PageInfoTemplate; $_il3i->ShowPageSize =$this->ShowPageSize; $_il3i->PageSizeText =$this->PageSizeText; $_il3i->PageSizeOptions =$this->PageSizeOptions; $_il3i->PageSize =$this->PageSize; $_il3i->Position =$this->Position; $_il3i->ShowPageOverlap =$this->ShowPageOverlap; $_il3i->PageOverlap =$this->PageOverlap; $_il3i->PageOverlapText =$this->PageOverlapText; $_il3i->PageOverlapOptions =$this->PageOverlapOptions; } } class gridprevnextpager extends _iO4z { var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FirstPageText === NULL) $this->FirstPageText =$_il2p->_il2b->Localization->_il2i["F\151rst"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_il2p->_il2b->Localization->_iO2i["\106\151rstPa\147\145Tool\124\151p"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_il2p->_il2b->Localization->_il2i["\120\162ev"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_il2p->_il2b->Localization->_iO2i["P\162\145vPage\124\157olTip"]; if ($this->NextPageText === NULL) $this->NextPageText =$_il2p->_il2b->Localization->_il2i["Next"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_il2p->_il2b->Localization->_iO2i["\116\145xtP\141\147eTo\157\154Tip"]; if ($this->LastPageText === NULL) $this->LastPageText =$_il2p->_il2b->Localization->_il2i["\114ast"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_il2p->_il2b->Localization->_iO2i["La\163tPage\124\157ol\124\151p"]; } function _iO2f() { $_iO58="<d\151v c\154\141s\163\075\047\153\147\162P\141ger\040kg\162\116\145\170tP\162evN\145\170tP\141\147e\162'>\173\160age\163\151z\145}\173\160age\157ver\154\141p}\173nav}\173\151nf\157}<d\151\166 s\164\171le\075'cl\145\141r:\142oth\047></\144\151v\076</di\166>"; $_il59="<\144\151v c\154ass=\047kgrN\141v \173\143ssc\154\141s\163\145s\175'>\173\146i\162st\175\040\173\160re\166\175 \173\156ext\175\040\173\154a\163\164}\074/di\166\076"; $_il4b="\074input\040\164yp\145\075'\142\165tt\157\156'\040\157n\143\154i\143k='\173on\143lick\175\047 \164\151t\154\145=\047\173t\151\164le\175' c\154\141ss\075'nod\145\143o\162\047/\076"; $_iO59="<\141\040h\162\145f=\047java\163cri\160\164:v\157id \060' o\156cli\143k=\047\173o\156\143li\143\153}'\040tit\154\145=\047\173t\151\164l\145}'>\173\164ex\164}</\141\076"; $_il5a="<\163\160an\040\143l\141\163s=\040\047\173\143la\163\163}'\076\173\142\165t\164on}\074\057s\160\141n>"; $_iO5a=_iO0("\173onc\154\151c\153}",($this->PageIndex >0) ? "gri\144\137go\160age(\164\150is\0540)": "",$_il4b); $_iO5a=_iO0("\173t\151\164le}",$this->FirstPageToolTip ,$_iO5a); $_il5b=_iO0("\173\157\156cl\151ck}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "\147ri\144\137go\160age\050\164h\151s,0)": "",$_iO59); $_il5b=_iO0("\173\164ext\175",$this->FirstPageText ,$_il5b); $_il5b=_iO0("\173ti\164\154e}",$this->FirstPageToolTip ,$_il5b); $_iO5b=_iO0("\173butt\157\156}",$_iO5a.$_il5b,$_il5a); $_iO5b=_iO0("\173\143la\163\163}","kgr\106\151rs\164",$_iO5b); $_il5c=_iO0("\173onc\154\151ck\175",($this->PageIndex >0) ? "gri\144_gop\141\147e(\164\150i\163,".($this->PageIndex -1)."\051": "",$_il4b); $_il5c=_iO0("\173ti\164\154e}",$this->PrevPageToolTip ,$_il5c); $_iO5c=_iO0("\173o\156\143lic\153\175",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "\147rid\137\147o\160\141g\145(th\151s,".($this->PageIndex -1)."\051": "",$_iO59); $_iO5c=_iO0("\173te\170\164}",$this->PrevPageText ,$_iO5c); $_iO5c=_iO0("\173\164itle}",$this->PrevPageToolTip ,$_iO5c); $_il5d=_iO0("\173\142u\164\164o\156}",$_il5c.$_iO5c,$_il5a); $_il5d=_iO0("\173cla\163\163}","\153\147rP\162\145v",$_il5d); $_iO5d=_iO0("\173onc\154\151c\153\175",($this->PageIndex <$this->_il50 -1) ? "\147r\151\144_go\160age(\164\150i\163\054".($this->PageIndex +1)."\051": "",$_il4b); $_iO5d=_iO0("\173tit\154\145}",$this->NextPageToolTip ,$_iO5d); $_il5e=_iO0("\173o\156\143li\143k}",(($this->PageIndex <$this->_il50 -1) && $this->NextPageText !== NULL) ? "gri\144\137go\160\141g\145(thi\163,".($this->PageIndex +1)."\051": "",$_iO59); $_il5e=_iO0("\173text}",$this->NextPageText ,$_il5e); $_il5e=_iO0("\173title}",$this->NextPageToolTip ,$_il5e); $_iO5e=_iO0("\173butt\157\156}",$_il5e.$_iO5d,$_il5a); $_iO5e=_iO0("\173\143\154ass}","kgrNext",$_iO5e); $_il5f=_iO0("\173onclick\175",($this->PageIndex <$this->_il50 -1) ? "g\162\151d_gopag\145\050this,".($this->_il50 -1).")": "",$_il4b); $_il5f=_iO0("\173title\175",$this->LastPageToolTip ,$_il5f); $_iO5f=_iO0("\173\157nclick}",(($this->PageIndex <$this->_il50 -1) && $this->LastPageText !== NULL) ? "gri\144\137gopage(\164\150is,".($this->_il50 -1)."\051": "",$_iO59); $_iO5f=_iO0("\173text}",$this->LastPageText ,$_iO5f); $_iO5f=_iO0("\173\164\151tle}",$this->LastPageToolTip ,$_iO5f); $_il5g=_iO0("\173\142utton}",$_iO5f.$_il5f,$_il5a); $_il5g=_iO0("\173\143\154ass}","\153grLast",$_il5g); $_iO5g=_iO0("\173prev}",$_il5d,$_il59); $_iO5g=_iO0("\173next}",$_iO5e,$_iO5g); $_iO5g=_iO0("\173\146irst}",$_iO5b,$_iO5g); $_iO5g=_iO0("\173\154ast}",$_il5g,$_iO5g); $_iO56=($this->ShowPageSize) ? $this->_il55(): ""; $_il58=($this->ShowPageOverlap) ? $this->_il57(): ""; $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173nav}",$_iO5g,$_iO58); $_il5h=_iO0("\173i\156fo}",$_iO54,$_il5h); $_il5h=_iO0("\173page\163\151ze}",$_iO56,$_il5h); $_il5h=_iO0("\173pageov\145\162\154ap}",$_il58,$_il5h); return $_il5h; } function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridprevnextpager(); } parent::_il2t($_il3i); $_il3i->FirstPageText =$this->FirstPageText; $_il3i->LastPageText =$this->LastPageText; $_il3i->FirstPageToolTip =$this->FirstPageToolTip; $_il3i->LastPageToolTip =$this->LastPageToolTip; $_il3i->NextPageText =$this->NextPageText; $_il3i->PrevPageText =$this->PrevPageText; $_il3i->NextPageToolTip =$this->NextPageToolTip; $_il3i->PrevPageToolTip =$this->PrevPageToolTip; return $_il3i; } } class gridnumericpager extends _iO4z { var $Range=012; function _iO2f() { $_iO58="\074div cl\141\163s='kgr\120\141ger \153\147rNume\162\151cPag\145\162'>\173\160agesi\172\145\175\173p\141\147eover\154\141p}\173\156\141v}\173\151\156fo}<d\151\166 styl\145\075'clea\162\072both\047\076</div\076\074/div\076"; $_il59="\074div cl\141\163s='kgr\116\141v \173\143\163sclas\163\145s}'>\173\156umbe\162\163}</d\151\166>"; $_iO5h="<a c\154\141ss='kg\162\116\165m \173\163\145lec\164\145d}' \173\150ref}\040\173oncli\143\153}><sp\141\156>\173nu\155\142er}</\163\160an><\057\141> "; $_il5i=floor($this->PageIndex /$this->Range)*$this->Range; $_iO5i=""; if ($_il5i>0) { $_iO45=_iO0("\173href\175","h\162\145\146='ja\166\141script\072\166oid \060\047",$_iO5h); $_iO45=_iO0("\173oncl\151\143k}","o\156\143\154ick=\047\147rid_go\160\141ge(t\150\151s,".($_il5i-1)."\051\047",$_iO45); $_iO45=_iO0("\173\156umber}","\056..",$_iO45); $_iO5i.=$_iO45; } for ($_iO9=$_il5i; $_iO9<$_il5i+$this->Range && $_iO9<$this->_il50; $_iO9 ++) { $_iO45=_iO0("\173\156um\142\145r}",($_iO9+1),$_iO5h); if ($_iO9 == $this->PageIndex) { $_iO45=_iO0("\173\163\145lecte\144\175","kgrNu\155\123elected",$_iO45); $_iO45=_iO0("\173\150ref}","",$_iO45); $_iO45=_iO0("\173\157nclick}","",$_iO45); } else { $_iO45=_iO0("\173sele\143\164ed}","",$_iO45); $_iO45=_iO0("\173\150\162\145f}","\150\162\145f='ja\166\141script\072\166oid\040\060'",$_iO45); $_iO45=_iO0("\173\157ncl\151\143k\175","\157ncl\151\143k\075'gri\144_go\160age\050thi\163\054".$_iO9."\051'",$_iO45); } $_iO5i.=$_iO45; } if ($_il5i+$this->Range <$this->_il50) { $_iO45=_iO0("\173\150ref}","\150ref\075\047j\141vas\143\162i\160t:v\157\151d \060'",$_iO5h); $_iO45=_iO0("\173on\143\154ic\153\175","\157ncl\151\143k=\047grid\137\147o\160\141g\145(t\150\151s,".($_il5i+$this->Range).")'",$_iO45); $_iO45=_iO0("\173\156\165mbe\162}","\056..",$_iO45); $_iO45=_iO0("\173\163ele\143\164ed\175","",$_iO45); $_iO5i.=$_iO45; } $_iO5g=_iO0("\173\156\165mbe\162\163}",$_iO5i,$_il59); $_iO56=($this->ShowPageSize) ? $this->_il55(): ""; $_il58=($this->ShowPageOverlap) ? $this->_il57(): ""; $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173\156av}",$_iO5g,$_iO58); $_il5h=_iO0("\173info\175",$_iO54,$_il5h); $_il5h=_iO0("\173\160\141ge\163\151\172e}",$_iO56,$_il5h); $_il5h=_iO0("\173p\141\147eov\145rla\160\175",$_il58,$_il5h); return $_il5h; } function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridnumericpager(); } parent::_il2t($_il3i); $_il3i->Range =$this->Range; return $_il3i; } } class gridprevnextandnumericpager extends _iO4z { var $Range=012; var $FirstPageText; var $FirstPageToolTip; var $PrevPageText; var $PrevPageToolTip; var $NextPageText; var $NextPageToolTip; var $LastPageText; var $LastPageToolTip; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->FirstPageText === NULL) $this->FirstPageText =$_il2p->_il2b->Localization->_il2i["Fir\163t"]; if ($this->FirstPageToolTip === NULL) $this->FirstPageToolTip =$_il2p->_il2b->Localization->_iO2i["Fir\163\164Pa\147\145To\157\154Ti\160"]; if ($this->PrevPageText === NULL) $this->PrevPageText =$_il2p->_il2b->Localization->_il2i["\120\162\145v"]; if ($this->PrevPageToolTip === NULL) $this->PrevPageToolTip =$_il2p->_il2b->Localization->_iO2i["\120revPag\145\124ool\124\151p"]; if ($this->NextPageText === NULL) $this->NextPageText =$_il2p->_il2b->Localization->_il2i["Next"]; if ($this->NextPageToolTip === NULL) $this->NextPageToolTip =$_il2p->_il2b->Localization->_iO2i["\116e\170\164\120a\147\145\124o\157\154Ti\160"]; if ($this->LastPageText === NULL) $this->LastPageText =$_il2p->_il2b->Localization->_il2i["\114ast"]; if ($this->LastPageToolTip === NULL) $this->LastPageToolTip =$_il2p->_il2b->Localization->_iO2i["LastPa\147\145Too\154\124ip"]; } function _iO2f() { $_iO58="\074div \143\154ass='k\147\162Page\162\040kgrN\145\170tPre\166\101nd\116\165mer\151\143Pager\047\076\173p\141\147esi\172\145\175\173\160\141geov\145\162lap}\173\156\141v}\173\151\156fo}<d\151\166 styl\145\075'clea\162\072both\047\076</div\076\074/div\076"; $_il59="<div\040\143lass='\153\147rNav \173\143sscla\163\163\145s}'\076\173fir\163\164} \173\160\162ev} \173\156\165mbe\162\163\175 \173\156\145xt} \173\154\141st}\074\057div>"; $_iO5h="<a cla\163\163\075'kg\162\116\165m \173\163\145lec\164\145d}' \173\150ref}\040\173oncl\151\143k}><s\160\141\156>\173\156\165mber}\074\057span\076\074/a> "; $_il4b="<inpu\164\040type='\142\165tt\157\156' on\143\154ic\153='\173\157ncl\151ck}\047\040ti\164\154e='\173\164itle}\047\040cl\141\163s=\047\156ode\143\157r'/\076"; $_iO59="\074a href=\047\152avasc\162\151pt:vo\151\144 0' o\156\143lick\075\047\173o\156\143lick\175\047 titl\145\075'\173t\151\164le}'>\173\164ext}\074\057a>"; $_il5a="\074span c\154\141ss= '\173\143\154ass\175\047>\173b\165\164ton}\074\057spa\156\076"; $_il5i=floor($this->PageIndex /$this->Range)*$this->Range; $_iO5i=""; if ($_il5i>0) { $_iO45=_iO0("\173href}","href=\047\152avasc\162\151\160t:v\157\151d 0'",$_iO5h); $_iO45=_iO0("\173onc\154\151\143k}","onclick\075\047grid_g\157\160age(t\150\151s,".($_il5i-1).")'",$_iO45); $_iO45=_iO0("\173numbe\162\175","\056..",$_iO45); $_iO5i.=$_iO45; } for ($_iO9=$_il5i; $_iO9<$_il5i+$this->Range && $_iO9<$this->_il50; $_iO9 ++) { $_iO45=_iO0("\173nu\155\142er\175",($_iO9+1),$_iO5h); if ($_iO9 == $this->PageIndex) { $_iO45=_iO0("\173\163\145lec\164\145d\175","kgrNu\155\123ele\143\164ed",$_iO45); $_iO45=_iO0("\173\150ref\175","",$_iO45); $_iO45=_iO0("\173onc\154\151\143k}","",$_iO45); } else { $_iO45=_iO0("\173\163\145lec\164\145d}","",$_iO45); $_iO45=_iO0("\173href}","hre\146\075'java\163\143ript:\166\157id 0\047",$_iO45); $_iO45=_iO0("\173o\156\143lic\153\175","\157ncl\151\143k='\147\162id\137\147op\141\147e\050thi\163,".$_iO9.")\047",$_iO45); } $_iO5i.=$_iO45; } if ($_il5i+$this->Range <$this->_il50) { $_iO45=_iO0("\173href}","\150ref=\047\152a\166\141scr\151\160t:\166\157id\0400'",$_iO5h); $_iO45=_iO0("\173o\156\143lick}","\157nclick\075\047grid_\147\157page\050\164his,".($_il5i+$this->Range)."\051\047",$_iO45); $_iO45=_iO0("\173number\175","...",$_iO45); $_iO45=_iO0("\173\163\145\154ecte\144\175","",$_iO45); $_iO5i.=$_iO45; } $_iO5a=_iO0("\173\157\156click\175",($this->PageIndex >0) ? "\147\162id_g\157\160\141ge(t\150\151s,0)": "",$_il4b); $_iO5a=_iO0("\173\164itle}",$this->FirstPageToolTip ,$_iO5a); $_il5b=_iO0("\173\157nclick}",($this->PageIndex >0 && $this->FirstPageText !== NULL) ? "grid_g\157\160\141ge(t\150\151s,0)": "",$_iO59); $_il5b=_iO0("\173tex\164\175",$this->FirstPageText ,$_il5b); $_il5b=_iO0("\173t\151\164le}",$this->FirstPageToolTip ,$_il5b); $_iO5b=_iO0("\173bu\164\164\157n}",$_iO5a.$_il5b,$_il5a); $_iO5b=_iO0("\173\143\154ass}","k\147\162\106irst",$_iO5b); $_il5c=_iO0("\173o\156\143\154ick}",($this->PageIndex >0) ? "grid_g\157\160age(th\151\163\054".($this->PageIndex -1)."\051": "",$_il4b); $_il5c=_iO0("\173\164\151tle}",$this->PrevPageToolTip ,$_il5c); $_iO5c=_iO0("\173o\156\143\154ick}",($this->PageIndex >0 && $this->PrevPageText !== NULL) ? "grid_g\157\160\141ge(\164\150\151s,".($this->PageIndex -1).")": "",$_iO59); $_iO5c=_iO0("\173text}",$this->PrevPageText ,$_iO5c); $_iO5c=_iO0("\173\164it\154\145}",$this->PrevPageToolTip ,$_iO5c); $_il5d=_iO0("\173\142\165tto\156\175",$_il5c.$_iO5c,$_il5a); $_il5d=_iO0("\173cl\141\163s}","\153grP\162\145v",$_il5d); $_iO5d=_iO0("\173oncli\143\153}",($this->PageIndex <$this->_il50 -1) ? "g\162\151d_gopa\147\145(this\054".($this->PageIndex +1).")": "",$_il4b); $_iO5d=_iO0("\173titl\145\175",$this->NextPageToolTip ,$_iO5d); $_il5e=_iO0("\173on\143\154ic\153\175",(($this->PageIndex <$this->_il50 -1) && $this->NextPageText !== NULL) ? "gri\144_gopa\147\145(t\150\151s,".($this->PageIndex +1)."\051": "",$_iO59); $_il5e=_iO0("\173\164ext\175",$this->NextPageText ,$_il5e); $_il5e=_iO0("\173tit\154\145\175",$this->NextPageToolTip ,$_il5e); $_iO5e=_iO0("\173bu\164\164\157n}",$_il5e.$_iO5d,$_il5a); $_iO5e=_iO0("\173\143\154\141ss}","kg\162\116ext",$_iO5e); $_il5f=_iO0("\173on\143\154\151ck}",($this->PageIndex <$this->_il50 -1) ? "\147rid_go\160\141ge(thi\163\054".($this->_il50 -1).")": "",$_il4b); $_il5f=_iO0("\173title}",$this->LastPageToolTip ,$_il5f); $_iO5f=_iO0("\173oncl\151\143k}",(($this->PageIndex <$this->_il50 -1) && $this->LastPageText !== NULL) ? "\147\162id_gopa\147\145(this,".($this->_il50 -1).")": "",$_iO59); $_iO5f=_iO0("\173text}",$this->LastPageText ,$_iO5f); $_iO5f=_iO0("\173titl\145\175",$this->LastPageToolTip ,$_iO5f); $_il5g=_iO0("\173\142utt\157\156}",$_iO5f.$_il5f,$_il5a); $_il5g=_iO0("\173\143\154ass\175","\153grL\141\163t",$_il5g); $_iO5g=_iO0("\173\156\165mber\163\175",$_iO5i,$_il59); $_iO5g=_iO0("\173\160rev}",$_il5d,$_iO5g); $_iO5g=_iO0("\173\156ext}",$_iO5e,$_iO5g); $_iO5g=_iO0("\173\146ir\163\164}",$_iO5b,$_iO5g); $_iO5g=_iO0("\173last\175",$_il5g,$_iO5g); $_iO56=($this->ShowPageSize) ? $this->_il55(): ""; $_il58=($this->ShowPageOverlap) ? $this->_il57(): ""; $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173\156av}",$_iO5g,$_iO58); $_il5h=_iO0("\173info}",$_iO54,$_il5h); $_il5h=_iO0("\173\160ag\145\163i\172\145}",$_iO56,$_il5h); $_il5h=_iO0("\173pag\145\157verla\160\175",$_il58,$_il5h); return $_il5h; } function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridprevnextandnumericpager(); } parent::_il2t($_il3i); $_il3i->Range =$this->Range; $_il3i->FirstPageText =$this->FirstPageText; $_il3i->LastPageText =$this->LastPageText; $_il3i->FirstPageToolTip =$this->FirstPageToolTip; $_il3i->LastPageToolTip =$this->LastPageToolTip; $_il3i->NextPageText =$this->NextPageText; $_il3i->PrevPageText =$this->PrevPageText; $_il3i->NextPageToolTip =$this->NextPageToolTip; $_il3i->PrevPageToolTip =$this->PrevPageToolTip; return $_il3i; } } class gridmanualpager extends _iO4z { var $ManualPagerTemplate; var $ButtonType="\102\165tton"; var $GoPageButtonText; var $TextBoxWidth="\0625\160\170"; function _iO2c($_il2p) { parent::_iO2c($_il2p); if ($this->ManualPagerTemplate === NULL) $this->ManualPagerTemplate =$_il2p->_il2b->Localization->_iO2i["\115a\156\165alPa\147\145rT\145\155p\154\141te"]; if ($this->GoPageButtonText === NULL) $this->GoPageButtonText =$_il2p->_il2b->Localization->_il2i["G\157"]; } function _il2v($_ilm) { parent::_il2v($_ilm); if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; $this->PageIndex =( (int) $_POST[$this->_il2e."\137i\156\160\165t"])-1; if ($this->PageIndex >=$this->_il50) $this->PageIndex =$this->_il50 -1; if ($this->PageIndex <0) $this->PageIndex =0; $this->_il2n->_il2f =TRUE; } } function _iO2f() { $_iO58="<d\151\166 class\075\047kg\162\120age\162\040kgrMa\156\165alPa\147er'>\173\160ages\151\172e}\173\160\141geove\162\154ap}\173\156av}\173\151\156fo}<\144\151v sty\154\145='cle\141\162:bot\150\047></di\166\076</di\166\076"; $_il59="\074div c\154\141ss='k\147\162Nav \173\143\163scl\141\163ses}\047\076\173m\141\151n}</\144\151v>"; $_il5j="\074inpu\164\040id='\173\151\144}' \156\141me='\173\151d}' t\171\160e='\164\145xtbo\170\047 sty\154\145='wid\164\150:\173w\151\144th};\047\040val\165\145='\173\164\145xt}'/\076"; $_iO5j=$this->ManualPagerTemplate; $_il5k=""; switch (strtolower($this->ButtonType)) { case "link": $_il5k="<a c\154\141ss='k\147\162\107oBu\164\164on' h\162\145f='ja\166\141scr\151\160t:vo\151\144 0' o\156\143lick=\047\147rid_\147\157page(\164\150is,0)\047\076\173t\145\170t}</a\076"; break; case "image": $_il5k="<\151\156put cla\163\163\075'kg\162\107oButt\157\156 kgr\107\157Imag\145\047 typ\145\075'but\164\157\156' o\156\143\154ick\075\047grid\137\147opage\050\164his,0\051\047 />"; break; case "button": default : $_il5k="<input \143\154ass='k\147\162GoBut\164\157\156' t\171\160e='bu\164\164on'\040\157ncli\143\153\075'gr\151\144_gopa\147\145(this,\060\051' v\141\154ue='\173\164\145xt}'\040\057>"; break; } $_iO5k=_iO0("\173\151\144}",$this->_il2e."_in\160\165\164",$_il5j); $_iO5k=_iO0("\173\167\151dth}",$this->TextBoxWidth ,$_iO5k); $_iO5k=_iO0("\173\164\145xt}",$this->PageIndex +1,$_iO5k); $_il5l=_iO0("\173text\175",$this->GoPageButtonText ,$_il5k); $_ilg=_iO0("\173T\145\170tBo\170}",$_iO5k,$_iO5j); $_ilg=_iO0("\173GoPage\102\165tton}",$_il5l,$_ilg); $_ilg=_iO0("\173\124otalP\141\147e}",$this->_il50 ,$_ilg); $_iO5g=_iO0("\173ma\151\156\175",$_ilg,$_il59); $_iO56=($this->ShowPageSize) ? $this->_il55(): ""; $_il58=($this->ShowPageOverlap) ? $this->_il57(): ""; $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173\156\141\166}",$_iO5g,$_iO58); $_il5h=_iO0("\173info}",$_iO54,$_il5h); $_il5h=_iO0("\173\160agesize\175",$_iO56,$_il5h); $_il5h=_iO0("\173\160\141geover\154\141p}",$_il58,$_il5h); return $_il5h; } function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new gridmanualpager(); } parent::_il2t($_il3i); $_il3i->ManualPagerTemplate =$this->ManualPagerTemplate; $_il3i->ButtonType =$this->ButtonType; $_il3i->GoPageButtonText =$this->GoPageButtonText; $_il3i->TextBoxWidth =$this->TextBoxWidth; return $_il3i; } } class gridcustompager extends _iO4z { function render($_iO5l) { return "Cu\163\164om\120\141ge\162"; } function _iO2f() { $_iO58="\074div clas\163\075'kgrP\141\147er kg\162\103ustom\120\141ger'\076\173pag\145\163ize}\173\160ageove\162\154ap}\173\156\141v}\173\151\156fo}<\144\151v sty\154\145\075'cl\145\141r:bot\150\047></d\151\166\076</d\151\166>"; $_il59="<di\166\040class=\047\153grNav\040\173cssc\154\141sses}\047\076\173\155\141in}\074\057div>"; $_il5h=$_iO58; $_iO5l=array("P\141\147eIndex" => $this->PageIndex ,"\124\157talPa\147\145\163" => $this->_il50); $_iO5g=_iO0("\173\155ain}",$this->render($_iO5l),$_il59); $_il5h=_iO0("\173\156\141\166}",$_iO5g,$_il5h); $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173info}",$_iO54,$_il5h); $_iO56=($this->ShowPageSize) ? $this->_il55(): ""; $_il58=($this->ShowPageOverlap) ? $this->_il57(): ""; $_iO54=($this->ShowPageInfo) ? $this->_iO52(): ""; $_il5h=_iO0("\173\151nfo}",$_iO54,$_il5h); $_il5h=_iO0("\173\160agesize\175",$_iO56,$_il5h); $_il5h=_iO0("\173pageove\162\154\141p}",$_il58,$_il5h); return $_il5h; } function _il2t($_ii02=NULL) { if ($_ii02 === NULL) { eval ("\044\137ii02\040= ne\167\040".get_class($this)."\050)\073"); } parent::_il2t($_ii02); return $_ii02; } } interface gridtemplate { function render($_iO2t); function getdata($_iO2t); } class _il5m { var $Mode="I\156\154ine"; var $HeaderCaption; var $ColumnNumber=1; var $CancelButtonText; var $ConfirmButtonText; var $CancelButtonToolTip; var $ConfirmButtonToolTip; var $Template; var $InputFocus="\156one"; function _il2t($_il3i=NULL) { $_il3i->Mode =$this->Mode; $_il3i->Template =$this->Template; $_il3i->HeaderCaption =$this->HeaderCaption; $_il3i->ColumnNumber =$this->ColumnNumber; $_il3i->CancelButtonText =$this->CancelButtonText; $_il3i->ConfirmButtonText =$this->ConfirmButtonText; $_il3i->CancelButtonToolTip =$this->CancelButtonToolTip; $_il3i->ConfirmButtonToolTip =$this->ConfirmButtonToolTip; $_il3i->InputFocus =$this->InputFocus; } } class _iO5m extends _il5m { var $_il2e; var $_il2w; } class _il5n extends _il5m { function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new _iO5n(); } parent::_il2t($_il3i); return $_il3i; } } class _iO5n extends _iO5m { var $_iO2t; var $_il5o; function _iO2c($_il2p) { if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["\103a\156\143el"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["C\157nfir\155"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_il2p->_il2b->Localization->_iO2i["Edit\106\157rm_Ca\156\143elBut\164\157nToo\154\124ip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_il2p->_il2b->Localization->_iO2i["\105\144itForm\137\103onfirm\102\165tt\157\156To\157\154Ti\160"]; } function _iO2w() { $_il2q=$this->_iO2t->DataItem; $_iO5o=FALSE; if (strtolower($this->Mode) == "\164em\160\154ate") { $_il5p=$this->Template->getdata($this->_iO2t); foreach ($_il5p as $_iO27 => $_il28) { $_il2q[$_iO27]=$_il28; } } else { foreach ($this->_iO2t->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { if (!empty($_il31->HiddenDataField)) $_il2q[$_il31->HiddenDataField ]=$_il31->_iO4n($this->_iO2t); $_il2q[$_il31->DataField ]=$_il31->geteditvalue($this->_iO2t); } } foreach ($this->_iO2t->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_iO3b) { $_iO5p=$_il31->DataField; if (!$_iO3b->validate($_il2q[$_iO5p],$_il2q,$this->_iO2t ,$_il31)) { $_iO5o=TRUE; } } } } } $this->_il5o =$_il2q; if (!$_iO5o) { if ($this->_iO2t->_il2n->_il2b->EventHandler->onbeforerowconfirmedit($this->_iO2t ,array("Ne\167\104ataIte\155" => &$_il2q)) == TRUE) { $_il5q=$this->_iO2t->_il2n->DataSource->update($_il2q); $_iO2x=$this->_iO2t->_il2n->DataSource->geterror(); $this->_iO2t->_il2n->_il2f =TRUE; $this->_iO2t->EditMode =FALSE; if ($_iO2x != "") $this->_iO2t->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("\105r\162\157r" => $_iO2x)); $this->_iO2t->_il2n->_il2b->EventHandler->onrowconfirmedit($this->_iO2t ,array("NewD\141taIte\155" => $_il2q,"S\165\143ce\163\163ful" => $_il5q,"\105rro\162" => $_iO2x)); } } } function _iO2f() { $_iO2z=""; $_iO5q=new gridrow(); $_iO5q->_il2e =$this->_iO2t->_il2e; $_iO5q->_iO2c($this->_iO2t->_il2n); $_iO5q->DataItem =($this->_il5o !== NULL) ? $this->_il5o : $this->_iO2t->DataItem; switch (strtolower($this->Mode)) { case "tem\160late": $_il2y="\074\164\162 id\075'\173\162owi\144\175'\040\143l\141\163s=\047kg\162Ro\167 \173\141lt}\040\173s\145\154ec\164ed} \153\147r\122ow\105\144it\047>\173\164\144s}\074/tr\076"; $_il5r="\074t\162\076<\164\144 c\157\154sp\141\156=\047\173c\157\154sp\141n}'\076<d\151v i\144\075'\173\162ow\151\144}\137\145di\164\146\157rm'\040clas\163='kg\162Edit\106\157rm\040\173i\156\160ut\146\157cu\163\175'>\173\143o\156\164en\164\175</\144\151v\076\074/\164d>\074/t\162\076"; $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_iO2t->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_iO2t->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this->_iO2t); $_il30.=$_iO31; } $_iO2z=_iO0("\173\164ds}",$_il30,$_il2y); $_iO5r=_iO0("\173c\157\156ten\164\175",($this->Template === NULL) ? "<\142>Not\151\143e\074\057b\076: \116\157 t\145\155pl\141te \146oun\144\041": $this->Template->render($this->_iO2t),$_il5r); $_iO5r=_iO0("\173c\157\154spa\156\175",sizeof($this->_iO2t->_il2n->_iO30),$_iO5r); switch (strtolower($this->InputFocus)) { case "hide\147\162id": $_iO5r=_iO0("\173i\156\160\165tf\157\143us}","kgr\111\156putFoc\165\163\040kg\162\110ideG\162\151d",$_iO5r); break; case "blurg\162\151\144": $_iO5r=_iO0("\173\151\156\160utf\157\143\165s}","kg\162\111\156putF\157\143us kgr\102\154urGri\144",$_iO5r); break; default : $_iO5r=_iO0("\173i\156\160utfocu\163\175","",$_iO5r); break; } $_iO2z.=$_iO5r; break; case "\146orm": $_il2y="\074tr i\144\075'\173ro\167\151d}' c\154\141ss='k\147\162Row \173\141lt} \173\163elect\145\144} kgr\122\157wEdit\047\076\173td\163\175</tr\076"; $_il5r="<\164\162><td co\154\163pan='\173\143\157lsp\141\156}'><d\151\166 id\075\047\173r\157\167id}_ed\151\164form'\040\143lass\075\047kgrE\144\151tForm\040\173inpu\164\146ocus}\047\076\173he\141\144er}\173\166\141lidat\157\162s}\173\142ig\164\141bl\145\175\173\146oot\145\162}\074/di\166></\164d><\057tr>"; $_il5s="\074\144\151v c\154\141s\163\075'k\147rFo\162\155H\145\141d\145r'>\173te\170\164}<\057div\076"; $_iO5s="\074\144\151v c\154\141ss\075'kg\162\106o\162\155Fo\157ter\047>\173\142ut\164on\163\175</\144iv>"; $_il5t="<u\154\040class=\047\153grVali\144\141tor'>\173\151tems}\074\057ul>"; $_iO5t="<li\076\074label \146\157\162='\173\151\144}'>\173\150\145ade\162\175: \173\145\162ror\175\074/labe\154\076</li>"; $_il5u="\074table\040\163tyle='\164\141ble-l\141\171out:f\151\170ed;wi\144\164h:10\060\045;'><\164\162>\173b\151\147table\137\164\144s}<\057\164r><\057\164able\076"; $_iO5u="\074td sty\154\145='vert\151\143al-al\151\147n: to\160\073widt\150\072\173w\151\144th}%'\076\173table\173\156}}</t\144\076"; $_il5v="\074\164able st\171\154e='hei\147\150t:\173\150\145ight}\160\170;wi\144\164h:10\060\045;'>\173\143\164_trs\175\074/tab\154\145\076"; $_il4b="\074\151nput ty\160\145='butt\157\156' onc\154\151\143k='\173\157ncli\143\153}' \164\151tle='\173\164\151tle\175\047 clas\163\075'nod\145\143or'/>"; $_iO59="\074\141 href=\047\152avasc\162\151pt:vo\151\144 0' o\156\143lick\075\047\173o\156\143lick\175\047 titl\145\075'\173t\151\164\154e}'\076\173text\175\074/a>"; $_il5a="<\163\160an clas\163\075 '\173\143\154ass}'\076\173butt\157\156}\173\141\175</sp\141\156> "; $_iO5v=043; $_il30=""; for ($_iO9=0; $_iO9<sizeof($this->_iO2t->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_iO2t->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_iO2f($this->_iO2t); $_il30.=$_iO31; } $_iO2z=_iO0("\173\164\144s}",$_il30,$_il2y); $_il5w=""; $_iO5w=$this->HeaderCaption; if ($_iO5w != NULL) { foreach ($this->_iO2t->DataItem as $_iO27 => $_il28) { $_iO5w=_iO0("\173".$_iO27."\175",$_il28,$_iO5w); } $_il5w=_iO0("\173\164\145xt}",$_iO5w,$_il5s); } $_il4o=""; if ($this->_il5o !== NULL && $this->_il2w != "S\164artEd\151\164") { foreach ($_iO5q->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_iO3b) { if (!$_iO3b->validate($_iO5q->DataItem[$_il31->DataField ],$_iO5q->DataItem ,$this->_iO2t ,$_il31)) { $_il5x=_iO0("\173h\145\141der}",$_il31->HeaderText ,$_iO5t); $_il5x=_iO0("\173err\157\162\175",$_iO3b->ErrorMessage ,$_il5x); $_il5x=_iO0("\173id\175",$_iO5q->_il2e."_".$_il31->_il2e."_\151\156put",$_il5x); $_il4o.=$_il5x; } } } } } $_iO5x=_iO0("\173\151\164ems}",$_il4o,$_il5t); $_il5y=""; for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO5y=_iO0("\173n}",$_iO9,$_iO5u); $_iO5y=_iO0("\173width}",(0144/$this->ColumnNumber),$_iO5y); $_il5y.=$_iO5y; } $_il5z=_iO0("\173big\164\141\142le_\164\144\163}",$_il5y,$_il5u); $_iO5z=array(); $_il60=0; for ($_iO9=0; $_iO9<sizeof($_iO5q->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5q->_il2n->_iO30[$_iO9]; if (!$_il31->ReadOnly) { $_iO60=$_il31->_iO3l($_iO5q); array_push($_iO5z,$_iO60); if (is_a($_il31,'gridfilecolumn')) $_il60 += 0245; if (is_a($_il31,'gridtextareacolumn') && !empty($_il31->BoxHeight)) $_il60 += intval($_il31->BoxHeight)-022; } } $_il61=ceil(sizeof($_iO5z)/$this->ColumnNumber); for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO61=""; for ($_il62=0; $_il62<$_il61; $_il62 ++) { $_iO62=$_il61*$_iO9+$_il62; if ($_iO62<sizeof($_iO5z)) { $_iO61.=$_iO5z[$_iO62]; } } $_il63=_iO0("\173\143\164_trs}",$_iO61,$_il5v); $_il63=_iO0("\173h\145\151ght}",$_il61*$_iO5v+$_il60,$_il63); if ($_iO61 == "") $_il63=""; $_il5z=_iO0("\173\164able".$_iO9."\175",$_il63,$_il5z); } $_iO4c=_iO0("\173\143lass}","\153\147rCo\156\146ir\155",$_il5a); $_iO4c=_iO0("\173\142utto\156\175",$_il4b,$_iO4c); $_iO4c=_iO0("\173\141}",($this->ConfirmButtonText != NULL) ? $_iO59: "",$_iO4c); $_iO4c=_iO0("\173\157nclic\153\175","\147rid_co\156\146irm_ed\151\164(this\051",$_iO4c); $_iO4c=_iO0("\173\164\151tle}",$this->ConfirmButtonToolTip ,$_iO4c); $_iO4c=_iO0("\173\164ext}",$this->ConfirmButtonText ,$_iO4c); $_il4d=_iO0("\173cl\141\163\163}","\153\147rCance\154",$_il5a); $_il4d=_iO0("\173button\175",$_il4b,$_il4d); $_il4d=_iO0("\173\141}",($this->CancelButtonText != NULL) ? $_iO59: "",$_il4d); $_il4d=_iO0("\173oncli\143\153}","\147rid_can\143\145\154_ed\151\164(this\051",$_il4d); $_il4d=_iO0("\173\164itle}",$this->CancelButtonToolTip ,$_il4d); $_il4d=_iO0("\173text}",$this->CancelButtonText ,$_il4d); $_iO63=_iO0("\173buttons\175",$_iO4c.$_il4d,$_iO5s); $_iO5r=_iO0("\173\150\145\141der}",$_il5w,$_il5r); switch (strtolower($this->InputFocus)) { case "\150ide\147\162id": $_iO5r=_iO0("\173\151nput\146\157cu\163\175","\153\147rIn\160\165tF\157\143u\163\040k\147rHi\144\145G\162\151d",$_iO5r); break; case "blurgr\151\144": $_iO5r=_iO0("\173inpu\164\146ocus}","\153grInp\165\164\106ocus\040\153grBl\165\162Grid",$_iO5r); break; default : $_iO5r=_iO0("\173\151nputfo\143\165s}","",$_iO5r); break; } $_iO5r=_iO0("\173vali\144\141tors}",$_iO5x,$_iO5r); $_iO5r=_iO0("\173\142\151gtabl\145\175",$_il5z,$_iO5r); $_iO5r=_iO0("\173\146\157oter}",$_iO63,$_iO5r); $_iO5r=_iO0("\173\143\157lspan}",sizeof($_iO5q->_il2n->_iO30),$_iO5r); $_iO2z.=$_iO5r; break; case "inli\156\145": default : $_il64="<tr><\164\144\040col\163\160an='\173\143olspa\156\175'><d\151\166 cl\141\163s='\153\147rInpu\164\106ocus \153\147rBlur\107\162id'\040\163tyle\075\047widt\150\072100%\047\076<tab\154\145 clas\163\075'kgr\124\141ble' \143\145llsp\141\143ing='\060\047 st\171\154e='\164\141ble-\154\141yout:\040\141uto;\145\155pty-\143\145lls: \163\150ow;w\151\144th:1\060\060%'><\164\142ody>\074\164r id\075\047\173r\157\167\151\144}'\040cla\163\163='\153\147rR\157\167 \173\141lt}\040\173se\154\145cted\175\040kgrR\157\167Edit\047>\173t\144\163}</\164\162></t\142\157dy><\057\164abl\145\076</di\166\076</t\144\076</tr\076"; $_il2y="\074tr i\144\075'\173r\157\167\151d}'\040\143lass\075\047kgrR\157\167 \173\141\154t} \173\163\145lect\145\144\175 kg\162\122owEdi\164\047>\173\164\144s}</t\162\076"; $_iO64="<tr cl\141\163s='kgr\126\141\154ida\164\157r'>\173\166\141lid_\164\144s}</\164\162>"; $_il65="\074td c\154\141\163s='\153\147rCell\047\076<div \143\154ass=\047\153grIn\047\040sty\154\145='whi\164\145\055spa\143\145:norm\141\154;'>\173\144\151vs}\074\057div><\057\164d>"; $_iO65="\074div><\154\141\142el f\157\162='\173\151\144}'>\173\145\162ror}\074\057la\142\145l></d\151\166\076"; $_il30=""; for ($_iO9=0; $_iO9<sizeof($_iO5q->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5q->_il2n->_iO30[$_iO9]; $_iO31=$_il31->_il3l($_iO5q); $_il30.=$_iO31; } $_iO2z=_iO0("\173\164\144s}",$_il30,($this->InputFocus == "\142lurgri\144") ? $_il64: $_il2y); $_iO2z=_iO0("\173\143\157lspan\175",sizeof($_iO5q->_il2n->_iO30),$_iO2z); $_il66=""; if ($this->_il5o !== NULL && $this->_il2w != "Star\164\105dit") { $_iO66=""; for ($_iO9=0; $_iO9<sizeof($_iO5q->_il2n->_iO30); $_iO9 ++) { $_il31=$_iO5q->_il2n->_iO30[$_iO9]; $_il67=""; if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_iO3b) { if (!$_iO3b->validate($_iO5q->DataItem[$_il31->DataField ],$_iO5q->DataItem ,$this->_iO2t ,$_il31)) { $_iO67=_iO0("\173error}",$_iO3b->ErrorMessage ,$_iO65); $_iO67=_iO0("\173i\144\175",$_iO5q->_il2e."_".$_il31->_il2e."\137input",$_iO67); $_il67.=$_iO67; } } } $_il68=_iO0("\173di\166\163}",$_il67,$_il65); $_iO66.=$_il68; } $_il66=_iO0("\173\166alid\137tds}",$_iO66,$_iO64); } $_iO2z.=$_il66; break; } return $_iO2z; } } class _iO68 extends _il5m { var $HeaderCaption=""; function _il2t($_il3i=NULL) { if ($_il3i === NULL) { $_il3i=new _il69(); } parent::_il2t($_il3i); return $_il3i; } } class _il69 extends _iO5m { var $_il2n; var $_il5o; function _iO2c($_il2p) { $this->_il2n =$_il2p; if ($this->CancelButtonText === NULL) $this->CancelButtonText =$_il2p->_il2b->Localization->_il2i["Canc\145l"]; if ($this->ConfirmButtonText === NULL) $this->ConfirmButtonText =$_il2p->_il2b->Localization->_il2i["Co\156firm"]; if ($this->CancelButtonToolTip === NULL) $this->CancelButtonToolTip =$_il2p->_il2b->Localization->_iO2i["\111n\163\145rtF\157rm_C\141\156ce\154Butt\157nToo\154Tip"]; if ($this->ConfirmButtonToolTip === NULL) $this->ConfirmButtonToolTip =$_il2p->_il2b->Localization->_iO2i["In\163ertFo\162\155_C\157\156fi\162mBut\164\157n\124\157o\154\124i\160"]; } function _iO69() { $_il2q=array(); for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { if ($this->_il2n->_iO30[$_iO9]->DataField != NULL) { $_il2q[$this->_il2n->_iO30[$_iO9]->DataField ]=$this->_il2n->_iO30[$_iO9]->DefaultValue; } } $_il6a=new gridrow(); $_il6a->_il2e =$this->_il2n->_il2e."_n\162"; $_il6a->_iO2c($this->_il2n); $_iO5o=FALSE; if (strtolower($this->Mode) == "tem\160\154ate") { $_il5p=$this->Template->getdata($_il6a); foreach ($_il5p as $_iO27 => $_il28) { $_il2q[$_iO27]=$_il28; } } else { foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { if (!empty($_il31->HiddenDataField)) $_il2q[$_il31->HiddenDataField ]=$_il31->_iO4n($_il6a); $_il2q[$_il31->DataField ]=$_il31->geteditvalue($_il6a); } } foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_iO3b) { $_iO5p=$_il31->DataField; if (!$_iO3b->validate($_il2q[$_iO5p],$_il2q,$_il6a,$_il31)) { $_iO5o=TRUE; } } } } } if ($this->_il2n->_iO6a !== NULL) { foreach ($this->_il2n->_il6b as $_iO6b) { $_il2q[$_iO6b["\104etail"]]=$this->_il2n->_iO6a->DataItem[$_iO6b["Mast\145\162"]]; } } $this->_il5o =$_il2q; if (!$_iO5o) { if ($this->_il2n->_il2b->EventHandler->onbeforeconfirminsert($this->_il2n ,array("\116ew\104\141ta\111\164em" => &$_il2q)) == TRUE) { $_il6c=$this->_il2n->_iO30; $_iO21=array(); foreach ($_il6c as $_iO23) { if (is_a($_iO23,'gridfilecolumn')) array_push($_iO21,$_iO23); } $_il22=array(); if (count($_iO21) == 0) { $_iO6c=$this->_il2n->DataSource->insert($_il2q); } else { $_iO6c=$this->_il2n->DataSource->insert($_il2q,$_iO21,$_il22); foreach ($_iO21 as $_iO2q => $_iO23) { $_il6d=$_il2q[$_iO23->DataField ]; if (get_magic_quotes_gpc()) $_il6d=stripslashes($_il6d); $_il6d=json_decode($_il6d,TRUE); $_iO6d=''; $_il6e=$_iO23->BaseDirectory.'/'.$_iO23->TableName; $targetFolder=$_iO23->BaseDirectory.'/'.$_iO23->TableName.'/'.$_iO6d.$_il22[$_iO2q]; mkdir($targetFolder); foreach ($_il6d as $_iO6e) { rename($_il6e.'/'.$_iO6e['name'],$targetFolder.'/'.$_iO6e['name']); } } } $_iO2x=$this->_il2n->DataSource->geterror(); $this->_il2n->_il2f =TRUE; $this->_il2n->_il6f =FALSE; if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("Erro\162" => $_iO2x)); $this->_il2n->_il2b->EventHandler->onconfirminsert($this->_il2n ,array("NewDa\164\141Item" => $_il2q,"Suc\143\145ssf\165\154" => $_iO6c,"\105rror" => $_iO2x)); } } } function _iO2f() { $_iO6f=""; $_il2q=array(); for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { if ($this->_il2n->_iO30[$_iO9]->DataField != NULL) { $_il2q[$this->_il2n->_iO30[$_iO9]->DataField ]=$this->_il2n->_iO30[$_iO9]->DefaultValue; } } if ($this->_il5o === NULL) { $this->_il5o =$_il2q; } $_il6a=new gridrow(); $_il6a->_il2e =$this->_il2n->_il2e."_nr"; $_il6a->_iO2c($this->_il2n); $_il6a->DataItem =$this->_il5o; switch (strtolower($this->Mode)) { case "te\155\160late": $_il6g="<tr><t\144\040colsp\141\156='\173\143\157lspan\175\047><di\166\040id\075\047\173i\144\175_inse\162\164\146orm\047\040clas\163\075'kgr\111\156sertF\157\162m \173i\156\160utfoc\165\163}'>\173\143\157ntent\175\074/div\076\074/td>\074\057tr>"; $_iO6f=_iO0("\173cont\145\156\164}",($this->Template === NULL) ? "\074\142>Noti\143\145\074/b>\072\040Temp\154\141te n\157\164 fou\156\144!": $this->Template->render($_il6a),$_il6g); $_iO6f=_iO0("\173\143olspan}",sizeof($this->_il2n->_iO30),$_iO6f); $_iO6f=_iO0("\173i\144\175",$_il6a->_il2e ,$_iO6f); switch (strtolower($this->InputFocus)) { case "\150id\145\147ri\144": $_iO6f=_iO0("\173i\156\160utf\157\143us\175","\153grInp\165\164Focus \153\147rHid\145\107rid",$_iO6f); break; case "blurg\162\151d": $_iO6f=_iO0("\173input\146\157cus}","kgrInput\106\157cus kg\162\102\154urG\162\151d",$_iO6f); break; default : $_iO6f=_iO0("\173\151\156putfoc\165\163}","",$_iO6f); break; } break; case "form": default : $_il6g="<tr><\164\144 cols\160\141\156='\173\143\157lsp\141\156}'><d\151\166 id\075\047\173i\144\175_inse\162\164form'\040\143lass=\047\153grI\156\163ertFo\162\155 \173in\160\165tfocu\163\175'>\173\150\145\141der\175\173valid\141\164ors}\173\142\151gtab\154\145}\173f\157\157ter\175\074/div\076\074/td>\074\057tr>"; $_iO6g="<div cl\141\163\163='k\147\162FormH\145\141der'>\173\164ext}<\057\144iv>"; $_il6h="<div \143\154ass='k\147\162FormF\157\157ter'>\173\142utton\163\175</d\151\166>"; $_iO6h="<ul \143\154\141ss=\047\153grVal\151\144\141tor\047\076\173it\145\155s}<\057\165l>"; $_il6i="<li><\154\141bel fo\162\075'\173id\175\047>\173h\145\141der}\072\040\173e\162\162or}</\154\141bel><\057\154i>"; $_iO6i="<tab\154\145\040sty\154\145\075'ta\142\154e-lay\157\165t:fix\145\144;wid\164\150:100%\073\047><tr\076\173bigta\142\154e_tds\175\074/tr>\074\057tabl\145\076"; $_il6j="\074td styl\145\075'verti\143\141l-al\151\147n: to\160\073widt\150\072\173w\151\144th}%\047\076\173tab\154\145\173n}\175\074/td>"; $_iO6j="\074table\040\163tyle=\047\150eight\072\173heig\150\164}px;w\151\144th:1\060\060%;'>\173\143t_trs\175\074/tabl\145\076"; $_il4b="<i\156\160\165t ty\160\145='butt\157\156' onc\154\151ck='\173\157ncli\143\153}' t\151\164le='\173\164\151tle}\047\040clas\163\075'nod\145\143or'/>"; $_iO59="\074\141 href\075\047javas\143\162ipt:v\157\151d 0' \157\156cli\143\153='\173\157\156click\175\047 titl\145\075'\173t\151\164le}'>\173\164ext}<\057\141>"; $_il5a="<\163\160an clas\163\075 '\173c\154\141ss}'>\173\142utto\156\175\173a}\074\057spa\156\076 "; $_iO5v=043; $_il5w=""; if ($this->HeaderCaption != NULL) { $_il5w=_iO0("\173\164ext}",$this->HeaderCaption ,$_iO6g); } $_il4o=""; if ($this->_il5o !== NULL && $this->_il2w != "Sta\162\164Insert") { foreach ($this->_il2n->_iO30 as $_il31) { if (!$_il31->ReadOnly) { foreach ($_il31->_iO38 as $_iO3b) { if (!$_iO3b->validate($_il6a->DataItem[$_il31->DataField ],$_il6a->DataItem ,$_il6a,$_il31)) { $_il6k=_iO0("\173\150eader}",$_il31->HeaderText ,$_il6i); $_il6k=_iO0("\173error}",$_iO3b->ErrorMessage ,$_il6k); $_il6k=_iO0("\173id}",$_il6a->_il2e."\137".$_il31->_il2e."\137input",$_il6k); $_il4o.=$_il6k; } } } } } $_iO5x=_iO0("\173items}",$_il4o,$_iO6h); $_il5y=""; for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO5y=_iO0("\173n\175",$_iO9,$_il6j); $_iO5y=_iO0("\173wid\164\150\175",(0144/$this->ColumnNumber),$_iO5y); $_il5y.=$_iO5y; } $_il5z=_iO0("\173bigt\141\142\154e_t\144\163}",$_il5y,$_iO6i); $_iO5z=array(); $_il60=0; for ($_iO9=0; $_iO9<sizeof($this->_il2n->_iO30); $_iO9 ++) { $_il31=$this->_il2n->_iO30[$_iO9]; if (!$_il31->ReadOnly) { $_iO60=$_il31->_iO3l($_il6a); array_push($_iO5z,$_iO60); if (is_a($_il31,'gridfilecolumn')) $_il60 += 0245; if (is_a($_il31,'gridtextareacolumn') && !empty($_il31->BoxHeight)) $_il60 += intval($_il31->BoxHeight)-022; } } $_il61=ceil(sizeof($_iO5z)/$this->ColumnNumber); for ($_iO9=0; $_iO9<$this->ColumnNumber; $_iO9 ++) { $_iO61=""; for ($_il62=0; $_il62<$_il61; $_il62 ++) { $_iO62=$_il61*$_iO9+$_il62; if ($_iO62<sizeof($_iO5z)) { $_iO61.=$_iO5z[$_iO62]; } } $_iO6k=_iO0("\173ct_t\162\163}",$_iO61,$_iO6j); $_iO6k=_iO0("\173\150eight}",$_iO5v*$_il61+$_il60,$_iO6k); if ($_iO61 == "") $_iO6k=""; $_il5z=_iO0("\173table".$_iO9."}",$_iO6k,$_il5z); } $_iO4c=_iO0("\173\143\154ass}","kgr\103\157\156fir\155",$_il5a); $_iO4c=_iO0("\173\142utton}",$_il4b,$_iO4c); $_iO4c=_iO0("\173\141\175",($this->ConfirmButtonText != NULL) ? $_iO59: "",$_iO4c); $_iO4c=_iO0("\173oncli\143\153}","\147rid_\143\157\156firm\137\151nser\164\050this\051",$_iO4c); $_iO4c=_iO0("\173ti\164\154e}",$this->ConfirmButtonToolTip ,$_iO4c); $_iO4c=_iO0("\173\164ext}",$this->ConfirmButtonText ,$_iO4c); $_il4d=_iO0("\173class\175","\153\147rCancel",$_il5a); $_il4d=_iO0("\173\142\165tton}",$_il4b,$_il4d); $_il4d=_iO0("\173a}",($this->CancelButtonText != NULL) ? $_iO59: "",$_il4d); $_il4d=_iO0("\173\157nclick}","grid_\143\141\156cel\137\151\156se\162\164\050th\151\163)",$_il4d); $_il4d=_iO0("\173title\175",$this->CancelButtonToolTip ,$_il4d); $_il4d=_iO0("\173\164ext}",$this->CancelButtonText ,$_il4d); $_iO63=_iO0("\173\142\165\164tons\175",$_iO4c.$_il4d,$_il6h); $_iO6f=_iO0("\173i\144\175",$_il6a->_il2e ,$_il6g); $_iO6f=_iO0("\173\150\145\141der\175",$_il5w,$_iO6f); $_iO6f=_iO0("\173\166alida\164\157rs}",$_iO5x,$_iO6f); $_iO6f=_iO0("\173\142\151gtable\175",$_il5z,$_iO6f); $_iO6f=_iO0("\173\146ooter\175",$_iO63,$_iO6f); $_iO6f=_iO0("\173cols\160\141n}",sizeof($this->_il2n->_iO30),$_iO6f); switch (strtolower($this->InputFocus)) { case "h\151\144eg\162\151d": $_iO6f=_iO0("\173\151nput\146\157cu\163}","kg\162\111npu\164\106ocu\163\040k\147\162Hi\144eGri\144",$_iO6f); break; case "bl\165\162grid": $_iO6f=_iO0("\173i\156\160\165tfo\143\165\163}","kgrIn\160\165\164Focu\163\040kgrB\154\165rGrid",$_iO6f); break; default : $_iO6f=_iO0("\173inp\165\164focus}","",$_iO6f); break; } break; } return $_iO6f; } } class gridgroup { var $_il6l; var $GroupField; var $Sort=1; var $Expand=TRUE; var $InfoTemplate; var $HeaderText; function __construct() { $this->_il6l =array(); } function addinfofield($_iO6l,$_il21=NULL) { array_push($this->_il6l ,array("Info\106\151eld" => $_iO6l,"A\147\147regate" => $_il21)); } function _il2t() { $_il3i=new _il3a(); $_il3i->_il6l =$this->_il6l; $_il3i->GroupField =$this->GroupField; $_il3i->Sort =$this->Sort; $_il3i->Expand =$this->Expand; $_il3i->InfoTemplate =$this->InfoTemplate; $_il3i->HeaderText =$this->HeaderText; return $_il3i; } } class _il3a extends gridgroup implements _il29 { var $_il2e; var $_il2n; var $_iO2m; var $_il3b; function _iO2c($_il2p) { if ($this->_il3b !== NULL) { if ($this->GroupField === NULL) $this->GroupField =$this->_il3b->DataField; if ($this->HeaderText === NULL) $this->HeaderText =$this->_il3b->HeaderText; } $this->_il2n =$_il2p; $this->_iO2m =$_il2p->_iO2m; if ($this->HeaderText === NULL) $this->HeaderText =$this->GroupField; if ($this->InfoTemplate === NULL) $this->InfoTemplate =$this->HeaderText."\072 \173".$this->GroupField."}"; if (count($this->_il6l) == 0) $this->addinfofield($this->GroupField); } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Sort =$_iO2p["\123ort"]; $this->GroupField =$_iO2p["G\162oupFi\145\154d"]; $this->Expand =$_iO2p["Expan\144"]; $this->InfoTemplate =$_iO2p["I\156\146oT\145\155p\154\141te"]; $this->_il6l =$_iO2p["\111nf\157\106iel\144\163"]; $this->HeaderText =$_iO2p["\110e\141\144erT\145xt"]; } } function _iO2s() { $this->_iO29(); if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; if ($_iO2p["\103olu\155\156Un\151\161ue\111\104"] != NULL) { for ($_iO9=0; $_iO9<count($this->_il2n->_iO30); $_iO9 ++) { if ($_iO2p["\103\157lumnU\156\151queI\104"] == $this->_il2n->_iO30[$_iO9]->_il2e) { $this->_il3b =$this->_il2n->_iO30[$_iO9]; } } } } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("Sor\164" => $this->Sort ,"\105\170pand" => $this->Expand ,"\107roupFie\154\144" => $this->GroupField ,"Hea\144\145\162Text" => $this->HeaderText ,"\111nfo\106\151el\144\163" => $this->_il6l ,"Info\124\145mpl\141\164e" => $this->InfoTemplate ,"\103olu\155\156Un\151\161ueI\104" => ($this->_il3b) ? $this->_il3b->_il2e : NULL); } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["\103omman\144"]) { case "So\162\164": $this->Sort =$_iO2v["\101rgs"]["So\162\164"]; $this->_il2n->_il2f =TRUE; break; } } } function _iO2f() { $_il4p="<th \151\144='\173i\144\175' cl\141\163s='k\147\162Group\111\164em\047\040tit\154\145='\173\164\151tle}'\076\074div c\154\141ss=\047\153grIn'\076\173text\175\046#160;\173\163ort}<\057\144iv></\164\150>"; $_il6m="\074\151nput c\154\141ss='n\157\144ecor \153\147rSort\173\144ir}\047\040typ\145\075\047but\164\157n' \164\151tle\075\047\173\164itl\145\175' o\156\143lick=\047\147rid_\147\162oupit\145\155_sort\050\042\173id\175\042,\173s\157\162t})' \057\076"; $_iO6m=($this->Sort <0) ? "\104esc": "As\143"; $_iO1j=_iO0("\173id}",$this->_il2e ,$_il6m); $_iO1j=_iO0("\173\144\151r}",$_iO6m,$_iO1j); $_iO1j=_iO0("\173title}",$this->_il2n->_il2b->Localization->_iO2i["Sor\164".$_iO6m."T\157\157\154Tip"],$_iO1j); $_iO1j=_iO0("\173sor\164\175",-$this->Sort ,$_iO1j); $_il16=_iO0("\173id}",$this->_il2e ,$_il4p); $_il16=_iO0("\173text}",$this->HeaderText ,$_il16); $_il16=_iO0("\173so\162\164}",$_iO1j,$_il16); $_il16=_iO0("\173t\151\164le}",$this->_il2n->_il2b->Localization->_iO2i["\107rou\160\111te\155\124ool\124ip"],$_il16); return $_il16; } function _il6n() { $_iO1k=new _iO6n(); $_iO1k->Expand =$this->Expand; $_iO1k->_il6o =$this; return $_iO1k; } } class _iO6n implements _il29 { var $_il2e; var $_il2n; var $_il48; var $_iO6o; var $_iO2m; var $_il6p=0; var $_iO6p; var $_il6q; var $_il6o; var $_iO6q; var $Expand; function _iO2c($_il2p) { $this->_il2n =$_il2p; $this->_iO2m =$_il2p->_iO2m; $this->_il48 =array(); $this->_iO6o =array(); } function _iO2s() { $this->_iO29(); foreach ($this->_iO6o as $_iO1k) { $_iO1k->_iO2s(); } } function _il6r($_iO1s) { array_push($this->_il48 ,$_iO1s); $this->_iO6p =$_iO1s->DataItem[$this->_il6o->GroupField ]; } function _iO6r($_il1s) { $_il6s=$this->_il6p +1; if ( isset ($this->_il2n->_iO3f[$_il6s])) { $_iO6s=$this->_il2n->_iO3f[$_il6s]; $_iO1k=NULL; $_il6t=0; for ($_iO9=0; $_iO9<sizeof($_il1s); $_iO9 ++) { if ($_iO1k == NULL) { $_iO1k=$_iO6s->_il6n(); $_iO1k->_il2e =$this->_il2e."_gr".$_il6t; $_iO1k->_iO2c($this->_il2n); $_iO1k->_il6p =$_il6s; $_iO1k->_il6r($_il1s[$_iO9]); $_iO1k->_il6q =$this; array_push($this->_iO6o ,$_iO1k); } else { if ($_iO1k->_iO6p == $_il1s[$_iO9]->DataItem[$_iO1k->_il6o->GroupField ]) { $_iO1k->_il6r($_il1s[$_iO9]); } else { $_iO1k->_iO6r($_iO1k->_il48); $_iO1k=$_iO6s->_il6n(); $_il6t ++; $_iO1k->_il2e =$this->_il2e."\137gr".$_il6t; $_iO1k->_iO2c($this->_il2n); $_iO1k->_il6p =$_il6s; $_iO1k->_il6r($_il1s[$_iO9]); $_iO1k->_il6q =$this; array_push($this->_iO6o ,$_iO1k); } } if ($_iO9 == sizeof($_il1s)-1) { $_iO1k->_iO6r($_iO1k->_il48); } } } } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Expand =$_iO2p["Ex\160\141nd"]; } } function _il2a() { if ($this->_il6p >-1) { $this->_iO2m->_il26[$this->_il2e ]=array("Expan\144" => $this->Expand); } foreach ($this->_iO6o as $_iO1k) { $_iO1k->_il2a(); } } function _il2v($_ilm) { if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["\103\157mman\144"]) { case "\105xpand": $this->Expand =TRUE; break; case "Collaps\145": $this->Expand =FALSE; break; } } foreach ($this->_iO6o as $_iO1k) { $_iO1k->_il2v($_ilm); } if ($this->_il6o !== NULL) { $_iO6t=array(); $_il6u=array(); for ($_iO9=0; $_iO9<sizeof($this->_il6o->_il6l); $_iO9 ++) { $_iO6u=$this->_il6o->_il6l[$_iO9]; if ($_iO6u["\101ggre\147\141te"] == NULL) { $_iO6t[$_iO9]=$this->_il48[0]->DataItem[$_iO6u["\111nfoF\151\145\154d"]]; } else { $_iO6t[$_iO9]=""; array_push($_il6u,array("Key" => "\137".$_iO9,"Aggr\145\147ate" => $_iO6u["Aggr\145\147ate"],"Dat\141\106ield" => $_iO6u["Info\106\151eld"])); } } if (sizeof($_il6u)>0) { $_il6v=$this->_il2n->DataSource->Filters; $_iO6v=$this; while ($_iO6v !== $this->_il2n->_il6w) { $this->_il2n->DataSource->addfilter(new datasourcefilter($_iO6v->_il6o->GroupField ,"\105qual",$_iO6v->_iO6p)); $_iO6v=$_iO6v->_il6q; } $this->_il2n->DataSource->arrangesorts($this->_il2n->MultiSortingOrder); $_iO1p=$this->_il2n->DataSource->getaggregates($_il6u); $_iO2x=$this->_il2n->DataSource->geterror(); if ($_iO2x != "") $this->_il2n->_il2b->EventHandler->ondatasourceerror($this,array("Error" => $_iO2x)); if ($_iO1p !== NULL) { foreach ($_iO1p as $_iO27 => $_il28) { $_iO6t[_iO0("\137","",$_iO27)]=$_il28; } } $this->_il2n->DataSource->Filters =$_il6v; } $this->_iO6q =$_iO6t; } } function _iO2f() { $_iO6w=""; if ($this->_il6p >-1) { $_il2y="<tr id\075\047\173i\144\175' cla\163\163='kg\162\107roup'\076\173gro\165\160_td\163\175<td c\154\141\163s='\153\147\162Cel\154\047 col\163\160an='\173\143\157lsp\141\156\175'><\144\151v cla\163\163='kgr\111\156\047 st\171\154e='wh\151\164e-spa\143\145:now\162\141p;'>\074\163pan c\154\141ss='\153\147rHead\145\162Text'\040\157ncli\143\153='gri\144\137group\137\164oogl\145\050this)\047\076\173c\157\156tent\175\074/span\076\074/di\166\076</td\076\074/tr>"; $_il6x="<td cla\163\163='kgrC\145\154l'><\144\151\166 cl\141\163s='k\147\162In'\040\163tyle=\047\167hite-\163\160ace:n\157\167rap;'\076\173sign\175\074/div\076\074/td>"; $_iO6x="\074\163pan cla\163\163='\173s\164\141tus}'\040\157ncli\143\153='g\162\151d_gr\157\165p_too\147\154e(thi\163\051'></s\160\141n>"; $_iO2z=_iO0("\173id}",$this->_il2e ,$_il2y); $_il6y=""; for ($_iO9=0; $_iO9<$this->_il6p; $_iO9 ++) { $_iO6y=_iO0("\173sig\156\175","\046#160\073",$_il6x); $_il6y.=$_iO6y; } $_il6z=_iO0("\173s\164\141\164\165s}",$this->Expand ? "kgrE\170\160and": "k\147\162\103ollap\163\145",$_iO6x); $_iO6y=_iO0("\173\163\151gn}",$_il6z,$_il6x); $_il6y.=$_iO6y; $_iO6z=sizeof($this->_il2n->_iO30)-$this->_il6p -1; $_iO2z=_iO0("\173g\162\157\165p_td\163\175",$_il6y,$_iO2z); $_iO2z=_iO0("\173\143olsp\141\156\175",$_iO6z,$_iO2z); $_il70=$this->_il6o->InfoTemplate; for ($_iO9=0; $_iO9<sizeof($this->_il6o->_il6l); $_iO9 ++) { $_il70=_iO0("\173".$this->_il6o->_il6l[$_iO9]["\111nfoFie\154\144"]."}",($this->_il6o->_il3b !== NULL) ? $this->_il6o->_il3b->format($this->_iO6q[$_iO9]): $this->_iO6q[$_iO9],$_il70); } $_iO2z=_iO0("\173conten\164\175",$_il70,$_iO2z); $_iO6w.=$_iO2z; if ($this->Expand) { if (sizeof($this->_iO6o)>0) { foreach ($this->_iO6o as $_iO1k) { $_iO6w.=$_iO1k->_iO2f(); } } else { foreach ($this->_il48 as $_iO1s) { $_iO6w.=$_iO1s->_iO2f(); } } } } else { foreach ($this->_iO6o as $_iO1k) { $_iO6w.=$_iO1k->_iO2f(); } } return $_iO6w; } } class _iO70 { var $PanelCssClass=""; var $ItemCssClass=""; var $ItemConnector="\055"; function _il2t() { $_il3i=new _il71(); $_il3i->PanelCssClass =$this->PanelCssClass; $_il3i->ItemCssClass =$this->ItemCssClass; $_il3i->ItemConnector =$this->ItemConnector; return $_il3i; } } class _il71 extends _iO70 { var $_il2e; var $_il2n; function _iO2c($_il2p) { $this->_il2n =$_il2p; } function _iO2f() { $_iO5j="<div \151\144='\173i\144\175' cla\163\163='kgr\107\162oupP\141\156el' \163\164yle=\047\160osit\151\157n:rel\141\164ive;'\076\074spa\156\076</spa\156\076\173in\144\151cator\163\175<tabl\145\040clas\163\075'kgrG\162\157upTab\154\145' st\171\154e='wi\144\164h:10\060\045;bo\162\144er-c\157\154lapse\072\143olla\160\163e;'><\164\162>\173t\150\163}<td \151\144='\173\151\144}_ta\151\154' st\171\154e='wi\144\164h:10\060\045;'>\173\147\165ide\164\145xt}<\057\164d></\164\162></t\141\142le><\057\144iv>"; $_iO71="\074\164d>\173c\164\175</td>"; $_il72="<d\151\166\040cla\163\163\075'kg\162\124opInd\151\143ator\047\040sty\154\145='po\163\151tion:\141\142solut\145\073displ\141\171:non\145\073'></\144\151v><di\166\040class\075\047kgrB\157\164tomIn\144\151cator\047\040styl\145\075'posi\164\151on:a\142\163olute\073\144isp\154\141y:non\145\073'></\144\151v>"; $_iO72=_iO0("\173ct}",$this->ItemConnector ,$_iO71); $_il73=""; $_iO1v=$this->_il2n->_iO3f; for ($_iO9=0; $_iO9<sizeof($_iO1v); $_iO9 ++) { $_il73.=$_iO1v[$_iO9]->_iO2f(); if ($_iO9<sizeof($_iO1v)-1) { $_il73.=$_iO72; } } $_ilg=_iO0("\173\151\144}",$this->_il2e ,$_iO5j); $_ilg=_iO0("\173ths\175",$_il73,$_ilg); $_ilg=_iO0("\173\151ndicato\162\163}",$_il72,$_ilg); $_ilg=_iO0("\173gui\144\145\164ext}",(sizeof($_iO1v)>0) ? "\046#160;": $this->_il2n->_il2b->Localization->_iO2i["Gr\157\165\160Pane\154\107\165ide\124\145xt"],$_ilg); return $_ilg; } } class gridtableview { var $DataSource; var $DataKeyNames; var $Name; var $_il6b=array(); var $_iO30=array(); var $_il2u=array(); var $_iO3f=array(); var $_il33; var $Pager; var $ShowHeader; var $ShowFooter; var $Width; var $Height; var $EditSettings; var $InsertSettings; var $RowAlternative; var $AllowHovering; var $AllowSelecting; var $AllowMultiSelecting; var $AllowEditing; var $AllowDeleting; var $AllowScrolling; var $AllowSorting; var $AllowResizing; var $AllowFiltering; var $AllowGrouping; var $SingleColumnSorting; var $VirtualScrolling; var $FrozenColumnsCount=0; var $PageSize; var $ShowFunctionPanel=FALSE; var $FunctionPanel; var $ShowGroupPanel=FALSE; var $GroupPanel; var $AutoGenerateRowSelectColumn; var $AutoGenerateExpandColumn; var $AutoGenerateColumns; var $AutoGenerateEditColumn; var $AutoGenerateDeleteColumn; var $DisableAutoGenerateDataFields; var $KeepRowStateOnRefresh; var $KeepSelectedRecords; var $ColumnWidth; var $ColumnWrap; var $ColumnAlign; var $_iO3a; var $TableLayout; var $FilterOptions; var $_iO73; var $MultiSortingOrder='left-right'; var $_il3h=0; var $_iO3g=0; var $CssClasses=array(); function __construct($_il4w="") { $this->Name =$_il4w; $this->EditSettings =new _il5n(); $this->InsertSettings =new _iO68(); $this->FunctionPanel =new _il74(); $this->GroupPanel =new _iO70(); } function addgroup($_iO1k) { array_push($this->_iO3f ,$_iO1k); } function addcolumn($_iO1h) { array_push($this->_iO30 ,$_iO1h); } function adddetailtable($_il2p,$_iO32=NULL) { $_il2p->_il33 =$_iO32; array_push($this->_il2u ,$_il2p); } function addrelationfield($_iO74,$_il75) { array_push($this->_il6b ,array("Det\141\151l" => $_iO74,"\115\141ster" => $_il75)); } function _il2t() { $_il3i=new _iO75(); $_il3i->Name =$this->Name; for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $_il3i->_iO3f[$_iO9]=$this->_iO3f[$_iO9]->_il2t(); } $_il76=array(); for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $_il3i->_iO30[$_iO9]=$this->_iO30[$_iO9]->createinstance(); if ($this->_iO30[$_iO9]->Group) { $_il76[$_iO9]=$this->_iO30[$_iO9]->GroupIndex; } } asort($_il76); foreach ($_il76 as $_iO9 => $_iO76) { $_il3i->_iO3f[]=$_il3i->_iO30[$_iO9]->GroupSettings; } $_il3i->_il2u =$this->_il2u; $_il3i->_il6b =$this->_il6b; $_il3i->_il33 =$this->_il33; if ($this->Pager != NULL) { $_il3i->Pager =$this->Pager->_il2t(); } $_il3i->DataSource =$this->DataSource; $_il3i->ShowHeader =$this->ShowHeader; $_il3i->ShowFooter =$this->ShowFooter; $_il3i->Width =$this->Width; $_il3i->Height =$this->Height; $_il3i->EditSettings =$this->EditSettings; $_il3i->InsertSettings =$this->InsertSettings; $_il3i->AllowHovering =$this->AllowHovering; $_il3i->AllowEditing =$this->AllowEditing; $_il3i->AllowDeleting =$this->AllowDeleting; $_il3i->AllowSelecting =$this->AllowSelecting; $_il3i->AllowMultiSelecting =$this->AllowMultiSelecting; $_il3i->AllowScrolling =$this->AllowScrolling; $_il3i->AllowSorting =$this->AllowSorting; $_il3i->AllowResizing =$this->AllowResizing; $_il3i->AllowFiltering =$this->AllowFiltering; $_il3i->AllowGrouping =$this->AllowGrouping; $_il3i->MultiSortingOrder =$this->MultiSortingOrder; $_il3i->_il3h =$this->_il3h; $_il3i->_iO3g =$this->_iO3g; $_il3i->SingleColumnSorting =$this->SingleColumnSorting; $_il3i->VirtualScrolling =$this->VirtualScrolling; $_il3i->FrozenColumnsCount =$this->FrozenColumnsCount; $_il3i->RowAlternative =$this->RowAlternative; $_il3i->AutoGenerateRowSelectColumn =$this->AutoGenerateRowSelectColumn; $_il3i->AutoGenerateExpandColumn =$this->AutoGenerateExpandColumn; $_il3i->AutoGenerateColumns =$this->AutoGenerateColumns; $_il3i->AutoGenerateEditColumn =$this->AutoGenerateEditColumn; $_il3i->AutoGenerateDeleteColumn =$this->AutoGenerateDeleteColumn; $_il3i->DisableAutoGenerateDataFields =$this->DisableAutoGenerateDataFields; $_il3i->KeepRowStateOnRefresh =$this->KeepRowStateOnRefresh; $_il3i->KeepSelectedRecords =$this->KeepSelectedRecords; $_il3i->DataKeyNames =$this->DataKeyNames; $_il3i->PageSize =$this->PageSize; $_il3i->ShowFunctionPanel =$this->ShowFunctionPanel; $_il3i->FunctionPanel =$this->FunctionPanel; $_il3i->ShowGroupPanel =$this->ShowGroupPanel; $_il3i->GroupPanel =$this->GroupPanel->_il2t(); $_il3i->ColumnWidth =$this->ColumnWidth; $_il3i->ColumnWrap =$this->ColumnWrap; $_il3i->ColumnAlign =$this->ColumnAlign; $_il3i->_iO3a =$this->_iO3a; $_il3i->TableLayout =$this->TableLayout; $_il3i->FilterOptions =$this->FilterOptions; $_il3i->CssClasses =$this->CssClasses; return $_il3i; } } class _iO75 extends gridtableview implements _il29 { var $_il2b; var $_iO6a; var $_il2e; var $_iO2m; var $Grid; var $ParentRow; var $_il48=array(); var $_il77=0; var $_il2f=FALSE; var $_iO77=FALSE; var $_il78=0; var $_iO78=0; var $_il79=NULL; var $_il6f=FALSE; var $_iO79; var $_il7a; var $_il6w; var $_iO7a; var $SelectedKeys=array(); var $_il6b; function _il7b() { return $this->_il2e; } function _iO2c($_il2d,$_iO7b) { $this->_il2b =$_il2d; $this->_iO6a =$_iO7b; $this->Grid =$_il2d; $this->ParentRow =$_iO7b; $this->_iO2m =$_il2d->_iO2m; if ($this->KeepSelectedRecords === NULL) $this->KeepSelectedRecords =$this->_il2b->KeepSelectedRecords; if ($this->KeepRowStateOnRefresh === NULL) $this->KeepRowStateOnRefresh =$this->_il2b->KeepRowStateOnRefresh; if ($this->AllowHovering === NULL) $this->AllowHovering =$this->_il2b->AllowHovering; if ($this->AllowEditing === NULL) $this->AllowEditing =$this->_il2b->AllowEditing; if ($this->AllowDeleting === NULL) $this->AllowDeleting =$this->_il2b->AllowDeleting; if ($this->AllowSelecting === NULL) $this->AllowSelecting =$this->_il2b->AllowSelecting; if ($this->AllowMultiSelecting === NULL) $this->AllowMultiSelecting =$this->_il2b->AllowMultiSelecting; if ($this->AllowScrolling === NULL) $this->AllowScrolling =$this->_il2b->AllowScrolling; if ($this->AllowSorting === NULL) $this->AllowSorting =$this->_il2b->AllowSorting; if ($this->AllowResizing === NULL) $this->AllowResizing =$this->_il2b->AllowResizing; if ($this->AllowFiltering === NULL) $this->AllowFiltering =$this->_il2b->AllowFiltering; if ($this->AllowGrouping === NULL) $this->AllowGrouping =$this->_il2b->AllowGrouping; if ($this->SingleColumnSorting === NULL) $this->SingleColumnSorting =$this->_il2b->SingleColumnSorting; if ($this->VirtualScrolling === NULL) $this->VirtualScrolling =$this->_il2b->VirtualScrolling; if ($this->ShowHeader === NULL) $this->ShowHeader =$this->_il2b->ShowHeader; if ($this->ShowFooter === NULL) $this->ShowFooter =$this->_il2b->ShowFooter; if ($this->RowAlternative === NULL) $this->RowAlternative =$this->_il2b->RowAlternative; if ($this->PageSize === NULL) $this->PageSize =$this->_il2b->PageSize; if ($this->DataSource === NULL) $this->DataSource =$this->_il2b->DataSource; $this->DataSource->setcharset($this->_il2b->CharSet); if ($this->Width === NULL) $this->Width ="\0610\060\045"; if ($_iO7b == NULL) { if ($this->Height === NULL) $this->Height =$this->_il2b->Height; } if ($this->AutoGenerateRowSelectColumn === NULL) $this->AutoGenerateRowSelectColumn =$this->_il2b->AutoGenerateRowSelectColumn; if ($this->AutoGenerateExpandColumn === NULL) $this->AutoGenerateExpandColumn =$this->_il2b->AutoGenerateExpandColumn; if ($this->AutoGenerateColumns === NULL) $this->AutoGenerateColumns =$this->_il2b->AutoGenerateColumns; if ($this->AutoGenerateEditColumn === NULL) $this->AutoGenerateEditColumn =$this->_il2b->AutoGenerateEditColumn; if ($this->AutoGenerateDeleteColumn === NULL) $this->AutoGenerateDeleteColumn =$this->_il2b->AutoGenerateDeleteColumn; if ($this->DisableAutoGenerateDataFields === NULL) $this->DisableAutoGenerateDataFields =$this->_il2b->DisableAutoGenerateDataFields; if ($this->ColumnWrap === NULL) $this->ColumnWrap =$this->_il2b->ColumnWrap; if ($this->ColumnAlign === NULL) $this->ColumnAlign =$this->_il2b->ColumnAlign; if ($this->_iO3a === NULL) $this->_iO3a =$this->_il2b->_iO3a; if ($this->TableLayout === NULL) $this->TableLayout =$this->_il2b->TableLayout; if ($this->FilterOptions === NULL) $this->FilterOptions =$this->_il2b->FilterOptions; if ($this->AllowMultiSelecting) { $this->AllowSelecting =TRUE; } if ($this->AutoGenerateRowSelectColumn) { $_il7c=new gridrowselectcolumn(); $_il7c->Align ="cent\145\162"; $_il6=array($_il7c); $this->_iO30 =array_merge($_il6,$this->_iO30); } if ($this->AutoGenerateExpandColumn) { $_iO7c=new gridexpanddetailcolumn(); $_iO7c->Align ="c\145\156ter"; $_il6=array($_iO7c); $this->_iO30 =array_merge($_il6,$this->_iO30); } if ($this->AutoGenerateColumns) { $_iO1q=$this->DataSource->getfields(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Er\162\157r" => $_iO2x)); $_il7d=$this->DisableAutoGenerateDataFields.","; foreach ($_iO1q as $_iO1d) { if (strpos($_il7d,$_iO1d["\116\141me"].",") === FALSE) { $_il31=new gridboundcolumn(); $_il31->HeaderText =$_iO1d["Name"]; $_il31->DataField =$_iO1d["\116ame"]; if ($_iO1d["N\157\164_Null"] == 1) { $_il31->addvalidator(new requiredfieldvalidator()); } $this->addcolumn($_il31); } } } if ($this->AutoGenerateEditColumn) { $_iO7d=new grideditdeletecolumn(); $_iO7d->Align ="c\145\156ter"; $_iO7d->ShowDeleteButton =FALSE; $this->addcolumn($_iO7d); } if ($this->AutoGenerateDeleteColumn) { $_il7e=new grideditdeletecolumn(); $_il7e->Align ="\143ente\162"; $_il7e->ShowEditButton =FALSE; $this->addcolumn($_il7e); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_il2e =$this->_il2e."\137\143".$_iO9; $this->_iO30[$_iO9]->_iO2c($this); } if ($this->Pager != NULL) { $this->Pager->_il2e =$this->_il2e."\137\160g"; $this->Pager->_iO2c($this); } $this->FunctionPanel->_iO2c($this); $this->GroupPanel->_il2e =$this->_il2e."_gp"; $this->GroupPanel->_iO2c($this); for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->_iO3f[$_iO9]->_il2e =$this->_il2e."_g\155".$_iO9; $this->_iO3f[$_iO9]->_iO2c($this); } } function getparentrow() { return $this->_iO6a; } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; $this->Width =$_iO2p["Widt\150"]; $this->_il7a =$_iO2p["\124\141blePartW\151\144th"]; $this->_il77 =$_iO2p["\122\157wsCoun\164"]; $this->_il6f =$_iO2p["Insert\151\156\147"]; $this->_il78 =$_iO2p["scrol\154\124\157p"]; $this->_iO78 =$_iO2p["\163crollL\145\146\164"]; if ( isset ($_iO2p["Se\154\145ctedKey\163"])) { $this->SelectedKeys =$_iO2p["\123\145lected\113\145ys"]; } if ( isset ($_iO2p["\120artDat\141\110\145igh\164"])) { $this->_il79 =$_iO2p["Pa\162\164DataHei\147\150\164"]; } $this->_iO7a =$_iO2p["\107roupSiz\145"]; } if ($this->Pager != NULL) { $this->Pager->_iO29(); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_iO29(); } } function _il2a() { $this->_iO2m->_il26[$this->_il2e ]=array("Row\163\103ount" => sizeof($this->_il48),"Na\155\145" => $this->Name ,"Selecte\144\113\145ys" => $this->SelectedKeys ,"In\163\145\162ting" => $this->_il6f ,"\101llowH\157\166\145ring" => $this->AllowHovering ,"\101llowSel\145\143ting" => $this->AllowSelecting ,"\101\154lowMulti\123\145lectin\147" => $this->AllowMultiSelecting ,"\101llowS\143\162\157llin\147" => $this->AllowScrolling ,"\126\151rtualSc\162\157lling" => $this->VirtualScrolling ,"Frozen\103\157\154umns\103\157unt" => $this->FrozenColumnsCount ,"\163crollT\157\160" => $this->_il78 ,"scrol\154\114eft" => $this->_iO78 ,"Width" => $this->Width ,"TableP\141\162\164Wid\164\150" => $this->_il7a ,"G\162\157\165pSize" => sizeof($this->_iO3f),); if ($this->Pager != NULL) { $this->Pager->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $this->_iO30[$_iO9]->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_il48); $_iO9 ++) { $this->_il48[$_iO9]->_il2a(); } for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->_iO3f[$_iO9]->_il2a(); } if ($this->_il6w !== NULL) { $this->_il6w->_il2a(); } } function _il6r($_iO1s) { $_iO1s->_il2e =$this->_il2e."\137\162".sizeof($this->_il48); $_iO1s->_iO2c($this); array_push($this->_il48 ,$_iO1s); } function _iO2s() { $this->_iO29(); if ($this->_il6f) { $this->_iO79 =$this->InsertSettings->_il2t(); $this->_iO79->_iO2c($this); } for ($_iO9=0; $_iO9<$this->_il77; $_iO9 ++) { $_iO1s=new gridrow(); $this->_il6r($_iO1s); $_iO1s->_iO2s(); } if ($this->_iO7a !== NULL) { $this->_iO3f =array(); for ($_iO9=0; $_iO9<$this->_iO7a; $_iO9 ++) { $_iO6s=new _il3a(); $_iO6s->_il2e =$this->_il2e."_gm".$_iO9; $_iO6s->_iO2c($this); $_iO6s->_iO2s(); array_push($this->_iO3f ,$_iO6s); } } else { $this->_iO7a =sizeof($this->_iO3f); } } function refresh() { $this->_iO77 =TRUE; $this->_il2f =TRUE; } function _il2v($_ilm) { if (! isset ($this->_iO2m->_il26[$this->_il2e ])) { $this->_il2f =TRUE; } foreach ($this->_iO3f as $_iO1k) { $_iO1k->_il2v($_ilm); } $this->DataSource->clear(); if ( isset ($_ilm->_il2i[$this->_il2e ])) { $_iO2v=$_ilm->_il2i[$this->_il2e ]; switch ($_iO2v["C\157\155mand"]) { case "Start\111\156sert": if ($this->_il2b->EventHandler->onbeforestartinsert($this,array()) == TRUE) { $this->_il6f =TRUE; $this->_iO79 =$this->InsertSettings->_il2t(); $this->_iO79->_iO2c($this); $this->_iO79->_il2w ="\123tartIns\145\162t"; $this->_il2b->EventHandler->onstartinsert($this,array()); } break; case "\103onfi\162\155\111nser\164": $this->_iO79->_il2w ="Con\146\151\162mIns\145\162t"; $this->_iO79->_iO69(); break; case "\103ancelI\156\163\145rt": if ($this->_il2b->EventHandler->onbeforecancelinsert($this,array()) == TRUE) { $this->_il6f =FALSE; $this->_il2b->EventHandler->oncancelinsert($this,NULL); } break; case "\122efresh": $this->refresh(); break; case "A\144\144Group": $_iO7e=$_iO2v["\101\162gs"]["\107\162oupFi\145\154d"]; $_iO3e=$_iO2v["Arg\163"]["\120osition"]; if ($this->_il2b->EventHandler->onbeforeaddgroup($this,array("Pos\151\164\151on" => $_iO3e)) == TRUE) { $_il7f=TRUE; foreach ($this->_iO3f as $_iO1k) { if ($_iO1k->GroupField == $_iO7e) { $_il7f=FALSE; } } if ($_il7f) { $_il3f=new _il3a(); $_il3f->GroupField =$_iO7e; $_il3f->addinfofield($_iO7e); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->DataField == $_iO7e) { $_il3f->HeaderText =$_iO1h->HeaderText; } } $_il3f->_iO2c($this); if ($_iO3e === NULL || ($_iO3e>=sizeof($this->_iO3f))) { array_push($this->_iO3f ,$_il3f); } else { $_il3g=array(); for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { if ($_iO3e == $_iO9) { array_push($_il3g,$_il3f); } array_push($_il3g,$this->_iO3f[$_iO9]); } $this->_iO3f =$_il3g; } for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->_iO3f[$_iO9]->_il2e =$this->_il2e."_gm".$_iO9; } } $this->_il2b->EventHandler->onaddgroup($this,array("Po\163\151tion" => $_iO3e)); $this->refresh(); } break; case "Ch\141\156geGrou\160\117rder": $_iO7e=$_iO2v["Args"]["\107\162oupField"]; $_iO7f=$_iO2v["A\162\147\163"]["Pos\151\164\151on"]; if ($this->_il2b->EventHandler->onbeforechangegrouporder($this,array("GroupF\151\145\154d" => $_iO7e,"\120ositio\156" => $_iO7f)) == TRUE) { $_il7g=0; for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { if ($this->_iO3f[$_iO9]->GroupField == $_iO7e) { $_il7g=$_iO9; } } if ($_iO7f === NULL || $_iO7f>=sizeof($this->_iO3f)) { $_iO7f=sizeof($this->_iO3f); } $_il3g=array(); for ($_iO9=0; $_iO9<=sizeof($this->_iO3f); $_iO9 ++) { if ($_iO9 == $_iO7f) { array_push($_il3g,$this->_iO3f[$_il7g]); } if ($_iO9 != $_il7g && $_iO9<sizeof($this->_iO3f)) { array_push($_il3g,$this->_iO3f[$_iO9]); } } $this->_iO3f =$_il3g; for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->_iO3f[$_iO9]->_il2e =$this->_il2e."\137gm".$_iO9; } $this->_il2b->EventHandler->onchangegrouporder($this,array("\107\162oupFiel\144" => $_iO7e,"\120osition" => $_iO7f)); $this->refresh(); } break; case "\122\145moveGr\157\165p": $_iO7e=$_iO2v["Ar\147\163"]["GroupF\151\145\154d"]; if ($this->_il2b->EventHandler->onbeforeremovegroup($this,array("\107roupF\151\145ld" => $_iO7e)) == TRUE) { $_il3g=array(); for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { if ($this->_iO3f[$_iO9]->GroupField != $_iO7e) { array_push($_il3g,$this->_iO3f[$_iO9]); } } $this->_iO3f =$_il3g; for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->_iO3f[$_iO9]->_il2e =$this->_il2e."_gm".$_iO9; } $this->_il2b->EventHandler->onremovegroup($this,array("Gro\165\160Field" => $_iO7e)); } break; } } if ($this->_iO6a !== NULL) { if ($this->_iO6a->_il2n->_iO77 && $this->_iO6a->_il2n->KeepRowStateOnRefresh) { $this->refresh(); } } $this->_il2b->EventHandler->ontableviewprerender($this,array()); foreach ($this->_iO30 as $_iO1h) { $_iO1h->_il2v($_ilm); } if (sizeof($this->_iO3f)>0) { $_il6=array(); for ($_iO9=0; $_iO9<sizeof($this->_iO3f); $_iO9 ++) { $this->DataSource->addsort(new datasourcesort($this->_iO3f[$_iO9]->GroupField ,($this->_iO3f[$_iO9]->Sort <0) ? "\104ES\103": "A\123\103")); $_iO7g=new _iO4d(); $_iO7g->_il2e =$this->_il2e."_gc".$_iO9; $_iO7g->_iO2c($this); array_push($_il6,$_iO7g); } $this->_iO30 =array_merge($_il6,$this->_iO30); } foreach ($this->_il48 as $_iO1s) { $_iO1s->_il2v($_ilm); } if ($this->_iO6a != NULL) { foreach ($this->_il6b as $_iO1d) { $this->DataSource->addfilter(new datasourcefilter($_iO1d["\104\145tail"],"\105qual",$this->_iO6a->DataItem[$_iO1d["\115aster"]])); } } if ($this->Pager != NULL) { $this->Pager->_iO50 =$this->DataSource->count(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); $this->Pager->_il2v($_ilm); } $_il7h=array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { foreach ($this->SelectedKeys as $_iO7h) { $_il7h[_iO15($_iO7h)]=$_iO7h; } foreach ($this->_il48 as $_iO1s) { $_iO7h=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7i=_iO15($_iO7h); if ($_iO1s->Selected) { $_il7h[$_il7i]=$_iO7h; } else { if ( isset ($_il7h[$_il7i])) { unset ($_il7h[$_il7i]); } } } } if ($this->_il2f) { $_il27=array(); $this->DataSource->arrangesorts($this->MultiSortingOrder); if ($this->Pager != NULL) { $_il27=$this->DataSource->getdata($this->Pager->_il52(),$this->Pager->PageSize); } else { $_il27=$this->DataSource->getdata(); } $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("Err\157\162" => $_iO2x)); $_iO7i=array(); if ($this->_iO77 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { foreach ($this->_il48 as $_iO1s) { $_iO7h=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7i=_iO15($_iO7h); $_iO7i[$_il7i]=$_iO1s; } } $this->_il48 =array(); for ($_iO9=0; $_iO9<sizeof($_il27); $_iO9 ++) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il27[$_iO9]; if ($this->_iO77 && $this->KeepRowStateOnRefresh && $this->DataKeyNames !== NULL) { $_iO7h=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7i=_iO15($_iO7h); if ($_iO7i[$_il7i] !== NULL) { $_il7j=$_iO1s->DataItem; $_iO1s=$_iO7i[$_il7i]; $_iO1s->DataItem =$_il7j; } } $this->_il6r($_iO1s); $_iO1s->_il2v($_ilm); } $_il6u=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->Aggregate !== NULL) { array_push($_il6u,array("Key" => $_iO1h->_il2e ,"\101ggre\147\141te" => $_iO1h->Aggregate ,"DataF\151\145\154d" => $_iO1h->DataFieldPrefix.$_iO1h->DataField)); } } $_iO1p=NULL; if (sizeof($_il6u)>0) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO1p=$this->DataSource->getaggregates($_il6u); } $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("E\162\162or" => $_iO2x)); if ($_iO1p !== NULL) { foreach ($this->_iO30 as $_iO1h) { if ( isset ($_iO1p[$_iO1h->_il2e ])) { $_iO1h->_iO39 =$_iO1p[$_iO1h->_il2e ]; } } } } $this->SelectedKeys =array(); if ($this->KeepSelectedRecords && $this->DataKeyNames !== NULL) { if ($this->_il2f) { foreach ($this->_il48 as $_iO1s) { $_iO7h=_il13($_iO1s->DataItem ,$this->DataKeyNames); $_il7i=_iO15($_iO7h); if ( isset ($_il7h[$_il7i])) { $_iO1s->Selected =TRUE; } } } foreach ($_il7h as $_iO7h) { array_push($this->SelectedKeys ,$_iO7h); } } else { foreach ($this->_il48 as $_iO1s) { if ($_iO1s->Selected) { $_iO7h=_il13($_iO1s->DataItem ,$this->DataKeyNames); array_push($this->SelectedKeys ,$_iO7h); } } } if (sizeof($this->_iO3f)>0) { $this->_il6w =new _iO6n(); $this->_il6w->_il2e =$this->_il2e."\137\162g"; $this->_il6w->_iO2c($this); $this->_il6w->_il6p =-1; $this->_il6w->_iO6r($this->_il48); $this->_il6w->_iO2s(); $this->_il6w->_il2v($_ilm); } } function getinstancerows() { return $this->_il48; } function getinstancecolumns() { return $this->_iO30; } function getrelationfields() { return $this->_il6b; } function getcsvdata() { $_il1x=$this->_il2b->ExportSettings; $_il1m=''; $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->HeaderText.$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7j=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); foreach ($_iO7j as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->renderexport($_iO1s).$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; } } else { foreach ($this->_il48 as $_iO1s) { $_il1z=TRUE; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { if (!$_il1z) $_il1m.=$_il1x->_iO1z; $_il1m.=$_il1x->_il20.$_iO1h->renderexport($_iO1s).$_il1x->_il20; $_il1z=FALSE; } } $_il1m.="\015\n"; } } return $_il1m; } function exporttocsv() { $_il1x=$this->_il2b->ExportSettings; header("Pragm\141\072 pub\154\151c"); header("Expires\072\0400"); header("Cache-Co\156\164rol: m\165\163t-re\166\141lida\164\145, pos\164\055che\143\153=0, \160\162e-che\143\153=0"); header("\103ache-C\157ntr\157\154: pu\142\154ic"); header("\103\157\156tent-\104\145\163crip\164\151on: Fi\154\145 Tran\163\146er"); header("\103\157ntent-T\171\160e: appl\151\143ation/\146\157rce-d\157\167nload\073"); header("Conten\164\055\104ispo\163\151\164ion:\040\141ttachm\145\156t; f\151\154ename\075\042".$_il1x->FileName.".\143\163\166\042"); header("Co\156\164\145nt-T\162\141\156sfer\055\105ncodin\147\072 bina\162\171"); $_il1m=$this->getcsvdata(); echo $_il1m; exit; } function exporttoexcel($_il7k='') { error_reporting(0); if (!class_exists("PHPEx\143\145\154",FALSE)) { $_iO7k=dirname(dirname( __FILE__)); require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_il7l=new phpexcel(); $_il7l->setactivesheetindex(0); $_iO7l=0; $_il7m=1; $_iO7m=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il45=phpexcel_cell::stringfromcolumnindex($_iO7l).$_il7m; $_il7l->getactivesheet()->setcellvalue($_il45,$_iO1h->HeaderText); $_il7l->getactivesheet()->getstyle($_il45)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); $_il7l->getactivesheet()->getstyle($_il45)->getfont()->setbold(TRUE); $_iO7m[$_iO7l]=strlen($_iO1h->HeaderText); $_iO7l ++; } } $_il7m ++; $_iO7l=0; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7j=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_iO2x)); foreach ($_iO7j as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il3=$_iO1h->renderexport($_iO1s); $_il45=phpexcel_cell::stringfromcolumnindex($_iO7l).$_il7m; $_il7l->getactivesheet()->setcellvalue($_il45,$_il3); $_il7l->getactivesheet()->getstyle($_il45)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO7m[$_iO7l]<strlen( "$_il3")) { $_iO7m[$_iO7l]=strlen( "$_il3"); } $_iO7l ++; } } $_il7m ++; $_iO7l=0; } } else { foreach ($this->_il48 as $_iO1s) { foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il3=$_iO1h->renderexport($_iO1s); $_il45=phpexcel_cell::stringfromcolumnindex($_iO7l).$_il7m; $_il7l->getactivesheet()->setcellvalue($_il45,$_il3); $_il7l->getactivesheet()->getstyle($_il45)->getalignment()->sethorizontal(phpexcel_style_alignment::HORIZONTAL_LEFT); if ($_iO7m[$_iO7l]<strlen( "$_il3")) { $_iO7m[$_iO7l]=strlen( "$_il3"); } $_iO7l ++; } } $_il7m ++; $_iO7l=0; } } for ($_iO9=0; $_iO9<sizeof($_iO7m); $_iO9 ++) { $_il7l->getactivesheet()->getcolumndimensionbycolumn($_iO9)->setwidth((($_iO7m[$_iO9]<055) ? $_iO7m[$_iO9]: 055)+5); } header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_il7n=phpexcel_iofactory::createwriter($_il7l,'Excel5'); $_il7n->save('php://output'); exit; } function quickexporttoexcel() { error_reporting(0); if (!class_exists("\120HPExce\154",FALSE)) { $_iO7k=dirname(dirname( __FILE__)); require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_il1m=$this->getcsvdata(); $_iO7n='file.csv'; $_il7o=fopen($_iO7n,'w') or exit ('Cannot open file:  '.$_iO7n); fwrite($_il7o,$_il1m); $_iO7o=phpexcel_iofactory::createreader('CSV'); $_iO7o->setdelimiter($_il1x->_iO1z); $_il7p=$_iO7o->load($_iO7n); $_iO7p=phpexcel_iofactory::createwriter($_il7p,'Excel5'); header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_iO7p->save('php://output'); fclose($_il7o); unlink($_iO7n); exit; } function _il7q($_iO7q,$_il7r) { error_reporting(0); $_il1x=$this->_il2b->ExportSettings; $_iO7r=$_iO7q.'/'.$_il1x->FileName.'.csv'; $_il7s=$_il7r.'/'.$_il1x->FileName.'.csv'; unlink($_il7s); $_iO1x=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { array_push($_iO1x,array('HeaderText' => $_iO1h->HeaderText ,'DataField' => $_iO1h->DataField)); } } $this->DataSource->exportdata($_il1x,$_iO1x,$_iO7r); header("\120rag\155\141\072 p\165\142lic"); header("\105\170pires\072\0400"); header("Cache-C\157\156trol: \155\165st-re\166\141lidat\145\054 pos\164\055ch\145\143k=0,\040\160re-ch\145\143k=0"); header("Cach\145\055Contro\154\072 publ\151\143"); header("\103ontent-\104\145script\151\157n: Fil\145\040Tran\163\146er"); header("Con\164\145\156t-Ty\160\145: app\154\151catio\156\057force\055\144ow\156\154oad;"); header("Co\156\164\145nt-D\151\163positi\157\156: att\141\143hmen\164\073 fil\145\156ame=\042".$_il1x->FileName."\056csv\042"); header("Content\055\124ransf\145\162-Enco\144\151ng: b\151\156ary"); readfile($_il7s); exit; } function directexporttoexcel($_iO7q,$_il7r) { error_reporting(0); if (!class_exists("\120\110PExcel",FALSE)) { $_iO7k=dirname(dirname( __FILE__)); require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/Cell.php'; require_once $_iO7k.'/library/PHPExcel/Classes/PHPExcel/IOFactory.php'; } $_il1x=$this->_il2b->ExportSettings; $_iO7r=$_iO7q.'/'.$_il1x->FileName.'.csv'; $_il7s=$_il7r.'/'.$_il1x->FileName.'.csv'; unlink($_il7s); $_iO1x=array(); foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { array_push($_iO1x,array('HeaderText' => $_iO1h->HeaderText ,'DataField' => $_iO1h->DataField)); } } $this->DataSource->exportdata($_il1x,$_iO1x,$_iO7r); $_iO7o=phpexcel_iofactory::createreader('CSV'); $_iO7o->setdelimiter($_il1x->_iO1z); $_il7p=$_iO7o->load($_il7s); $_iO7p=phpexcel_iofactory::createwriter($_il7p,'Excel5'); header('Content-Type: application/vnd.ms-excel'); header('Content-Disposition: attachment;filename="'.$_il1x->FileName.'.xls"'); header('Cache-Control: max-age=0'); header('Cache-Control: max-age=1'); header('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); header('Cache-Control: cache, must-revalidate'); header('Pragma: public'); $_iO7p->save('php://output'); exit; } function exporttoword() { $_il1x=$this->_il2b->ExportSettings; header("\120ragm\141\072 publ\151\143"); header("Ex\160\151res: 0"); header("\103\141che-Con\164\162ol: mu\163\164-rev\141\154idate\054\040pos\164\055che\143\153=0, p\162\145-check\075\060"); header("\103\141che-Co\156\164\162ol: \160\165blic"); header("Co\156\164\145nt-De\163\143\162ipti\157\156: File\040\124ransf\145\162"); header("\103\157ntent-Ty\160\145\072 app\154\151cation\057\155sword"); header("C\157\156\164ent-D\151\163posit\151\157n: at\164\141\143hme\156\164; f\151\154enam\145\075\042".$_il1x->FileName."\056doc\042"); header("C\157\156\164ent-T\162\141\156sfer\055\105\156codi\156\147: bin\141\162y"); echo "\074\164able bo\162\144\145r='1\047\076"; echo "\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "\074th align\075\047left' \163\164\171le='\142\141\143kgro\165\156d-co\154\157r:#EE\105\105\105E;'>".$_iO1h->HeaderText."\074\057th>"; } } echo "</\164\162\076"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7j=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105\162ror" => $_iO2x)); foreach ($_iO7j as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; echo "\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "<td>".$_iO1h->renderexport($_iO1s)."</td\076"; } } echo "\074\057tr>"; } } else { foreach ($this->_il48 as $_iO1s) { echo "\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { echo "<td>".$_iO1h->renderexport($_iO1s)."</td>"; } } echo "<\057\164r>"; } } echo "</ta\142\154e>"; exit (); } function exporttopdf() { if (!class_exists("TCPDF",FALSE)) { $_iO7k=dirname(dirname( __FILE__)); require_once $_iO7k."\057\154ibrary/t\143\160\144f/co\156\146ig/lan\147\057eng.p\150\160"; require_once $_iO7k."/li\142\162\141ry/tc\160\144\146/tcp\144\146.php"; } $_il1x=$this->_il2b->ExportSettings; $_iO7s=new tcpdf(PDF_PAGE_ORIENTATION,PDF_UNIT,PDF_PAGE_FORMAT,TRUE,$this->_il2b->CharSet ,FALSE); $_iO7s->setfont('FreeSans','',012); $_iO7s->addpage(); $_il7t=""; $_il7t.='<table border="1">'; $_il7t.="\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7t.='<th align="left" style="background-color: #EEEEEE;"><b>'.$_iO1h->HeaderText.'</b></th>'; } } $_il7t.="\074\057tr>"; if ($_il1x->IgnorePaging) { $this->DataSource->arrangesorts($this->MultiSortingOrder); $_iO7j=$this->DataSource->getdata(); $_iO2x=$this->DataSource->geterror(); if ($_iO2x != "") $this->_il2b->EventHandler->ondatasourceerror($this,array("\105rror" => $_iO2x)); foreach ($_iO7j as $_il2q) { $_iO1s=new gridrow(); $_iO1s->DataItem =$_il2q; $_il7t.="\074\164r>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7t.="<td>".$_iO1h->renderexport($_iO1s)."</t\144\076"; } } $_il7t.="\074\057tr>"; } } else { foreach ($this->_il48 as $_iO1s) { $_il7t.="\074tr>"; foreach ($this->_iO30 as $_iO1h) { if ($_iO1h->AllowExporting) { $_il7t.="\074\164d>".$_iO1h->renderexport($_iO1s)."\074/td>"; } } $_il7t.="<\057\164r>"; } } $_il7t.="\074\057table>"; $_iO7s->writehtml($_il7t,TRUE,0,TRUE,0); $_iO7s->output($_il1x->FileName.".p\144\146","D"); exit (); } function _iO2f() { $_iO7t="<div i\144\075'\173id\175\047 cla\163\163='kgr\124\141bleV\151\145w' \163\164yle=\047\173width\175\173heigh\164\175'><di\166\040cla\163\163='kgr\124\157p'>\173\147\162oupp\141\156el}\173\160\141ger_t\157\160}\173f\165\156ction\160\141nel_t\157\160}</di\166\076\173\164\141bles\175\074div c\154\141ss='\153\147rBott\157\155'>\173\146\165nctio\156\160anel\137\142ottom\175\173page\162\137botto\155\175\173st\141\164us}<\057\144iv><\057\144iv>"; $_il7u="\074\164able c\154\141\163s='k\147\162\124abl\145\047\040cel\154\163paci\156\147='0' s\164\171le='\173\163\164yle}'>\173\143\157lgr\157\165p}\173t\150\145\141d}\173\164\146\157ot}\173\164\142ody}<\057\164able>"; $_iO7u="\074div clas\163\075\047\173\143\154ass}\047\040styl\145\075'\173\144\151vst\171\154e}'><\164\141ble i\144\075'\173i\144\175\137\173\160\141rt}' \163\164yle='\173\163tyle}\047\040class\075\047kgrT\141\142le'>\173\143\157lgr\157\165p}\173\164\160\141rt}\074\057tab\154\145></d\151\166>"; $_il7v="<c\157\154\147roup>\173\143\157ls}\074\057colgro\165\160>"; $_iO7v="<th\145\141\144><tr>\173\164\150s}</\164\162\076\173i\156\163ertf\157\162m}\173\146\151\154ter}\074\057thead\076"; $_il7w="<tr\076\173tds}</\164\162\076"; $_iO7w="<\164\146\157ot>\173\164\146oot_tr\163\175</tfoo\164\076"; $_il7x="<tr\076\173\143ol_fo\157\164\145r_td\163\175\074/tr\076"; $_iO7x="\074tbody>\173\164body_t\162\163}</tbo\144\171>"; $_il7y=""; $_il73=""; $_iO7y=""; $_il7z=sizeof($this->_iO30); for ($_iO9=0; $_iO9<$_il7z; $_iO9 ++) { $_iO7z=$this->_iO30[$_iO9]; $_il7y.=$_iO7z->_il3m(); if ($this->ShowHeader) { $_il73.=$_iO7z->renderheader(); } if ($this->ShowFooter) { $_iO7y.=$_iO7z->renderfooter(); } } $_il80=_iO0("\173\143\157ls}",$_il7y,$_il7v); $_iO80=_iO0("\173ths}",$_il73,$_iO7v); $_iO80=_iO0("\173in\163\145\162tfor\155\175",($this->_il6f) ? $this->_iO79->_iO2f(): "",$_iO80); $_il81=FALSE; for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { if ($this->_iO30[$_iO9]->AllowFiltering) { $_il81=TRUE; } } if ($_il81) { $_iO81=""; for ($_iO9=0; $_iO9<sizeof($this->_iO30); $_iO9 ++) { $_iO81.=$this->_iO30[$_iO9]->_il3w(); } $_il82=_iO0("\173\164\144\163}",$_iO81,$_il7w); $_iO80=_iO0("\173filter}",$_il82,$_iO80); } else { $_iO80=_iO0("\173filte\162\175","",$_iO80); } $_iO82=""; $_il83=""; if (strtolower($this->ShowFunctionPanel)) { $_iO83=$this->FunctionPanel->_iO2f(); $_iO3k=$this->CssClasses; $_iO83=_iO0("\173\143ssclasse\163\175",isset ($_iO3k['function panel']) ? $_iO3k['function panel']: '',$_iO83); switch ($this->FunctionPanel->Position) { case "top": $_iO82=$this->FunctionPanel->_iO2f(); break; case "top\053\142ottom": $_iO82=$this->FunctionPanel->_iO2f(); $_il83=$this->FunctionPanel->_iO2f(); break; case "\142ottom": default : $_il83=$this->FunctionPanel->_iO2f(); break; } } $_il84=""; if ($this->ShowGroupPanel) { $_il84=$this->GroupPanel->_iO2f(); } $_iO84=""; $_il85=""; if ($this->Pager != NULL) { $_iO85=$this->Pager->_iO2f(); $_iO3k=$this->CssClasses; $_iO85=_iO0("\173\143\163\163clas\163\145\163}",isset ($_iO3k['pager']) ? $_iO3k['pager']: '',$_iO85); switch (strtolower($this->Pager->Position)) { case "top": $_iO84=$_iO85; break; case "\164op+botto\155": $_iO84=$_iO85; $_il85=$_iO85; break; case "\142ottom": default : $_il85=$_iO85; break; } } $_il86=""; if ($this->_il2e == $this->_il2b->_il2e."_mt" && $this->_il2b->ShowStatus) { $_il86=$this->_il2b->Status->_iO2f(); } $_iO86=""; if ($this->ShowFooter) { $_il87=_iO0("\173\143\157l_foo\164\145\162_tds\175",$_iO7y,$_il7x); $_iO86.=$_il87; } $_iO87=_iO0("\173\164foot_t\162\163\175",$_iO86,$_iO7w); $_il88=""; for ($_iO9=0; $_iO9<sizeof($this->_il48); $_iO9 ++) { if ($this->RowAlternative) { $this->_il48[$_iO9]->_iO2o =($_iO9%2 != 0); } } if (sizeof($this->_iO3f)>0) { $_il88=$this->_il6w->_iO2f(); } else { for ($_iO9=0; $_iO9<sizeof($this->_il48); $_iO9 ++) { $_il88.=$this->_il48[$_iO9]->_iO2f(); } } $_iO88=_iO0("\173\164\142ody_t\162\163}",$_il88,$_iO7x); $_il89=_iO0("\173\151d}",$this->_il2e ,$_iO7t); if ($this->AllowScrolling == TRUE) { $_iO89="\164ab\154\145-la\171\157ut:f\151\170ed\073\040em\160\164y-\143\145l\154\163: \163\150ow;\040\157ve\162\146low\055\171:h\151\144de\156\073 w\151\144th\072\173wid\164\150};"; $_iO89=_iO0("\173width}",($this->_il7a != NULL) ? $this->_il7a : "100%",$_iO89); $_il8a=_iO0("\173id}",$this->_il2e ,$_iO7u); $_il8a=_iO0("\173par\164\175","heade\162",$_il8a); $_il8a=_iO0("\173cl\141\163\163}","kgrPa\162\164\110eade\162",$_il8a); $_il8a=_iO0("\173colg\162\157\165p}",$_il80,$_il8a); $_il8a=_iO0("\173t\160\141\162t}",$_iO80,$_il8a); $_il8a=_iO0("\173\163tyle}",$_iO89,$_il8a); $_il8a=_iO0("\173\144ivstyle\175","",$_il8a); $_iO8a=_iO0("\173id}",$this->_il2e ,$_iO7u); $_iO8a=_iO0("\173\160\141rt}","data",$_iO8a); $_iO8a=_iO0("\173\143lass}","\153\147rPartDat\141",$_iO8a); $_iO8a=_iO0("\173\143\157lgroup\175",$_il80,$_iO8a); $_iO8a=_iO0("\173tpar\164\175",$_iO88,$_iO8a); $_iO8a=_iO0("\173sty\154\145\175",$_iO89,$_iO8a); $_il8b=""; $_il8b.=($this->_il79) ? "\150eight:".$this->_il79."\160x;": ""; $_iO8a=_iO0("\173\144\151vstyle\175",$_il8b,$_iO8a); $_iO8b=_iO0("\173id}",$this->_il2e ,$_iO7u); $_iO8b=_iO0("\173\160art}","\146\157oter",$_iO8b); $_iO8b=_iO0("\173\143\154ass}","\153\147rPartF\157\157\164er",$_iO8b); $_iO8b=_iO0("\173colgroup\175",$_il80,$_iO8b); $_iO8b=_iO0("\173\164\160art}",$_iO87,$_iO8b); $_iO8b=_iO0("\173\163\164yle}",$_iO89,$_iO8b); $_iO8b=_iO0("\173divs\164\171\154e}","",$_iO8b); $_iO8a=_iO0("\173\143\157lgroup\175",$_il80,$_iO8a); $_iO8a=_iO0("\173\164\160art}",$_iO88,$_iO8a); $_il89=_iO0("\173\164\141bles}",$_il8a.$_iO8a.$_iO8b,$_il89); } else { $_iO33=$_il7u; $_iO33=_iO0("\173\143\157lgroup}",$_il80,$_iO33); $_iO33=_iO0("\173style\175","table-la\171\157\165t: \173\154\141you\164\175\073emp\164\171-cel\154\163: sh\157\167\073\173w\151\144th}",$_iO33); $_iO33=_iO0("\173l\141\171\157ut}",$this->TableLayout ,$_iO33); if ($this->Width !== NULL && strpos($this->Width ,"\045") !== FALSE) { $_iO33=_iO0("\173\167\151dth}","\167\151\144th:1\060\060%",$_iO33); } $_iO33=_iO0("\173\164head}",($this->ShowHeader) ? $_iO80: "",$_iO33); $_iO33=_iO0("\173t\146\157\157t}",$_iO87,$_iO33); $_iO33=_iO0("\173tbody}",$_iO88,$_iO33); $_il89=_iO0("\173tables}",$_iO33,$_il89); } $_il89=_iO0("\173w\151\144\164h}",($this->Width != "") ? "wi\144\164\150:".$this->Width.";": "",$_il89); $_il89=_iO0("\173\150eight}",($this->Height != "") ? "heigh\164\072".$this->Height.";": "",$_il89); $_il89=_iO0("\173group\160\141\156el}",$_il84,$_il89); $_il89=_iO0("\173\146uncti\157\156panel_\164\157p}",$_iO82,$_il89); $_il89=_iO0("\173\146\165nctio\156\160\141nel_\142\157ttom}",$_il83,$_il89); $_il89=_iO0("\173\160\141ger_t\157\160\175",$_iO84,$_il89); $_il89=_iO0("\173\160\141ger_bo\164\164\157m}",$_il85,$_il89); $_il89=_iO0("\173\163\164\141tus}",$_il86,$_il89); return $_il89; } } class _il8c { var $LoadingText; var $DoneText; function _iO2c($_il2d) { if ($this->LoadingText === NULL) $this->LoadingText =$_il2d->Localization->_il2i["\114oadi\156\147"]; if ($this->DoneText === NULL) $this->DoneText =$_il2d->Localization->_il2i["\104\157ne"]; } function _iO2f() { $_iO8c="<div\040\143lass='k\147\162\123tatu\163\047><spa\156\040class\075\047kgr\104\157neText\047\076\173don\145\164ext}</\163\160\141n><\163\160an cla\163\163\075'kg\162\114\157adin\147\124\145xt'>\173\154oading\164\145\170t}</\163\160an></d\151\166>"; $_il86=_iO0("\173\144\157netex\164\175",$this->DoneText ,$_iO8c); $_il86=_iO0("\173l\157\141\144ingtex\164\175",$this->LoadingText ,$_il86); return $_il86; } } class _il8d { var $IgnorePaging=FALSE; var $FileName="\113\157olGri\144\105\170port"; var $_iO1z=','; var $_il20='"'; } class _iO8d { var $Resizing; var $Selecting; var $Scrolling; var $ClientMessages; var $ClientEvents; var $_il2b; function __construct() { $this->Resizing =array("\122esi\172\145Gr\151\144On\103\157lu\155nRes\151\172e" => FALSE); $this->Selecting =array(); $this->Scrolling =array("Save\123\143rollin\147\120\157siti\157\156" => TRUE); $this->ClientMessages =array("\104\145leteCon\146\151\162m" => NULL); $this->ClientEvents =array(); } function _iO2c($_il2d) { $this->_il2b =$_il2d; if ($this->ClientMessages["\104\145leteCo\156\146\151rm"] === NULL) $this->ClientMessages["\104\145leteConf\151\162\155"]=$_il2d->Localization->_iO2i["Delete\103\157\156firm"]; } function _il2a() { $_il2h=$this->_il2b->_iO2m; $_il8e=$this->_il2b->_il2e; $_il2h->_il26[$_il8e]["\103lientSe\164\164\151ngs"]=array(); $_il2h->_il26[$_il8e]["\103\154ientSett\151\156\147s"]["\122\145sizing"]=$this->Resizing; $_il2h->_il26[$_il8e]["\103\154\151entSe\164\164\151ngs"]["S\145\154\145cting"]=$this->Selecting; $_il2h->_il26[$_il8e]["Clien\164\123\145tting\163"]["\123\143rollin\147"]=$this->Scrolling; $_il2h->_il26[$_il8e]["\103lientSet\164\151\156gs"]["\103\154\151entMe\163\163\141ges"]=$this->ClientMessages; $_il2h->_il26[$_il8e]["Cl\151\145\156tSett\151\156\147s"]["\103lientEve\156\164\163"]=$this->ClientEvents; } } class _il74 { var $ShowRefreshButton=TRUE; var $ShowInsertButton=TRUE; var $RefreshButtonText; var $InsertButtonText; var $Position="bottom"; var $_il2n; var $PanelTemplate="\173\111\156\163ert} \173\122\145fres\150\175"; function _iO2c($_il2p) { $this->_il2n =$_il2p; if ($this->RefreshButtonText === NULL) $this->RefreshButtonText =$_il2p->_il2b->Localization->_il2i["Refre\163\150"]; if ($this->InsertButtonText === NULL) $this->InsertButtonText =$_il2p->_il2b->Localization->_il2i["\111nsert"]; } function _iO2f() { $_iO8e="\074\144iv class\075\047kgrFun\143\164ionPan\145\154'>\173c\157\156ten\164\175</div>"; $_il4b="\074\151\156put cl\141\163s='nod\145\143\157r' t\171\160e='bu\164\164on' o\156\143lick='\173\157nclick\175\047 title\075\047\173ti\164\154e}'/>"; $_iO59="\074a href\075\047javascr\151\160t:void\040\060' onc\154\151ck='\173\157\156cli\143\153}' ti\164\154\145='\173\164\151tle}'>\173\164ext}<\057\141>"; $_il5a="<span cl\141\163\163= '\173\143\154ass} \173\143\163scl\141\163\163es}\047\076\173bu\164\164\157n}\173\141\175</span\076\040"; $_il8f=_iO0("\173\143lass}","\153\147rRefre\163\150",$_il5a); $_il8f=_iO0("\173\142utton}",$_il4b,$_il8f); $_il8f=_iO0("\173a}",($this->RefreshButtonText != NULL) ? $_iO59: "",$_il8f); $_il8f=_iO0("\173\157nclick}","\164\141\142leview\137\162\145fres\150\050this)",$_il8f); $_il8f=_iO0("\173title\175","",$_il8f); $_il8f=_iO0("\173text}",$this->RefreshButtonText ,$_il8f); $_iO8f=_iO0("\173\143lass}","\153\147rInser\164",$_il5a); $_iO8f=_iO0("\173\142\165\164ton}",$_il4b,$_iO8f); $_iO8f=_iO0("\173a}",($this->InsertButtonText != NULL) ? $_iO59: "",$_iO8f); $_iO8f=_iO0("\173\157nclic\153\175","\147\162id_ins\145\162\164(thi\163\051",$_iO8f); $_iO8f=_iO0("\173ti\164\154e}","",$_iO8f); $_iO8f=_iO0("\173\164\145\170t}",$this->InsertButtonText ,$_iO8f); $_il8g=_iO0("\173\143\157ntent\175",$this->PanelTemplate ,$_iO8e); $_il8g=_iO0("\173Refresh}",($this->ShowRefreshButton) ? $_il8f: "",$_il8g); $_il8g=_iO0("\173I\156\163\145rt}",($this->ShowInsertButton) ? $_iO8f: "",$_il8g); return $_il8g; } } class _iO8g implements _il29 { var $_il2e; var $_iO2m; var $MasterTable; var $_iO2e; var $AjaxEnabled=FALSE; var $AjaxHandlePage; var $_il2w; var $Status; var $AllowHovering=FALSE; var $AllowSelecting=FALSE; var $AllowMultiSelecting=FALSE; var $AllowEditing=FALSE; var $AllowDeleting=FALSE; var $AllowScrolling=FALSE; var $AllowSorting=FALSE; var $AllowResizing=FALSE; var $AllowFiltering=FALSE; var $AllowGrouping=FALSE; var $VirtualScrolling=FALSE; var $SingleColumnSorting=FALSE; var $ShowHeader=TRUE; var $ShowFooter=FALSE; var $RowAlternative=FALSE; var $AutoGenerateRowSelectColumn=FALSE; var $AutoGenerateExpandColumn=FALSE; var $AutoGenerateColumns=FALSE; var $AutoGenerateEditColumn=FALSE; var $AutoGenerateDeleteColumn=FALSE; var $DisableAutoGenerateDataFields=""; var $KeepSelectedRecords=FALSE; var $ShowStatus=FALSE; var $ColumnWrap=FALSE; var $ColumnAlign; var $_iO3a; var $KeepRowStateOnRefresh=FALSE; var $TableLayout="\141uto"; var $Width; var $Height; var $FilterOptions; var $PageSize=012; var $DataSource; var $ClientSettings; var $Localization; var $CharSet="\125\124\106-8"; var $KeepViewStateInSession=FALSE; var $KeepGridRefresh=FALSE; var $EventHandler; var $ExportSettings; function __construct($_iO4i) { $this->_il2e =$_iO4i; $this->_iO2m =new _iO2a(); $this->Localization =new _iO2h(); $this->MasterTable =new gridtableview("Mas\164\145rTable"); $this->_il2w =new _il2l($this); $this->Status =new _il8c(); $this->ClientSettings =new _iO8d(); $this->FilterOptions =array("No_F\151\154ter","\105\161ual","Not\137\105\161ual","\107reat\145\162_Than","L\145\163\163_Tha\156","\107reate\162\137Than_Or\137\105qual","Less_T\150\141\156_Or_\105\161ual","Con\164\141in","\116\157t_Cont\141\151n","S\164\141rt_With","\105\156d_With"); $this->ExportSettings =new _il8d(); } function _iO2c() { if ($this->EventHandler === NULL) $this->EventHandler =new grideventhandler(); $this->_iO2m->_iO2c($this); $this->_iO2e->_il2e =$this->_il2e."\137mt"; $this->_iO2e->_iO2c($this,NULL); $this->ClientSettings->_iO2c($this); $this->Status->_iO2c($this); if ($this->DataSource !== NULL) { $this->DataSource->setcharset($this->CharSet); } } function _iO29() { if ( isset ($this->_iO2m->_il26[$this->_il2e ])) { $_iO2p=$this->_iO2m->_il26[$this->_il2e ]; } } function _il2a() { $this->_iO2m->_il26 =array(); $this->_iO2m->_il26[$this->_il2e ]=array(); $this->_iO2e->_il2a(); $this->ClientSettings->_il2a(); } function process() { $this->_iO2e =$this->MasterTable->_il2t(); $this->_iO2c(); $this->_iO29(); $this->_iO2e->_iO2s(); if ( isset ($this->_il2w->_il2i[$this->_il2e ])) { $_iO2v=$this->_il2w->_il2i[$this->_il2e ]; switch ($_iO2v["\103\157mmand"]) { case "\122efresh": $this->refresh(); break; } } if ($this->KeepGridRefresh) { $this->_il8h =TRUE; } $this->EventHandler->ongridprerender($this,array()); $this->_iO2e->_il2v($this->_il2w); } function refresh() { if ($this->_iO2e !== NULL) { $this->_iO2e->refresh(); } } function getinstancemastertable() { return $this->_iO2e; } function _iO8h() { $this->_il2a(); $_iO5j="\173master\164\141ble}\173\166\151ewst\141\164e}\173\143\157mman\144\175"; $_ilg=_iO0("\173\155\141\163ter\164\141\142le}",$this->_iO2e->_iO2f(),$_iO5j); $_ilg=_iO0("\173\166iewstat\145\175",$this->_iO2m->_iO2f(),$_ilg); $_ilg=_iO0("\173comman\144\175",$this->_il2w->_iO2f(),$_ilg); return $_ilg; } function registerclientevent($_il4w,$_il8i) { $this->ClientSettings->ClientEvents[$_il4w]=$_il8i; } } class grideventhandler { function onbeforedetailtablesexpand($_iO8i,$_iO5l) { return TRUE; } function ondetailtablesexpand($_iO8i,$_iO5l) { } function onbeforedetailtablescollapse($_iO8i,$_iO5l) { return TRUE; } function ondetailtablescollapse($_iO8i,$_iO5l) { } function onbeforerowstartedit($_iO8i,$_iO5l) { return TRUE; } function onrowstartedit($_iO8i,$_iO5l) { } function onbeforerowcanceledit($_iO8i,$_iO5l) { return TRUE; } function onrowcanceledit($_iO8i,$_iO5l) { } function onbeforerowdelete($_iO8i,$_iO5l) { return TRUE; } function onrowdelete($_iO8i,$_iO5l) { } function onbeforecolumnsort($_iO8i,$_iO5l) { return TRUE; } function oncolumnsort($_iO8i,$_iO5l) { } function onbeforecolumnfilter($_iO8i,$_iO5l) { return TRUE; } function oncolumnfilter($_iO8i,$_iO5l) { } function onbeforecolumngroup($_iO8i,$_iO5l) { return TRUE; } function oncolumngroup($_iO8i,$_iO5l) { } function onbeforecolumnremovegroup($_iO8i,$_iO5l) { return TRUE; } function oncolumnremovegroup($_iO8i,$_iO5l) { } function onbeforeaddgroup($_iO8i,$_iO5l) { return TRUE; } function onaddgroup($_iO8i,$_iO5l) { } function onbeforechangegrouporder($_iO8i,$_iO5l) { return TRUE; } function onchangegrouporder($_iO8i,$_iO5l) { } function onbeforeremovegroup($_iO8i,$_iO5l) { return TRUE; } function onremovegroup($_iO8i,$_iO5l) { } function onbeforepageindexchange($_iO8i,$_iO5l) { return TRUE; } function onpageindexchange($_iO8i,$_iO5l) { } function onbeforepagesizechange($_iO8i,$_iO5l) { return TRUE; } function onpagesizechange($_iO8i,$_iO5l) { } function _il51($_iO8i,$_iO5l) { return TRUE; } function _iO51($_iO8i,$_iO5l) { } function onbeforerowconfirmedit($_iO8i,$_iO5l) { return TRUE; } function onrowconfirmedit($_iO8i,$_iO5l) { } function onbeforeconfirminsert($_iO8i,$_iO5l) { return TRUE; } function onconfirminsert($_iO8i,$_iO5l) { } function onbeforestartinsert($_iO8i,$_iO5l) { return TRUE; } function onstartinsert($_iO8i,$_iO5l) { } function onbeforecancelinsert($_iO8i,$_iO5l) { return TRUE; } function oncancelinsert($_iO8i,$_iO5l) { } function ondatasourceerror($_iO8i,$_iO5l) { } function onrowprerender($_iO8i,$_iO5l) { } function ontableviewprerender($_iO8i,$_iO5l) { } function ongridprerender($_iO8i,$_iO5l) { } } class koolgrid extends _iO8g { var $_il0="\065.7.\060\0560"; var $styleFolder; var $_iO89; var $scriptFolder; var $id; var $AjaxLoadingImage; function __construct($_iO4i) { $this->id =$_iO4i; parent:: __construct($_iO4i); } function render() { $_il8j=""; $_il8j.=$this->registercss(); $_iO8j= isset ($_POST["\137_ko\157\154\141jax"]) || isset ($_GET["__kool\141\152\141x"]); $_il8j.=($_iO8j) ? "": $this->registerscript(); $_il8j.=$this->rendergrid(); $_il8j.="<\163\143ript typ\145\075'text/\152\141vasc\162\151\160t'>"; $_il8j.=$this->startupscript(); $_il8j.="</scr\151\160\164>"; if ($this->AjaxEnabled && class_exists("Upda\164\145\120anel")) { $_il8k=new updatepanel($this->id."\137\165pdatepa\156\145\154"); $_il8k->content =$_il8j; $_il8k->cssclass =$this->_iO89."\113\107R_Update\120\141nel"; if ($this->AjaxLoadingImage) { $_il8k->setloading($this->AjaxLoadingImage); } $_il8j=$_il8k->render(); } return $_il8j; } function rendergrid() { $this->_iO8k(); $_il8l="\n\074!--\113\157olGrid\040\166ersio\156\040\173ver\163\151on} \055\040www.\153\157olphp\056\156et -->\n"; $_iO8l=_iO0("\173ver\163\151\157n}",$this->_il0 ,$_il8l); $_ilg=_iO0("\173i\144\175",$this->id ,_iOd()); if (_iOf($_ilg)) { $_ilg=_iO0("\173style}",$this->_iO89 ,$_ilg); } $_ilg=_iO0("\173\164\162\141dem\141\162\153}",$_iO8l,$_ilg); $_ilg=_iO0("\173\167idth}",($this->Width !== NULL) ? "\167\151dth:".$this->Width : "",$_ilg); $_ilg=_iO0("\173co\156\164\145nt}",parent::_iO8h(),$_ilg); $_ilg=_iO0("\173\166\145rsion\175",$this->_il0 ,$_ilg); return $_ilg; } function _iO8k() { $this->styleFolder =_iO0("\134","/",$this->styleFolder); $_il8m=trim($this->styleFolder ,"/"); $_iO8m=strrpos($_il8m,"/"); $this->_iO89 =substr($_il8m,($_iO8m ? $_iO8m: -1)+1); } function registercss() { $this->_iO8k(); $_il8n="<scri\160\164\040typ\145\075'text/\152\141vascri\160\164'>if \050\144ocu\155\145\156t.ge\164\105lement\102\171\111d('_\137\173style\175\113GR')==\156\165\154l)\173\166\141r _he\141\144\040= do\143\165ment.g\145\164\105leme\156\164sByTag\116\141me('he\141\144')[0]\073\166ar _l\151\156k = do\143\165ment.\143\162\145ateE\154\145ment(\047\154\151nk'\051\073 _lin\153\056id = \047\137\137\173s\164\171le}KG\122\047\073_li\156\153\056rel\075\047style\163\150eet';\040\137link.\150\162ef='\173\163\164ylep\141\164h}/\173\163\164yle\175\057\173st\171\154e}.cs\163\047;_hea\144\056appe\156\144Child\050\137link)\073\166ar _\154\151nk = \144\157cumen\164\056crea\164\145Eleme\156\164('lin\153\047); _\154\151nk.id\040\075 '_\137\113\107R';\137\154ink.\162\145\154='s\164\171lesh\145\145\164'; \137\154ink.\150\162\145f='\173\163tyle\160\141th}/k\157\157lgri\144\056css'\073\137head\056\141ppen\144\103hild\050\137link\051\073}</s\143\162ipt>"; $_il8j=_iO0("\173\163\164yle}",$this->_iO89 ,$_il8n); $_il8j=_iO0("\173style\160\141\164h}",$this->_iO8n(),$_il8j); return $_il8j; } function registerscript() { $_il8n="\074script t\171\160e='text\057\152avasc\162\151\160t'>i\146\050type\157\146 _li\142\113\107R=='\165\156\144efin\145\144\047)\173\144\157cument\056\167rite(u\156\145scape(\042\0453Cscr\151\160\164 typ\145\075'text\057\152\141vasc\162\151pt' sr\143\075'\173s\162\143}'%3E\040\0453C/sc\162\151\160t%3E\042\051);_li\142\113GR=1;\175\074/scri\160\164\076"; $_il8j=_iO0("\173\163rc}",$this->_il8o()."?".md5("\152\163"),$_il8n); return $_il8j; } function startupscript() { $_il8n="\166ar \173\151\144\175; fu\156\143tion \173\151\144}_in\151\164()\173 \173\151d}=ne\167\040KoolG\162\151\144('\173\151\144}',\173\101\152\141xEna\142\154ed},'\173\101\152axHan\144\154ePage}\047\051;}"; $_il8n.="\151f (typ\145\157\146(Koo\154\107\162id)\075\075'funct\151\157n')\173\173\151d}_\151\156\151t();\175"; $_il8n.="\145lse\173\151\146(typeof\050\137_KGRIn\151\164\163)==\047\165ndef\151\156ed')\173\137\137KGRIn\151\164\163=new\040\101rray()\073\175 __KG\122\111\156its.\160\165\163h(\173\151\144}_init\051\073\173reg\151\163ter_sc\162\151pt}}"; $_iO8o="if(t\171\160\145of(_l\151\142\113GR)=\075\047undef\151\156ed')\173\166\141r _\150\145\141d = \144\157\143umen\164\056getEle\155\145ntsByT\141\147Name('\150\145\141d')[\060\135;var _\163\143ript =\040\144ocumen\164\056creat\145\105\154emen\164\050'scrip\164\047); _\163\143ript.\164\171\160e='t\145\170\164/jav\141\163cript\047\073 _scr\151\160\164.src\075\047\173sr\143\175\047; _\150\145\141d.a\160\160\145ndC\150\151\154d(_s\143\162ipt);\137\154\151bKG\122\0751;}"; $_il8p=_iO0("\173\163\162c}",$this->_il8o()."\077".md5("js"),$_iO8o); $_il8j=_iO0("\173i\144\175",$this->id ,$_il8n); $_il8j=_iO0("\173Ajax\105\156\141bled\175",$this->AjaxEnabled ? "\061": "0",$_il8j); $_il8j=_iO0("\173\101jaxHan\144\154ePage}",$this->AjaxHandlePage ,$_il8j); $_il8j=_iO0("\173regis\164\145\162_scri\160\164}",$_il8p,$_il8j); return $_il8j; } function _il8o() { if ($this->scriptFolder == "") { $_il5=_iO3(); $_il4v=substr(_iO0("\134","/",__FILE__),strlen($_il5)); return $_il4v; } else { $_il4v=_iO0("\134","/",__FILE__); $_il4v=$this->scriptFolder.substr($_il4v,strrpos($_il4v,"/")); return $_il4v; } } function _iO8n() { $_iO8p=$this->_il8o(); $_il8q=_iO0(strrchr($_iO8p,"/"),"",$_iO8p)."/sty\154\145\163"; return $_il8q; } } } ?> 
