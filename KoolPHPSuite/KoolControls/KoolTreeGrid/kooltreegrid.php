<?php $_tgl0="\061.0.0.0"; if (!class_exists("K\157\157\154Scri\160\164ing",FALSE)) { class koolscripting { static function start() { ob_start(); return ""; } static function end() { $_tgO0=ob_get_clean(); $_tgl1=""; $_tgO1=new domdocument(); $_tgO1->loadxml($_tgO0); $_tgl2=$_tgO1->documentElement; $id=$_tgl2->getattribute("\151d"); $_tgO2=$_tgl2->nodeName; $id=($id == "") ? "\144ump": $id; if (class_exists($_tgO2,FALSE)) { eval ("\044".$id." = \156\145\167 ".$_tgO2."\050\047".$id."');"); $$id->loadxml($_tgl2); $_tgl1=$$id->render(); } else { $_tgl1.=$_tgO0; } return $_tgl1; } } } class _tgl3 { public static function _tgO3($_tgl4) { return md5($_tgl4); } public static function _tgO4() { $_tgl5=_tgl3::_tgO5("\134","\057",strtolower($_SERVER["\123CRIPT_\116\101ME"])); $_tgl5=_tgl3::_tgO5(strrchr($_tgl5,"\057"),"",$_tgl5); $_tgl6=_tgl3::_tgO5("\134","\057",realpath(".")); $_tgO6=_tgl3::_tgO5($_tgl5,"",strtolower($_tgl6)); return $_tgO6; } public static function _tgO5($_tgl7,$_tgO7,$_tgl8) { return str_replace($_tgl7,$_tgO7,$_tgl8); } public static function _tgO8($_tgl9) { return _tgl3::_tgO5("+","\040",urlencode($_tgl9)); } public static function _tgO9($_tgla,$_tgOa) { foreach ($_tgOa as $_tglb => $_tgOb) if (is_array($_tgOb)) { if (! isset ($_tgla[$_tglb])) $_tgla[$_tglb]=array(); $_tgla[$_tglb]=_tgl3::_tgO9($_tgla[$_tglb],$_tgOb); } else $_tgla[$_tglb]=$_tgOb; return $_tgla; } public static function _tglc($_tgOc,$_tgld,$_tgOd) { foreach ($_tgld as $_tglb => $_tgle) if ( isset ($_tgOd[$_tglb])) { if (is_string($_tgle)) $_tgOc->{ $_tgle}=$_tgOd[$_tglb]; else if (is_array($_tgle)) _tgl3::_tglc($_tgOc->{ $_tglb} ,$_tgle,$_tgOd[$_tglb]); } } public static function _tgOe($_tgOc,$_tglf,$_tgOd) { foreach ($_tglf as $_tglb => $_tgOf) if ( isset ($_tgOd[$_tglb])) { if (is_string($_tgOf)) $_tgOc->{ $_tgOf}($_tgOd[$_tglb]); else if (is_array($_tgOf)) _tgl3::_tgOe($_tgOc->{ $_tglb} ,$_tgOf,$_tgOd[$_tglb]); } } public static function _tglg() { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0153); _tgl3::_tgOh($_tgOg,0113); _tgl3::_tgOh($_tgOg,0121); _tgl3::_tgOh($_tgOg,-014); _tgl3::_tgOh($_tgOg,050); _tgl3::_tgOh($_tgOg,062); _tgl3::_tgOh($_tgOg,032); _tgl3::_tgOh($_tgOg,021); _tgl3::_tgOh($_tgOg,(_tgl3::_tgOi() || _tgl3::_tglj() || _tgl3::_tgOj()) ? -063: -024); _tgl3::_tgOh($_tgOg,-075); _tgl3::_tgOh($_tgOg,-074); _tgl3::_tgOh($_tgOg,-0124); _tgl3::_tgOh($_tgOg,-0124); $_tglk=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tglk.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } echo $_tglk; return $_tglk; } public static function _tgOm() { $_tgOg=_tgl3::_tglh(); $_tgln=""; _tgl3::_tgOh($_tgOg,0151); _tgl3::_tgOh($_tgOg,0123); _tgl3::_tgOh($_tgOg,0114); _tgl3::_tgOh($_tgOg,071); _tgl3::_tgOh($_tgOg,-017); _tgl3::_tgOh($_tgOg,-031); for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tgln.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } return _tgl3::_tgOn($_tgln); } public static function _tgOi() { $_tglo=""; $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,056); _tgl3::_tgOh($_tgOg,036); _tgl3::_tgOh($_tgOg,0104); _tgl3::_tgOh($_tgOg,8); _tgl3::_tgOh($_tgOg,055); for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tglo.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } return (substr(_tgl3::_tgO3(_tgl3::_tgOo()),0,5) != $_tglo); } public static function _tglj() { $_tglo=""; $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,045); _tgl3::_tgOh($_tgOg,041); _tgl3::_tgOh($_tgOg,0102); _tgl3::_tgOh($_tgOg,070); _tgl3::_tgOh($_tgOg,056); for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tglo.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } return (substr(_tgl3::_tgO3(_tgl3::_tglp()),0,5) != $_tglo); } public static function _tgOj() { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0124); _tgl3::_tgOh($_tgOg,0136); _tgl3::_tgOh($_tgOg,0106); _tgl3::_tgOh($_tgOg,075); _tgl3::_tgOh($_tgOg,-6); _tgl3::_tgOh($_tgOg,-021); $_tgOp=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tgOp.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } $_tglq=_tgl3::_tgOq($_tgOp); return (( isset ($_tglq[$_tgOp]) ? $_tglq[$_tgOp]: 0) != 01053/045); } public static function _tglr( &$_tgls) { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0124); _tgl3::_tgOh($_tgOg,0136); _tgl3::_tgOh($_tgOg,0106); _tgl3::_tgOh($_tgOg,075); _tgl3::_tgOh($_tgOg,-6); _tgl3::_tgOh($_tgOg,-021); $_tgOs=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tgOs.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } $_tglq=_tgl3::_tgOq($_tgOs); $_tglt=$_tglq[$_tgOs]; $_tgls=_tgl3::_tgO5(_tgl3::_tglm(0173).(_tgl3::_tgOm()%3)._tgl3::_tglm(0175),(!(_tgl3::_tgOm()%_tgl3::_tgOt())) ? _tgl3::_tgOo(): _tgl3::_tglu(),$_tgls); for ($_tgOk=0; $_tgOk<3; $_tgOk ++) if ((_tgl3::_tgOm()%3) != $_tgOk) $_tgls=_tgl3::_tgO5(_tgl3::_tglm(0173).$_tgOk._tgl3::_tglm(0175),_tgl3::_tglu(),$_tgls); $_tgls=_tgl3::_tgO5(_tgl3::_tglm(0173).(_tgl3::_tgOm()%3)._tgl3::_tglm(0175),(!(_tgl3::_tgOm()%$_tglt)) ? _tgl3::_tgOo(): _tgl3::_tglu(),$_tgls); return ($_tglt == _tgl3::_tgOt()); } public static function _tgOo() { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0124); _tgl3::_tgOh($_tgOg,0136); _tgl3::_tgOh($_tgOg,0106); _tgl3::_tgOh($_tgOg,075); _tgl3::_tgOh($_tgOg,-7); _tgl3::_tgOh($_tgOg,-021); $_tgOu=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tgOu.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } $_tglq=_tgl3::_tgOq($_tgOu); return isset ($_tglq[$_tgOu]) ? $_tglq[$_tgOu]: ""; } public static function _tglp() { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0124); _tgl3::_tgOh($_tgOg,0136); _tgl3::_tgOh($_tgOg,0106); _tgl3::_tgOh($_tgOg,075); _tgl3::_tgOh($_tgOg,-6); _tgl3::_tgOh($_tgOg,-022); $_tglv=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tglv.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } $_tglq=_tgl3::_tgOq($_tglv); return isset ($_tglq[$_tglv]) ? $_tglq[$_tglv]: ""; } public static function _tgOt() { $_tgOg=_tgl3::_tglh(); _tgl3::_tgOh($_tgOg,0124); _tgl3::_tgOh($_tgOg,0136); _tgl3::_tgOh($_tgOg,0106); _tgl3::_tgOh($_tgOg,075); _tgl3::_tgOh($_tgOg,-6); _tgl3::_tgOh($_tgOg,-021); $_tgOs=""; for ($_tgOk=0; $_tgOk<_tgl3::_tgll($_tgOg); $_tgOk ++) { $_tgOs.=_tgl3::_tglm($_tgOg[$_tgOk]+013*($_tgOk+1)); } $_tglq=_tgl3::_tgOq($_tgOs); return isset ($_tglq[$_tgOs]) ? $_tglq[$_tgOs]: (0207/011); } public static function _tglh() { return array(); } public static function _tgOq($_tgOv) { $_tglw=_tgl3::_tglm(044); $_tgOw=_tgl3::_tglm(072); return array($_tgOv => _tgl3::_tgOn($_tgOv.$_tgOw.$_tgOw.$_tglw.$_tgOv)); } public static function _tgOn($_tglx) { return eval ("\162etu\162\156\040".$_tglx.";"); } public static function _tgll($_tgOx) { return sizeof($_tgOx); } public static function _tglu() { return ""; } public static function _tgly() { header("Content\055\164ype: t\145\170t/jav\141\163\143ript"); } public static function _tgOh( &$_tgOx,$_tgOy) { array_push($_tgOx,$_tgOy); } public static function _tglz() { return exit (); } public static function _tglm($_tgOz) { return chr($_tgOz); } } class _tgi11 { static $_tgi11=017; } class _tgi10 { static $_tgi10="\173\060}<div\040\151d='\173i\144\175' cla\163\163\075'\173\163\164yle}\113\124V' s\164\171\154e='\173\167\151dth}\173\150\145igh\164\175\173over\146\154ow}'><\165\154 class\075\047ktvUL\040\173nopadd\151\156g} \173\154\151nes}'>\173\163ubnode\163\175</ul>\173\143lient\163\164ate}\173\061\175</di\166\076\1732}"; } class _tgi01 { static $_tgi01="\074div st\171\154\145='fo\156\164\055fam\151\154\171:Ari\141\154;fon\164\055size:\061\060pt;ba\143\153\147roun\144\055color:\043\106EFFDF\073\143olor:\142\154\141ck;d\151\163\160lay:\142\154ock;vi\163\151\142ilit\171\072visib\154\145\073'><s\160\141n styl\145\075'fon\164\055famil\171\072Arial\073\146ont-si\172\145:10pt\073\146ont-we\151\147ht:bo\154\144\073col\157\162\072bla\143\153\073dis\160\154\141y:i\156\154\151ne;v\151\163ibili\164\171:visi\142\154\145;'>\113\157\157lTr\145\145\107rid\074\057span>\040\055 \124\162ial v\145\162sion \173\166ersio\156\175 - Co\160\171right\040\050C) K\157\157lPHP \056\111nc -\040\074a st\171\154e='fo\156\164-fami\154\171:Ari\141\154\073fon\164\055size\072\0610pt;\144\151splay\072\151nlin\145\073visi\142\151lity\072\166isibl\145\073' hr\145\146='ht\164\160://ww\167\056kool\160\150p.ne\164\047>www\056\153oolp\150\160.net\074\057a>. \074\163pan \163\164yle=\047\146ont-\146\141mily\072\101rial\073\143olor\072\142lack\073\146ont-\163\151ze:\061\060pt;d\151\163play\072\151nli\156e;\166\151sibi\154\151ty:\166\151sibl\145\073'>To\040\162emo\166\145</sp\141\156> th\151\163 me\163\163ag\145\054 pl\145ase \074\141 s\164\171le=\047\146on\164\055fam\151\154y:A\162\151al\073\146ont\055\163iz\145\07210p\164\073di\163\160lay\072\151nl\151\156e;v\151\163ibi\154\151ty\072\166is\151\142le;\047\040hr\145\146='h\164\164p:\057\057ww\167\056koo\154\160hp\056\156et/\077\155od\075\160ur\143\150ase\047\076pu\162\143ha\163\145 a \154\151ce\156\163e<\057\141>.<\057\144iv\076"; } if ( isset ($_GET[_tgl3::_tgO3("js")])) { _tgl3::_tgly(); ?> function _tgO(_tgo){return (_tgo!=null);}function _tgY(_tgy,_tgI){var _tgi=document.createElement(_tgy); _tgI.appendChild(_tgi); return _tgi; }function _tgA(_tga){return document.getElementById(_tga); }function _tgE(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.parentNode; return _tgo; }function _tgU(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.firstChild; return _tgo; }function _tgu(_tgo,_tge){if (!_tgO(_tge))_tge=1; for (var i=0; i<_tge; i++)_tgo=_tgo.nextSibling; return _tgo; }function _tgZ(){return (typeof(_tgiO1) === "undefined"); }function _tgz(_tgX,_tgx,_tgW,_tgw){if (_tgX.addEventListener){_tgX.addEventListener(_tgx,_tgW,_tgw); return true; }else if (_tgX.attachEvent){if (_tgw){return false; }else {var _tgV= function (){_tgW.apply(_tgX,[window.event]); };if (!_tgX["ref"+_tgx])_tgX["ref"+_tgx]=[]; else {for (var _tgv in _tgX["ref"+_tgx]){if (_tgX["ref"+_tgx][_tgv]._tgW === _tgW)return false; }}var _tgT=_tgX.attachEvent("on"+_tgx,_tgV); if (_tgT)_tgX["ref"+_tgx].push( {_tgW:_tgW,_tgV:_tgV } ); return _tgT; }}else {return false; }} ; function _tgt(_tgX,_tgx,_tgW,_tgw){if (_tgX.removeEventListener){_tgX.removeEventListener(_tgx,_tgW,_tgw); return true; }else if (_tgX.detachEvent){if (_tgX["ref"+_tgx]){for (var _tgv in _tgX["ref"+_tgx]){if (_tgX["ref"+_tgx][_tgv]._tgW === _tgW){_tgX.detachEvent("on"+_tgx,_tgX["ref"+_tgx][_tgv]._tgV); _tgX["ref"+_tgx][_tgv]._tgW=null; _tgX["ref"+_tgx][_tgv]._tgV=null; delete _tgX["ref"+_tgx][_tgv]; return true; }}}return false; }else {return false; }}function _tgS(_tgs){return _tgs.className; }function _tgR(_tgs,_tgr){_tgs.className=_tgr; }function _tgQ(_tgo,_tgq){if (_tgo.className.indexOf(_tgq)<0){var _tgP=_tgo.className.split(" "); _tgP.push(_tgq); _tgo.className=_tgP.join(" "); }}function _tgp(_tgo,_tgq){if (_tgo.className.indexOf(_tgq)>-1){_tgN(_tgq,"",_tgo);var _tgP=_tgo.className.split(" "); _tgo.className=_tgP.join(" "); }}function _tgN(_tgn,_tgM,_tgm){_tgR(_tgm,_tgS(_tgm).replace(_tgn,_tgM)); }function _tgL(_tgm,_tgq){for (var i=0; i<_tgm.childNodes.length; i++)if (_tgm.childNodes[i].className.indexOf(_tgq)>-1)return _tgm.childNodes[i]; }function _tgl(_tgo,_tgK){_tgo.style.display=(_tgK)?"block": "none"; }function _tgk(_tgo){return (_tgo.style.display!="none"); }function _tgJ(_tgm){var _tgj=""; for (var _tgH in _tgm){switch (typeof(_tgm[_tgH])){case "string":if (_tgO(_tgm.length))_tgj+="'"+_tgm[_tgH]+"',"; else _tgj+="'"+_tgH+"':'"+_tgm[_tgH]+"',"; break; case "number":if (_tgO(_tgm.length))_tgj+=_tgm[_tgH]+","; else _tgj+="'"+_tgH+"':"+_tgm[_tgH]+","; break; case "object":if (_tgO(_tgm.length))_tgj+=_tgJ(_tgm[_tgH])+","; else _tgj+="'"+_tgH+"':"+_tgJ(_tgm[_tgH])+","; break; }}if (_tgj.length>0)_tgj=_tgj.substring(0,_tgj.length-1); _tgj=(_tgO(_tgm.length))?"["+_tgj+"]": "{"+_tgj+"}"; if (_tgj=="{}")_tgj="null"; return _tgj; }var _tgh= false; function _tgG(_tgg){_tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==17){_tgh= true; }}function _tgf(_tgg){_tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==17){_tgh= false; }}_tgz(document,"keyup",_tgf, false); _tgz(document,"keydown",_tgG, false); function _tgD(_tgd){if (_tgd.pageX || _tgd.pageY){return {_tgC:_tgd.pageX,_tgc:_tgd.pageY } ; }return {_tgC:_tgd.clientX+document.body.scrollLeft-document.body.clientLeft,_tgc:_tgd.clientY+document.body.scrollTop-document.body.clientTop } ; }var _tgB= {_tgb:function (){var _tgo0=document.cookie.split("; "); for (var i=0; i<_tgo0.length; i++){var _tgO0=_tgo0[i].split("="); this[_tgO0[0]]=_tgO0[1]; }} ,_tgl0:function (_tgH,_tgi0,_tgI0){if (_tgI0){var _tgo1=new Date(); _tgo1.setTime(_tgo1.getTime()+(_tgI0*60*60*1000)); var _tgO1="; expires="+_tgo1.toGMTString(); }else var _tgO1=""; document.cookie=_tgH+"="+_tgi0+_tgO1+"; path=/"; this[_tgH]=_tgi0; } ,_tgl1:function (_tgH){ this._tgl0(_tgH,"",-1); this[_tgH]=undefined; }} ; _tgB._tgb(); function _tgi1(_tgI1){ this.NodeId=_tgI1; this._tga=_tgI1; }_tgi1.prototype= {getText:function (){return this._tgo2("Text").innerHTML; } ,setText:function (_tgO2){ this._tgo2("Text").innerHTML=_tgO2; return this ; } ,getImageSrc:function (){var _tgl2=this._tgo2("Image"); return (_tgO(_tgl2)?_tgl2.src: ""); } ,setImageSrc:function (_tgi2){var _tgl2=this._tgo2("Image"); if (_tgO(_tgl2))_tgl2.src=_tgi2; return this ; } ,disableSelect:function (_tgI2){ (_tgI2)?this._tgo3("select"): this._tgO3("select"); return this ; } ,disableDrag:function (_tgI2){ (_tgI2)?this._tgo3("drag"): this._tgO3("drag"); return this ; } ,disableDrop:function (_tgI2){ (_tgI2)?this._tgo3("drop"): this._tgO3("drop"); return this ; } ,disableEdit:function (_tgI2){ (_tgI2)?this._tgo3("edit"): this._tgO3("edit"); return this ; } ,_tgo3:function (_tgl3){var _tgi3=this.getTree(); var _tgI3=_tgi3._tgo4(); var _tgO4=_tgI3[_tgl3+"DisableIds"]; if (_tgO4.join(" ").indexOf(this._tga)<0)_tgO4.push(this._tga); _tgi3._tgl4(_tgI3); } ,_tgO3:function (_tgl3){var _tgi3=this.getTree(); var _tgI3=_tgi3._tgo4(); var _tgO4=_tgI3[_tgl3+"DisableIds"]; for (var i in _tgO4)if (typeof _tgO4[i]!="function")if (_tgO4[i]==this._tga){_tgO4.splice(i,1); break; }_tgi3._tgl4(_tgI3); } ,getData:function (_tgF){if (_tgZ())return this ; var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")if (_tgi4.childNodes[i].type=="hidden")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); var _tgi0=_tgo5["data"][_tgF]; return (_tgO(_tgi0)?decodeURIComponent(_tgi0): ""); }else {return ""; }} ,addData:function (_tgF,_tgi0){var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; var _tgo5= { "url": "","data":{}} ; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")if (_tgi4.childNodes[i].type=="hidden")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); }else {_tgI4=_tgY("input",_tgi4); _tgI4.type="hidden"; }_tgo5["data"][_tgF]=_tgi0; _tgI4.value=_tgJ(_tgo5); } ,select:function (){var _tgi4=_tgU(_tgA(this._tga)); if (_tgS(_tgi4).indexOf("Selected")<0){if (!this.getTree()._tgO5("OnBeforeSelect", { "NodeId": this._tga } ))return; _tgQ(_tgi4,"ktvSelected"); var _tgi3=this.getTree(); var _tgl5=_tgi3._tgo4(); if (!_tgO(_tgl5.selectedIds))_tgl5.selectedIds=new Array(); _tgl5.selectedIds.push(this._tga); _tgi3._tgl4(_tgl5); this.getTree()._tgO5("OnSelect", { "NodeId": this._tga } ); }return this ; } ,unselect:function (){var _tgi4=_tgU(_tgA(this._tga)); if (_tgZ())return this ; if (_tgS(_tgi4).indexOf("Selected")>0){if (!this.getTree()._tgO5("OnBeforeUnselect", { "NodeId": this._tga } ))return; _tgp(_tgi4,"ktvSelected"); var _tgi3=this.getTree(); var _tgl5=_tgi3._tgo4(); for (var i=0; i<_tgl5.selectedIds.length; i++)if (_tgl5.selectedIds[i]==this._tga){_tgl5.selectedIds.splice(i,1); break; }_tgi3._tgl4(_tgl5); this.getTree()._tgO5("OnUnselect", { "NodeId": this._tga } ); }return this ; } ,expand:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){if (!this.getTree()._tgO5("OnBeforeExpand", { "NodeId": this._tga } ))return; var _tgo6=this._tgo2("Plus"); if (_tgO(_tgo6))_tgN("Plus","Minus",_tgo6); _tgl(_tgI5,1); if (this.getTree()._tgO6){var _tgl6=new Array(); var _tgi6=this._tga; while (_tgi6.indexOf(".root")<0){_tgl6.push(_tgi6); _tgi6=(new _tgi1(_tgi6)).getParentId(); }_tgl6.push(_tgi6); this.getTree()._tgI6(_tgl6); } this.getTree()._tgo7(this._tga,1); this.getTree()._tgO5("OnExpand", { "NodeId": this._tga } ); }else {var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.url) && _tgo5.url!=""){_tgo5.url=decodeURIComponent(_tgo5.url); if (!this.getTree()._tgO5("OnBeforeExpand", { "NodeId": this._tga } ))return; this.loadSubTree(_tgo5.url); _tgo5.loading=1; _tgI4.value=_tgJ(_tgo5); }}}return this ; } ,_tgO7:function (){var tree=this.getTree(); var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){var _tgo6=this._tgo2("Plus"); if (_tgO(_tgo6))_tgN("Plus","Minus",_tgo6); _tgl(_tgI5,1); tree._tgo7(this._tga,1); }else {var _tgi4=_tgU(_tgA(this._tga)); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.url) && _tgo5.url!=""){_tgo5.url=decodeURIComponent(_tgo5.url); this.loadSubTree(_tgo5.url); _tgo5.loading=1; _tgI4.value=_tgJ(_tgo5); }}}var _tgl7=this.getChildIds(); for (var i=0; i<_tgl7.length; i+=1)tree.getNode(_tgl7[i])._tgO7(); return this ; } ,collapse:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgZ())return this ; if (_tgO(_tgI5)){if (!this.getTree()._tgO5("OnBeforeCollapse", { "NodeId": this._tga } ))return; var _tgi7=this._tgo2("Minus"); if (_tgO(_tgi7))_tgN("Minus","Plus",_tgi7); _tgl(_tgI5,0); this.getTree()._tgo7(this._tga,0); this.getTree()._tgO5("OnCollapse", { "NodeId": this._tga } ); }return this ; } ,_tgI7:function (){var tree=this.getTree(); var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgZ())return this ; if (_tgO(_tgI5)){var _tgi7=this._tgo2("Minus"); if (_tgO(_tgi7))_tgN("Minus","Plus",_tgi7); _tgl(_tgI5,0); tree._tgo7(this._tga,0); }var _tgl7=this.getChildIds(); for (var i=0; i<_tgl7.length; i+=1)tree.getNode(_tgl7[i])._tgI7(); return this ; } ,getChildIds:function (){var _tgI5=_tgu(_tgU(_tgA(this._tga))); var _tgo8=new Array(); if (_tgO(_tgI5)){for (var i=0; i<_tgI5.childNodes.length; i++)if (_tgI5.childNodes[i].nodeName=="LI")_tgo8.push(_tgI5.childNodes[i].id); }return _tgo8; } ,getParentId:function (){return _tgE(_tgA(this._tga),2).id; } ,getTree:function (){var _tgi6=this._tga; while (_tgi6.indexOf(".root")<0){_tgi6=(new _tgi1(_tgi6)).getParentId(); }return eval(_tgi6.replace(".root","")); } ,moveToAbove:function (_tgO8){if ((new _tgi1(_tgO8).getParentId()==this.getParentId())){var _tgi5=_tgA(this._tga); var _tgl8=_tgA(_tgO8); _tgE(_tgi5).insertBefore(_tgi5,_tgl8); (new _tgi1(this.getParentId()))._tgi8(); }return this ; } ,moveToBelow:function (_tgO8){if ((new _tgi1(_tgO8).getParentId()==this.getParentId())){var _tgi5=_tgA(this._tga); var _tgl8=_tgA(_tgO8); var _tgI5=_tgE(_tgi5); if (_tgI5.lastChild==_tgl8)_tgI5.appendChild(_tgi5); else _tgI5.insertBefore(_tgi5,_tgu(_tgl8)); (new _tgi1(this.getParentId()))._tgi8(); }return this ; } ,attachTo:function (_tgO8){var _tgI8=_tgO8; var _tgo9= false; while (_tgI8.indexOf(".root")<0){_tgI8=(new _tgi1(_tgI8)).getParentId(); if (_tgI8==this._tga)_tgo9= true; }if (_tgo9){return false; }var _tgi6=this.getParentId(); if (_tgi6==_tgO8){return false; }var _tgi5=_tgA(_tgO8); var _tgI5=_tgu(_tgU(_tgi5)); if (!_tgO(_tgI5)){_tgI5=_tgY("ul",_tgi5); _tgR(_tgI5,"ktvUL"); (new _tgi1(_tgO8)).getTree()._tgo7(_tgO8,1); }_tgI5.appendChild(_tgA(this._tga)); (new _tgi1(_tgO8))._tgi8(); (new _tgi1(_tgi6))._tgi8(); return true; } ,loadSubTree:function (_tgO9){if (typeof koolajax!="undefined" && _tgO(koolajax)){if (_tgZ())return this ; var _tgl9=this._tgo2("Loading"); if (!_tgO(_tgl9)){if (!this.getTree()._tgO5("OnBeforeSubTreeLoad", { "NodeId": this._tga,"Url":_tgO9 } ))return; var _tgi4=_tgU(_tgA(this._tga)); _tgl9=_tgY("span",_tgi4); _tgR(_tgl9,"ktvLoading"); koolajax.load(_tgO9,eval("__=function(ct){"+this.getTree()._tga+".OSTLD('"+this._tga+"',ct);}")); }}return this ; } ,_tgi9:function (_tgI9){var _tgi5=_tgA(this._tga); var _tgi3=this.getTree(); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){ this.getTree()._tgt(_tgI5); }else {_tgI5=_tgY("ul",_tgi5); _tgR(_tgI5,"ktvUL"); }_tgI5.innerHTML+=_tgI9; var _tgl9=this._tgo2("Loading"); if (_tgO(_tgl9))_tgU(_tgi5).removeChild(_tgl9); _tgi3._tgz(_tgI5); this._tgi8(); _tgi3._tgO5("OnSubTreeLoad", { "NodeId": this._tga } ); var _tgi4=_tgU(_tgi5); var _tgI4=null; for (var i=0; i<_tgi4.childNodes.length; i++)if (_tgi4.childNodes[i].nodeName=="INPUT")_tgI4=_tgi4.childNodes[i]; if (_tgO(_tgI4)){var _tgo5=eval("__="+_tgI4.value); if (_tgO(_tgo5.loading) && _tgo5.loading==1){ delete _tgo5.loading; _tgI4.value=_tgJ(_tgo5); var _tgoa=this._tgo2("PM"); _tgN("Plus","Minus",_tgoa); _tgi3._tgo7(this._tga,1); _tgi3._tgO5("OnExpand", { "NodeId": this._tga } ); _tgi3.rECSFC(); }}} ,addChildNode:function (_tgO8,_tgO2,_tgl2){var _tgOa=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgOa)); if (!_tgO(_tgI5)){_tgI5=_tgY("ul",_tgOa); _tgR(_tgI5,"ktvUL");}var _tgi5=_tgY("li",_tgI5); _tgi5.id=_tgO8; _tgR(_tgi5,"ktvLI"); var _tgla=_tgY("div",_tgi5); _tgR(_tgla,"ktvBot"); if (_tgO(_tgl2)){var _tgia=_tgY("img",_tgla); _tgR(_tgia,"ktvImage"); _tgia.src=_tgl2; _tgia.alt=""; }_tgO2=(_tgO(_tgO2))?_tgO2: ""; var _tgIa=_tgY("span",_tgla); _tgR(_tgIa,"ktvText"); _tgIa.innerHTML=_tgO2; _tgz(_tgIa,"click",_tgob, false); _tgz(_tgIa,"mouseover",_tgOb, false); _tgz(_tgIa,"mouseout",_tglb, false); _tgz(_tgIa,"mousedown",_tgib, false); _tgz(_tgIa,"mouseup",_tgIb, false); this._tgi8(); return this ; } ,_tgoc:function (_tgO8){ (new _tgi1(_tgO8)).unselect(); var _tgl8=_tgA(_tgO8); var _tgI5=_tgE(_tgl8); this.getTree()._tgt(_tgl8); _tgI5.removeChild(_tgl8); this._tgi8(); } ,removeAllChildren:function (){var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5)){ this.getTree()._tgt(_tgI5); _tgi5.removeChild(_tgI5); this._tgi8(); }} ,_tgi8:function (_tgOc){var _tgO4=this.getChildIds(); for (var i=0; i<_tgO4.length; i++){var _tgi5=_tgA(_tgO4[i]); try {var _tgi4=_tgU(_tgi5); }catch (_tglc){}_tgp(_tgi5,"ktvFirst"); _tgp(_tgi5,"ktvLast"); _tgN("ktvTop","ktvMid",_tgi4); _tgN("ktvBot","ktvMid",_tgi4); if (i==0){_tgQ(_tgi5,"ktvFirst"); _tgN("ktvMid","ktvTop",_tgi4); }if (i==_tgO4.length-1){_tgQ(_tgi5,"ktvLast"); _tgN("ktvMid","ktvBot",_tgi4); _tgN("ktvTop","ktvBot",_tgi4); }}var _tgic=this._tgo2("PM"); if (_tgO4.length==0){if (_tgO(_tgic)){_tgt(_tgic,"click",_tgIc, false); _tgE(_tgic).removeChild(_tgic); }var _tgi5=_tgA(this._tga); var _tgI5=_tgu(_tgU(_tgi5)); if (_tgO(_tgI5))_tgi5.removeChild(_tgI5); }else {if (!_tgO(_tgic)){var _tgi4=_tgU(_tgA(this._tga)); var _tgI5=_tgu(_tgi4); _tgic=_tgY("span",_tgi4); _tgi4.insertBefore(_tgic,_tgU(_tgi4)); _tgR(_tgic,"ktvPM ktv"+(_tgk(_tgI5)?"Minus": "Plus")); _tgz(_tgic,"click",_tgIc, false); }}} ,isExpanded:function (){return _tgO(this._tgo2("Minus")); } ,isSelected:function (){var _tgi4=_tgU(_tgA(this._tga)); return (_tgS(_tgi4).indexOf("Selected")>0);} ,startEdit:function (_tgi0){if (_tgZ())return this ; if (!this.getTree()._tgO5("OnBeforeStartEdit", { "NodeId": this._tga } ))return; var _tgO2=this._tgo2("Text"); _tgi4=_tgU(_tgA(this._tga)); _tgl(_tgO2,0); var _tgI4=_tgY("input",_tgi4); _tgz(_tgI4,"blur",_tgod, false); _tgz(_tgI4,"keypress",_tgOd, false); _tgR(_tgI4,"ktvEdit"); _tgI4.value=_tgO(_tgi0)?_tgi0:_tgO2.innerHTML; _tgI4.focus(); _tgI4.select(); this.getTree()._tgO5("OnStartEdit", { "NodeId": this._tga } ); return this ; } ,endEdit:function (_tgld){if (!this.getTree()._tgO5("OnBeforeEndEdit", { "NodeId": this._tga } ))return; var _tgI4=this._tgo2("Edit"); var _tgO2=this._tgo2("Text"); _tgt(_tgI4,"blur",_tgod, false); _tgt(_tgI4,"keypress",_tgOd, false); if (!_tgO(_tgld))_tgld= true; if (_tgld)_tgO2.innerHTML=_tgI4.value; _tgO2.style.display=""; _tgE(_tgI4).removeChild(_tgI4); this.getTree()._tgO5("OnEndEdit", { "NodeId": this._tga } ); return this ; } ,_tgo2:function (_tgq){var _tgi5=_tgA(this._tga); var _tgid=_tgL(_tgU(_tgi5),"ktv"+_tgq); return _tgid; } ,_tgId:function (_tgg){var _tgi3=this.getTree(); if (_tgi3._tgoe){var _tgOe=this.isSelected(); var _tgl5=_tgi3._tgo4(); var _tgle=" "+_tgl5.selectDisableIds.join(" "); if (_tgle.indexOf(" "+this._tga)<0){if (!_tgh || !_tgi3._tgie){_tgi3.unselectAll(); } this.select(); }if (_tgOe && _tgi3._tgIe){var _tgl5=_tgi3._tgo4(); var _tgof=" "+_tgl5.editDisableIds.join(" "); if (_tgof.indexOf(" "+this._tga)<0){ this.startEdit(); }}}} ,_tgOf:function (_tgg,_tgld){ this.endEdit(_tgld); } ,_tgIf:function (_tgg){if (this.isExpanded())this.collapse(); else this.expand(); } ,_tgog:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); _tgQ(_tgi4,"ktvOver"); if (_tgOg && this._tglg()){_tgQ(_tgi4,"ktvDrop"); }} ,_tgig:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); _tgp(_tgi4,"ktvOver"); if (_tgOg && this._tglg()){_tgp(_tgi4,"ktvDrop"); }} ,_tglg:function (){if (_tgZ())return false; var _tgi3=this.getTree(); var _tgO4=" "+_tgi3._tgo4().dropDisableIds.join(" "); return (_tgi3._tgIg && _tgO4.indexOf(" "+this._tga)<0); } ,_tgoh:function (_tgg){if (_tgOg && this._tglg()){var _tgi4=_tgU(_tgA(this._tga)); _tgp(_tgi4,"ktvDrop"); if (!this.getTree()._tgO5("OnBeforeDrop", { "NodeId": this._tga,"DragNodeId":_tgOh } ))return; var _tglh= false; if (this._tga!=_tgOh){_tglh=(new _tgi1(_tgOh)).attachTo(this._tga); } this.getTree()._tgO5("OnDrop", { "NodeId": this._tga,"DragNodeId":_tgOh,"Succeed":_tglh } ); }} ,_tgih:function (){if (_tgZ())return false; var _tgi3=this.getTree(); var _tgO4=" "+_tgi3._tgo4().dragDisableIds.join(" "); return (_tgi3._tgIg && _tgO4.indexOf(" "+this._tga)<0); } ,_tgIh:function (_tgg){var _tgi4=_tgU(_tgA(this._tga)); var _tgla=_tgi4.cloneNode( true); var _tgoi=_tgL(_tgla,"ktvPM"); if (_tgO(_tgoi))_tgla.removeChild(_tgoi); var _tgOi=_tgY("div",document.body); _tgOi.id="__"+this._tga; var _tgli=_tgS(_tgA(this.getTree()._tga)); _tgR(_tgOi,_tgli);_tgQ(_tgla,"ktvDrag"); _tgOi.style.position="absolute"; _tgOi.appendChild(_tgla); var _tgii=_tgD(_tgg); _tgOi.style.top=_tgii._tgc+"px"; _tgOi.style.left=(_tgii._tgC+5)+"px"; this.getTree()._tgO5("OnDrag", { "NodeId": this._tga } ); } ,_tgIi:function (_tgg){var _tgOi=_tgA("__"+this._tga); var _tgii=_tgD(_tgg); _tgOi.style.top=_tgii._tgc+"px"; _tgOi.style.left=(_tgii._tgC+5)+"px"; } ,_tgoj:function (_tgg){var _tgOi=_tgA("__"+this._tga); document.body.removeChild(_tgOi); }};function KoolTreeView(_tga,_tgO6,_tgoe,_tgie,_tgIg,_tgIe,_tgOj,_tglj,_tgij){ this._tga=_tga; this._tgie=_tgie; this._tgoe=_tgoe; this._tgIg=_tgIg; this._tgIe=_tgIe; this._tgO6=_tgO6; this._tgOj=_tgOj.toLowerCase(); this._tglj=_tglj; this._tgIj=new Array(); _tgA(_tga+".clientState").value=_tgij; this._tgb(); }KoolTreeView.prototype= {getSelectedIds:function (){var _tgij=this._tgo4(); return (_tgO(_tgij.selectedIds))?_tgij.selectedIds: (new Array()); } ,unselectAll:function (){var _tgO4=this.getSelectedIds(); for (var i=0; i<_tgO4.length; i++)(new _tgi1(_tgO4[i])).unselect(); return this ; } ,removeNode:function (_tgO8){var _tgok=this.getNode(this.getNode(_tgO8).getParentId()); _tgok._tgoc(_tgO8); return this ; } ,getNode:function (_tgO8){return new _tgi1(_tgO8); } ,expandAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeExpandAll", { "NodeId": this._tga+".root" } ); var _tgOk=_tgA(this._tga+".root"); var _tglk=_tgOk.getElementsByTagName("ul"); for (var i=0; i<_tglk.length; i++)if (_tgS(_tglk[i]).indexOf("ktvUL")>-1){_tgl(_tglk[i],1); var _tgi4=_tgU(_tgE(_tglk[i])); var _tgoa=_tgL(_tgi4,"ktvPM"); _tgN("Plus","Minus",_tgoa); } this._tgO5("OnExpandAll", { "NodeId": this._tga+".root" } ); return this ; } ,deepExpandAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeDeepExpandAll", { "NodeId": this._tga+".root" } ); this.getNode(this._tga+".root")._tgO7(); this._tgO5("OnDeepExpandAll", { "NodeId": this._tga+".root" } ); return this ; } ,collapseAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeCollapseAll", { "NodeId": this._tga+".root" } ); this._tgI6(new Array()); this._tgO5("OnCollapseAll", { "NodeId": this._tga+".root" } ); return this ; } ,deepCollapseAll:function (){if (_tgZ())return this ; this._tgO5("OnBeforeDeepCollapseAll", { "NodeId": this._tga+".root" } ); this.getNode(this._tga+".root")._tgI7(); this._tgO5("OnDeepCollapseAll", { "NodeId": this._tga+".root" } ); return this ; } ,_tgI6:function (_tgl6){if (_tgZ())return this ; var _tgik=""; if (_tgO(_tgl6))_tgik=_tgl6.join(" "); var _tgOk=_tgA(this._tga+".root"); var _tglk=_tgOk.getElementsByTagName("ul"); for (var i=0; i<_tglk.length; i++){var _tgO8=_tgE(_tglk[i]).id; if (_tgS(_tglk[i]).indexOf("ktvUL")>-1 && _tgik.indexOf(_tgO8)<0){_tgl(_tglk[i],0); var _tgi4=_tgU(_tgE(_tglk[i])); var _tgoa=_tgL(_tgi4,"ktvPM"); _tgN("Minus","Plus",_tgoa); }}} ,_tgo4:function (){var _tgIk=_tgA(this._tga+".clientState"); var _tgij=eval("__="+_tgIk.value); return _tgij; } ,_tgl4:function (_tgij){var _tgIk=_tgA(this._tga+".clientState"); _tgIk.value=_tgJ(_tgij); } ,OSTLD:function (_tgO8,_tgI9){ (new _tgi1(_tgO8))._tgi9(_tgI9); } ,_tgz:function (_tgol){var _tgll=_tgol.getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){_tgi4=_tgU(_tgll[i]); _tgic=_tgL(_tgi4,"ktvPM"); if (_tgO(_tgic))_tgz(_tgic,"click",_tgIc, false); _tgIa=_tgL(_tgi4,"ktvText"); _tgz(_tgIa,"click",_tgob, false); _tgz(_tgIa,"mouseover",_tgOb, false); _tgz(_tgIa,"mouseout",_tglb, false); _tgz(_tgIa,"mousedown",_tgib, false); _tgz(_tgIa,"mouseup",_tgIb, false); }} ,_tgt:function (_tgol){var _tgll=_tgol.getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){_tgi4=_tgU(_tgll[i]); _tgic=_tgL(_tgi4,"ktvPM"); if (_tgO(_tgic))_tgt(_tgic,"click",_tgIc, false); _tgIa=_tgL(_tgi4,"ktvText"); _tgt(_tgIa,"click",_tgob, false); _tgt(_tgIa,"mouseover",_tgOb, false); _tgt(_tgIa,"mouseout",_tglb, false); _tgt(_tgIa,"mousedown",_tgib, false); _tgt(_tgIa,"mouseup",_tgIb, false); }} ,_tgb:function (){var _tgi3=document.getElementById(this._tga); _tgi3.onselectstart=_tgil; this._tgz(_tgi3); setTimeout(this._tga+".rECSFC()",0); } ,rECSFC:function (){var _tgIl=""; switch (this._tgOj){case "onpage":var _tgom=window.location.href.indexOf("?"); _tgIl=(_tgom<0)?window.location.href:window.location.href.substring(0,_tgom)+"_"+this._tga+"_opcl"; break; case "crosspage":_tgIl=this._tga+"_opcl"; break; case "none":default:return; break; }var _tgO2=_tgB[_tgIl]; _tgO2=_tgO(_tgO2)?_tgO2: "{}"; var _tgOm=eval("__="+_tgO2); var _tgll=_tgA(this._tga).getElementsByTagName("li"); for (var i=0; i<_tgll.length; i++)if (_tgS(_tgll[i]).indexOf("ktvLI")!=-1){if (_tgO(_tgOm[_tgll[i].id])){var _tgIm=this.getNode(_tgll[i].id); if (_tgOm[_tgIm._tga]==1 && !_tgIm.isExpanded()){_tgIm.expand(); }else if (_tgOm[_tgIm._tga]==0 && _tgIm.isExpanded()){_tgIm.collapse(); }}}} ,_tgo7:function (_tgO8,_tgon){var _tgIl=""; switch (this._tgOj){case "onpage":var _tgom=window.location.href.indexOf("?"); _tgIl=((_tgom<0)?window.location.href:window.location.href.substring(0,_tgom))+"_"+this._tga+"_opcl"; break; case "crosspage":_tgIl=this._tga+"_opcl"; break; case "none":default:return; break; }var _tgO2=_tgB[_tgIl]; _tgO2=_tgO(_tgO2)?_tgO2: "{}"; var _tgOm=eval("__="+_tgO2); _tgOm[_tgO8]=_tgon; _tgB._tgl0(_tgIl,_tgJ(_tgOm),this._tglj); } ,registerEvent:function (_tgH,_tgOn){if (_tgZ())return this ; this._tgIj[_tgH]=_tgOn; } ,_tgO5:function (_tgH,_tgIn){if (_tgZ())return true; return (_tgO(this._tgIj[_tgH]))?this._tgIj[_tgH](this,_tgIn): true; }};function _tgIc(_tgg){ (new _tgi1(_tgE(this,2).id))._tgIf(_tgg); }function _tgob(_tgg){ (new _tgi1(_tgE(this,2).id))._tgId(_tgg); }function _tgOb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgog(_tgg); }function _tglb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgig(_tgg); }function _tgod(_tgg){ (new _tgi1(_tgE(this,2).id))._tgOf(_tgg); }function _tgOd(_tgg){var _tgF=(window.event)?event.keyCode:_tgg.keyCode; if (_tgF==13 || _tgF==27){ (new _tgi1(_tgE(this,2).id))._tgOf(_tgg,(_tgF==13)); if (_tgF==13){if (_tgg.stopPropagation){_tgg.stopPropagation(); _tgg.preventDefault(); }else {event.cancelBubble= true; event.returnValue= false; }return false; }}}var _tgoo=0,_tgOo,_tgOg,_tgOh; var _tgIo= true; function _tgib(_tgg){if ((new _tgi1(_tgE(this,2).id))._tgih(_tgg)){if (_tgg.preventDefault)_tgg.preventDefault(); _tgIo= false; _tgOh=_tgE(this,2).id; _tgOo=_tgD(_tgg); _tgoo=1; _tgOg= false; _tgz(document,"mousemove",_tgop, false); _tgz(document,"mouseup",_tgOp, false); if (_tgg.stopPropagation!=null)_tgg.stopPropagation(); else event.cancelBubble= true; }}function _tgop(_tgg){if (_tgoo==1 || _tgoo==2){if (_tgOg){ (new _tgi1(_tgOh))._tgIi(_tgg); }else {var _tgii=_tgD(_tgg); if (Math.abs(_tgii._tgC-_tgOo._tgC)>10 || Math.abs(_tgii._tgc-_tgOo._tgc)>10){_tgOg= true; (new _tgi1(_tgOh))._tgIh(_tgg); }}}_tgoo=2; }function _tgOp(_tgg){if (_tgoo==1){}if (_tgoo==2){if (_tgOg){ (new _tgi1(_tgOh))._tgoj(_tgg); _tgOg= false; }}_tgt(document,"mousemove",_tgop, false); _tgt(document,"mouseup",_tgOp, false); _tgIo= true; }function _tgIb(_tgg){ (new _tgi1(_tgE(this,2).id))._tgoh(_tgg); }function _tgil(){if (_tgh || !_tgIo)return false; }if (typeof(__KTVInits)!="undefined" && _tgO(__KTVInits)){for (var i=0; i<__KTVInits.length; i++){__KTVInits[i](); }}KoolPHP= {recursiveMerge:function (_tglp,_tgip){var _tgIp=typeof _tglp,_tgoq=typeof _tgip; if (_tglp === null || _tgIp === "undefined")_tglp=_tgip; else if (_tglp instanceof Array && _tgip instanceof Array){for (var i=0; i<_tgip.length; i+=1)_tglp[i]=KoolPHP.recursiveMerge(_tglp[i],_tgip[i]); }else if (_tgoq === "object" && _tgIp === "object"){for (var _tgOq in _tgip)if (_tgip.hasOwnProperty(_tgOq)){var _tglq=typeof _tgip[_tgOq]; if (_tglq !== "object" || _tgip[_tgOq] === null)_tglp[_tgOq]=_tgip[_tgOq]; else _tglp[_tgOq]=KoolPHP.recursiveMerge(_tglp[_tgOq],_tgip[_tgOq]); }}else _tglp=_tgip; return _tglp; } ,_tgiq:{_merge:function (_object){for (var _tgH in _object)if (_object.hasOwnProperty(_tgH))this[_tgH]=_object[_tgH]; return this ; } ,_tgIq:function (_tgor){alert(this[_tgor]); } ,_tgOr: "koolObject",_tga:null,_tglr:function (_tga){ this._tga=_tga; } ,_tgir:function (){return this._tga; } ,_tgIr:function (){alert(this._tga+" "+this._tgOr); } ,_tgos:function (_tgOs){var _tgI4=KoolPHP._domObj(this._tgir()+_tgOs); return JSON.parse(_tgI4.value); } ,_tgls:function (_tgOs,value){var _tgI4=KoolPHP._domObj(this._tgir()+_tgOs); _tgI4.value=JSON.stringify(value); } ,_tgis:function (){var _tgIs=this._tgos("_viewstate"); if (KoolPHP._isEmpty(_tgIs))_tgIs= {} ; return _tgIs; } ,_tgot:function (_tgIs){ this._tgls("_viewstate",_tgIs); }} ,htmlProperty:{_tgOt: "",_tglt: "",name:function (_tgOq){ this._tgOt=_tgOq; return this ; } ,value:function (_tgit){ this._tglt=_tgit; return this ; }} ,htmlElement:{_tgIt: "<{tag} {properties} {styles}>{content}</{tag}>",_tgou: "",_tgOu: "",_tglu: "",_tgiu: "",initProperties:function (){ this._tgIu= {} ; this._tgov= {} ; this._tgOv=[]; } ,tag:function (s){ this._tgou=s; return this ; } ,content:function (s){ this._tgOu=s; return this ; } ,text:function (s){ this._tgiu=s; return this ; } ,setInnerHtml:function (s){ this._tglu=s; return this ; } ,addProperty:function (_tgOq,_tgit){if (!this._tgIu[_tgOq])this._tgIu[_tgOq]=[]; this._tgIu[_tgOq].push(_tgit); return this ; } ,setProperty:function (_tgOq,_tgit){ this._tgIu[_tgOq]=[_tgit]; return this ; } ,removeProperty:function (_tgOq){ this._tgIu[_tgOq]=[]; return this ; } ,addStyle:function (_tgOq,_tgit){if (!this._tgov[_tgOq])this._tgov[_tgOq]=[]; this._tgov[_tgOq].push(_tgit); return this ; } ,setStyle:function (_tgOq,_tgit){ this._tgov[_tgOq]=[_tgit]; return this ; } ,removeStyle:function (_tgOq){ this._tgov[_tgOq]=[]; return this ; } ,addChildElement:function (_tgit){ this._tgOv.push(_tgit); return this ; } ,getPropertiesString:function (){var _tglv=""; for (var p in this._tgIu)if (this._tgIu.hasOwnProperty(p)){var s=""; for (var i=0; i<this._tgIu[p].length; i+=1){s+=" "+this._tgIu[p][i]; }if (s !== "")_tglv+=p+"=\""+s.trim()+"\""; }return _tglv.trim(); } ,getStylesString:function (){var _tgiv=""; for (var p in this._tgov)if (this._tgov.hasOwnProperty(p)){var s=""; for (var i=0; i<this._tgov[p].length; i+=1){s+=" "+this._tgov[p][i]; }if (s !== "")_tgiv+=p+"=\""+s.trim()+"\""; }return _tgiv.trim(); } ,_tgIv:function (){var _tgow=this._tgIt; _tgow=_tgow.replace("{tag}",this._tgou); var s=this.getPropertiesString(); _tgow=_tgow.replace("{properties}",s); _tgow=_tgow.replace("{styles}",this.getStylesString()); var _tgOw=this._tgOu; for (var i=0; i<this._tgOv.length; i+=1){var s=this._tgOv[i]._tgIv(); _tgOw+=s; }_tgow=_tgow.replace("{content}",_tgOw); return _tgow; } ,getDomElement:function (){if (KoolPHP._notDefined(this._tglw))this._tglw=this.createDomElement(); return this._tglw; } ,createDomElement:function (){var _tgiw=document.createElement(this._tgou); for (var p in this._tgIu)if (this._tgIu.hasOwnProperty(p)){var _tgit=this._tgIu[p]; var s=""; for (var i=0; i<_tgit.length; i+=1)s+=" "+_tgit[i]; s=s.trim(); switch (p){case "id":_tgiw.id=s; break; case "class":_tgiw.className=s; break; default:_tgiw.setAttribute(p,s); }}for (var p in this._tgov)if (this._tgov.hasOwnProperty(p)){var _tgit=this._tgov[p]; var s=""; for (var i=0; i<_tgit.length; i+=1)s+=" "+_tgit[i]; _tgiw.style[p]=s; }if (this._tgiu)_tgiw.text=this._tgiu; if (this._tgOu)_tgiw.textContent=this._tgOu; if (this._tglu)_tgiw.innerHTML=this._tglu; for (var i=0; i<this._tgOv.length; i+=1)_tgiw.appendChild(this._tgOv[i].createDomElement()); this._tglw=_tgiw; return _tgiw; }} ,newProperty:function (_tgOq,_tgit){var p=KoolPHP._new(KoolPHP.htmlProperty); p.name(_tgOq).value(_tgit); return p; } ,newHtmlElement:function (){return KoolPHP._new(KoolPHP.htmlElement); } ,newTable:function (){var _tgIw=KoolPHP.newHtmlElement().tag("table"); return _tgIw; } ,newTr:function (){var _tgIw=KoolPHP.newHtmlElement().tag("tr"); return _tgIw; } ,newTh:function (){var _tgIw=KoolPHP.newHtmlElement().tag("th"); return _tgIw; } ,newTd:function (){var _tgIw=KoolPHP.newHtmlElement().tag("td"); return _tgIw; } ,newTextInput:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","text"); return _tgIw; } ,newSpan:function (){var _tgIw=KoolPHP.newHtmlElement().tag("span"); return _tgIw; } ,newSelect:function (){var _tgIw=KoolPHP.newHtmlElement().tag("select"); return _tgIw; } ,newOption:function (){var _tgIw=KoolPHP.newHtmlElement().tag("option"); return _tgIw; } ,newCheckbox:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","checkbox"); return _tgIw; } ,newButton:function (){var _tgIw=KoolPHP.newHtmlElement().tag("input").addProperty("type","button").addStyle("margin","2px 2px 2px 2px").addStyle("padding","1px 6px 1px 6px"); return _tgIw; } ,newDiv:function (){var _tgIw=KoolPHP.newHtmlElement().tag("div"); return _tgIw; } ,newLink:function (){var _tgIw=KoolPHP.newHtmlElement().tag("link"); return _tgIw; } ,newLinkCSS:function (){var _tgIw=KoolPHP.newHtmlElement().tag("link").addProperty("rel","stylesheet"); return _tgIw; } ,_new:function (_object){var _tgox= function (){for (var p in this ){if (!this.hasOwnProperty(p)){if (this[p] instanceof Array){ this[p]=KoolPHP._cloneArray(this[p]); }else if (typeof this[p] === "object")this[p]=KoolPHP._cloneObject(this[p]); else this[p]=this[p]; if (p === "initProperties" && typeof this[p] === "function"){ this.initProperties(); }}}} ; _tgox.prototype=_object; return new _tgox(); } ,_newObject:function (_tgOx){var _newObject=this._new(this._tgiq); _newObject._merge(_tgOx); return _newObject; } ,_getClassedParentId:function (_tglx,_tgix){while (_tglx && _tglx.className.indexOf(_tgix)<0){_tglx=_tglx.parentNode; }if (_tglx)return _tglx.id; else return null; } ,_utf8_decode:function (_tgIx){var _tgoy=[],i=0,_tgOy=0,_tgly=0,_tgiy=0,_tgIy=0; _tgIx+=""; while (i<_tgIx.length){_tgly=_tgIx.charCodeAt(i); if (_tgly<128){_tgoy[_tgOy++]=String.fromCharCode(_tgly); i++; }else if (_tgly>191 && _tgly<224){_tgiy=_tgIx.charCodeAt(i+1); _tgoy[_tgOy++]=String.fromCharCode(((_tgly&31)<<6)|(_tgiy&63)); i+=2; }else {_tgiy=_tgIx.charCodeAt(i+1); _tgIy=_tgIx.charCodeAt(i+2); _tgoy[_tgOy++]=String.fromCharCode(((_tgly&15)<<12)|((_tgiy&63)<<6)|(_tgIy&63)); i+=3; }}return _tgoy.join(""); } ,_base64_decode:function (data){var _tgoz="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; var _tglp,_tgip,_tgOz,_tglz,_tgiz,_tgIz,_tgo10,_tgO10,i=0,_tgOy=0,_tgl10="",_tgoy=[]; if (!data){return data; }data+=""; do {_tglz=_tgoz.indexOf(data.charAt(i++)); _tgiz=_tgoz.indexOf(data.charAt(i++)); _tgIz=_tgoz.indexOf(data.charAt(i++)); _tgo10=_tgoz.indexOf(data.charAt(i++)); _tgO10=_tglz<<18|_tgiz<<12|_tgIz<<6|_tgo10; _tglp=_tgO10>>16&255; _tgip=_tgO10>>8&255; _tgOz=_tgO10&255; if (_tgIz==64){_tgoy[_tgOy++]=String.fromCharCode(_tglp); }else if (_tgo10==64){_tgoy[_tgOy++]=String.fromCharCode(_tglp,_tgip); }else {_tgoy[_tgOy++]=String.fromCharCode(_tglp,_tgip,_tgOz); }}while (i<data.length); _tgl10=_tgoy.join(""); _tgl10=this._utf8_decode(_tgl10); return _tgl10; } ,_addEventHandler:function (_tgi10,_tgI10,_tgo11){if (_tgi10.addEventListener)_tgi10.addEventListener(_tgI10,_tgo11, false); else if (_tgi10.attachEvent)_tgi10.attachEvent("on"+_tgI10,_tgo11); } ,_domObj:function (_tga){return document.getElementById(_tga); } ,_isEmpty:function (_tgO11){if (typeof _tgO11 === "number" || typeof _tgO11 === "function")return false; if (this._notDefined(_tgO11))return true; if (_tgO11.length>0)return false; if (_tgO11.length === 0)return true; for (var _tgl11 in _tgO11){if (hasOwnProperty.call(_tgO11,_tgl11))return false; }return true; } ,_defined:function (_object){return (_object !== null && typeof _object !== "undefined"); } ,_notDefined:function (_object){return (_object === null || typeof _object === "undefined"); } ,_cloneArray:function (_tgi11){return _tgi11.slice(0); } ,_cloneObject:function (_object){return JSON.parse(JSON.stringify(_object)); }} ; KoolTreeGridJS= {_tgI11:{_tgo12:function (){var tree=this ; var visible= true; while (tree.parent){tree=tree.parent; if (KoolPHP._notDefined(tree.meta.expand))tree.meta.expand= true; visible=visible && tree.meta.expand; if (!visible)return false; }return true; } ,children: [] } ,_tgO12:{initProperties:function (){ this._tgl12= {} ; this._tgi12= {} ; this._tgI12=[]; } ,_tgo13:function (_tgO13){var tree=KoolPHP._new(KoolTreeGridJS._tgI11); tree.id=_tgO13.id; tree.row=KoolPHP._cloneObject(_tgO13.row); tree.meta=KoolPHP._cloneObject(_tgO13.meta); var id=(tree.id === "root")?this._tgl13:tree.id; this._tgl12[id]=_tgO13; this._tgi12[id]=tree; this._tgI12.push(id); for (var i=0; i<_tgO13.children.length; i+=1){var _tgi13=this._tgo13(_tgO13.children[i]); _tgi13.parent=tree; tree.children.push(_tgi13); }return tree; } ,_tgI13:function (){ this._tgIs=this._tgis(); this.data=this._tgos("_data"); this.setting=this.data.setting; var _tgo14=this.setting,_tgO14=_tgo14.ktvId,_tgl14=_tgO14+".root"; this._tgl13=_tgl14; } ,_tgi14:function (){var _tgo14=this.setting,_tgI14=this._tgir(); var _tgo15=KoolPHP._domObj(_tgo14.divId); var _tgO15,_tgl15,_tgi15,_tgI15,_tgo16,_tgO16,_tgl16,_tgI4,_tgi16,_tgI16,id,tree; _tgo16=this.setting.columns; _tgO15=KoolPHP.newTable().addProperty("id",_tgI14+"_table").addProperty("class","ktg_table"); if (_tgo14.width)_tgO15.addStyle("width",_tgo14.width); _tgl15=KoolPHP.newTr().addProperty("id",_tgI14+"_th").addProperty("class","ktg_header ktvText"); for (var i=0; i<_tgo16.length; i+=1){if (_tgo16[i].visible){var _tgo17=!KoolPHP._isEmpty(_tgo16[i].headerText)?_tgo16[i].headerText:_tgo16[i].field; _tgi15=KoolPHP.newTh().content(_tgo17); if (_tgo16[i].width)_tgi15.addStyle("width",_tgo16[i].width); _tgl15.addChildElement(_tgi15); }}_tgO15.addChildElement(_tgl15); for (var _tgO17=0; _tgO17<this._tgI12.length; _tgO17+=1){id=this._tgI12[_tgO17]; tree=this._tgi12[id]; _tgl16=tree.row; _tgi16=tree.meta?tree.meta:{} ; _tgl15=KoolPHP.newTr().addProperty("id",_tgI14+"_tr_"+id).addProperty("class","ktvText"); if (_tgO17 === 0){_tgO16=this.data.treeViewHtml; _tgI15=KoolPHP.newTd().addProperty("id",this._tgir()+"_td_ktv").addProperty("class","td_ktv").setInnerHtml(_tgO16); _tgl15.addChildElement(_tgI15); }for (var i=1; i<_tgo16.length; i+=1){if (_tgo16[i].visible){var field=_tgo16[i].field; var value=_tgl16[field]; if (_tgi16.rowEdit === true || _tgi16.rowEdit && _tgi16.rowEdit[field]){var _tgl17="text"; if (_tgi16.rowEdit[field])_tgl17=_tgi16.rowEdit[field].type; if (_tgl17 === "select"){var select=KoolPHP.newSelect().addProperty("class","ktvTextSelect"); var options=_tgi16.rowEdit[field].options; for (var _tgOq=0; _tgOq<options.length; _tgOq+=1){var option=KoolPHP.newOption().content(options[_tgOq]); if (value === options[_tgOq])option.addProperty("selected", true); select.addChildElement(option); }_tgI15=KoolPHP.newTd().addChildElement(select); }else if (_tgl17 === "checkbox"){var _tgi17=KoolPHP.newCheckbox().addProperty("class","ktvTextCheckbox"); if (typeof value === "string")value=(value.toLowerCase() === "true"); if (value)_tgi17.addProperty("checked","checked"); _tgI15=KoolPHP.newTd().addChildElement(_tgi17); }else {_tgI4=KoolPHP.newTextInput().addProperty("value",value).addProperty("class","ktvTextInput").addStyle("width","100%"); _tgI15=KoolPHP.newTd().addChildElement(_tgI4).addStyle("padding-right","7px"); }_tgI15.addStyle("padding-left","0px"); }else {_tgI16=KoolPHP.newSpan().content(value); _tgI15=KoolPHP.newTd().addChildElement(_tgI16); }_tgl15.addChildElement(_tgI15); }}_tgO15.addChildElement(_tgl15); }_tgo15.appendChild(_tgO15.createDomElement()); } ,render:function (){ this.initProperties(); this._tgI13(); this._tgI11=this._tgo13(this.data.tree); this._tgi14(); } ,reRender:function (){var _tgo14=this.setting; var _tgo15=KoolPHP._domObj(_tgo14.divId); _tgo15.removeChild(_tgo15.firstChild); this.initProperties(); this._tgI11=this._tgo13(this.data.tree); this._tgi14(); this._tgI17._tgb(); this.init(); } ,getOriginalTree:function (){return KoolPHP._cloneObject(this.data.tree); } ,getOriginalTreeData:function (){return KoolPHP._cloneObject(this.data.tree); } ,_tgo18:function (_tgO13){ this.data.tree=_tgO13; return this ; } ,_tgO18:function (tree,_tgl18){var id=(tree.id === "root")?this._tgl13:tree.id; _tgl18[id]=tree; for (var i=0; i<tree.children.length; i+=1){ this._tgO18(tree.children[i],_tgl18); }} ,getCurrentTree:function (){var tree,_tgl18= {} ,columns,_tgi18,id,_tgI18,tree,tr,td,text,_tgI14=this._tgir(); _tgI18=KoolPHP._cloneObject(this.data.tree); this._tgO18(_tgI18,_tgl18); for (var i=0; i<this._tgI12.length; i+=1){id=this._tgI12[i]; tree=_tgl18[id]; tr=KoolPHP._domObj(_tgI14+"_tr_"+id); td=tr.firstChild; if (id === this._tgl13)td=td.nextSibling; columns=this.setting.columns; for (var _tgO17=1; _tgO17<columns.length; _tgO17+=1){if (columns[_tgO17].visible){_tgi18=td.firstChild; if (_tgi18.tagName.toLowerCase() === "span")text=_tgi18.textContent; else if (_tgi18.tagName.toLowerCase() === "input"){if (_tgi18.type === "text")text=_tgi18.value; else if (_tgi18.type === "checkbox")text=_tgi18.checked; }else if (_tgi18.tagName.toLowerCase() === "select")text=_tgi18.value; tree.row[columns[_tgO17].field]=text; td=td.nextSibling; }}}return _tgI18; } ,getCurrentTreeData:function (){return this.getCurrentTree(); } ,treeDataToSetting:function (tree,_tgo19,_tgO19,_tgl19){var setting; var type=tree.row[_tgl19].trim().toLowerCase(); if (KoolPHP._isEmpty(tree.children)){setting=tree.row[_tgO19]; if (type === "array" || type === "number" || type === "bool")setting=eval(setting); }else {setting=(type === "array")?[]:{} ; for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgi19=this.treeDataToSetting(_tgi13,_tgo19,_tgO19,_tgl19); if (type === "array")setting[i]=_tgi19; else setting[_tgi13.row[_tgo19]]=_tgi19; }}return setting; } ,treeDataToPHPArrayStr:function (tree,_tgo19,_tgO19,_tgl19,_tgI19){var s="",_tgo1a,value,_tgIw,_tgO1a="   ",pre=""; _tgIw=""; for (var _tgO17=0; _tgO17<_tgI19; _tgO17+=1)_tgIw+=_tgO1a; var type=tree.row[_tgl19].trim().toLowerCase(); _tgo1a=tree.row[_tgo19]; value=tree.row[_tgO19]; pre="\""+_tgo1a+"\" => "; if (KoolPHP._isEmpty(tree.children)){if (type === "number" || type === "bool"){value=eval(value); s+=pre+value+",\n"; }else if (type === "array")s+=pre+value+",\n"; else s+=pre+"\""+value+"\",\n"; }else {for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgl1a; var _tgi1a=_tgi13.row[_tgl19].trim().toLowerCase(); _tgl1a=this.treeDataToPHPArrayStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1); if (_tgi1a === "object" || (_tgi1a === "array" && !KoolPHP._isEmpty(_tgi13.children))){if (type === "array")_tgl1a="array(\n"+_tgl1a+_tgIw+"),\n"; else _tgl1a="\""+_tgi13.row[_tgo19]+"\" => array(\n"+_tgl1a+_tgIw+"),\n"; }s+=_tgIw; s+=_tgl1a; }}if (_tgI19 === 2)s=_tgO1a+"array(\n"+s+_tgO1a+")\n"; return s; } ,treeDataToPHPSettingStr:function (tree,_tgo19,_tgO19,_tgl19,_tgI19,pre,index){var s="",_tgo1a,value,_tgIw; var type=tree.row[_tgl19].trim().toLowerCase(); _tgo1a=tree.row[_tgo19]; value=tree.row[_tgO19]; if (_tgI19 === 2)_tgIw=pre; else if (KoolPHP._defined(index))_tgIw=pre+"["+index+"]"; else _tgIw=pre+"[\""+_tgo1a+"\"]"; if (KoolPHP._isEmpty(tree.children)){if (type === "number" || type === "bool"){value=eval(value); s=_tgIw+" = "+value+";\n"; }else if (type === "array")s=_tgIw+" = "+value+";\n"; else s=_tgIw+" = "+"\""+value+"\";\n"; }else {for (var i=0; i<tree.children.length; i+=1){var _tgi13=tree.children[i]; var _tgI1a; if (type === "array")_tgI1a=this.treeDataToPHPSettingStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1,_tgIw,i); else _tgI1a=this.treeDataToPHPSettingStr(_tgi13,_tgo19,_tgO19,_tgl19,_tgI19+1,_tgIw); s+=_tgI1a; }}return s; } ,setStyle:function (style){var _tgo1b=this.setting; var _tgO1b=KoolPHP._domObj(_tgo1b.divId); _tgO1b.className=style+"KTG"; this._tgl1b(); } ,_tgl1b:function (){var _tgo1b=this.setting,id,row,tree,li,tr,td,span,div,visible,className,_tgi1b=0,_tgI1b,_tgo1c,_tgO1c,treeIndent,rootIndent,_tgl1c=[],_tgI14=this._tgir(); for (var i=0; i<this._tgI12.length; i+=1){id=this._tgI12[i]; tree=this._tgi12[id]; row=tree.row; span=(i === 0)?KoolPHP._domObj(id+"_text"):KoolPHP._domObj(_tgI14+"_"+id+"_text"); div=span.parentNode.parentNode; li=div.parentNode; tr=KoolPHP._domObj(_tgI14+"_tr_"+id); visible=tree._tgo12(); tr.style.display=visible?"": "none"; _tgl1c.push(visible); if (visible){className=["ktg_row","ktg_altRow"]; this._tgi1c(div,className,_tgi1b); this._tgi1c(tr,className,_tgi1b); treeIndent=(KoolPHP._defined(_tgo1b.treeIndent))?_tgo1b.treeIndent: 12; rootIndent=(KoolPHP._defined(_tgo1b.rootIndent))?_tgo1b.rootIndent: 20; _tgI1b=span.getAttribute("level"); _tgo1c=rootIndent; _tgo1c+=_tgI1b<=1?_tgI1b*treeIndent: (_tgI1b-1)*treeIndent; _tgO1c=(_tgo1c-20)+"px 0px"; div.style.backgroundPosition=_tgO1c; li.style.backgroundPosition=_tgO1c; div.style.paddingLeft=_tgo1c+"px"; span.style.height="auto"; _tgi1b+=1; }}tr=KoolPHP._domObj(_tgI14+"_tr_"+this._tgl13); td=tr.firstChild; td.rowSpan=_tgi1b; for (var i=0; i<this._tgI12.length; i+=1)if (_tgl1c[i]){id=this._tgI12[i]; span=(i === 0)?KoolPHP._domObj(id+"_text"):KoolPHP._domObj(_tgI14+"_"+id+"_text"); tr=KoolPHP._domObj(_tgI14+"_tr_"+id); if (id !== this._tgl13){span.style.height=tr.offsetHeight+"px"; }else {td=tr.firstChild.nextSibling; span.style.height=td.offsetHeight-1+"px"; }}} ,_tgI1c:function (_tgo1d,name){var s=_tgo1d.className; var _tgO1d=new RegExp("(?:^|\\s)"+name+"(?!\\S)","g"); s=s.replace(_tgO1d,""); _tgo1d.className=s; } ,_tgl1d:function (_tgo1d,name){ this._tgI1c(_tgo1d,name); _tgo1d.className+=" "+name; } ,_tgi1c:function (_tgo1d,_tgi1d,_tgi1b){var i,_tgI1d,_tgo1e; _tgI1d=_tgi1d.length; for (i=1; i<_tgI1d; i+=1){_tgo1e=(_tgi1b+i)%_tgI1d; this._tgI1c(_tgo1d,_tgi1d[_tgo1e]); }_tgo1e=_tgi1b%_tgI1d; this._tgl1d(_tgo1d,_tgi1d[_tgo1e]); } ,_tgO1e:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){_tgI1e._tgi12[_tgi1e.NodeId].meta.expand= false; _tgI1e._tgl1b(); } ; } ,_tgo1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){_tgI1e._tgi12[_tgi1e.NodeId].meta.expand= true; _tgI1e._tgl1b(); } ; } ,_tgO1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){for (var i=0; i<_tgI1e._tgI12.length; i+=1){_tgI1e._tgi12[_tgI1e._tgI12[i]].meta.expand= false; }_tgI1e._tgl1b(); } ; } ,_tgl1f:function (_tgl1e,_tgi1e){var _tgI1e=this ; return function (_tgl1e,_tgi1e){for (var i=0; i<_tgI1e._tgI12.length; i+=1){_tgI1e._tgi12[_tgI1e._tgI12[i]].meta.expand= true; }_tgI1e._tgl1b(); } ; } ,init:function (){var _tgo14=this.setting,_tgi1f=this ; this._tgI17=window[_tgo14.ktvId]; this._tgI17.registerEvent("OnExpand",this._tgo1f()); this._tgI17.registerEvent("OnCollapse",this._tgO1e()); this._tgI17.registerEvent("OnDeepExpandAll",this._tgl1f()); this._tgI17.registerEvent("OnDeepCollapseAll",this._tgO1f()); KoolPHP._addEventHandler(window,"resize", function (event){_tgi1f._tgl1b(); } ); this._tgl1b(); }} ,_tgI1f:{} ,newTreeGrid:function (_tga){var _tgI1e=this.getTreeGrid(); if (!_tgI1e){_tgI1e=KoolPHP._newObject(KoolTreeGridJS._tgO12); _tgI1e._tglr(_tga); this._tgo1g(_tga,_tgI1e); }return _tgI1e; } ,_tgo1g:function (_tga,_tgI1e){ this._tgI1f[_tga]=_tgI1e; return this ; } ,getTreeGrid:function (_tga){return this._tgI1f[_tga]; }} ;
 <?php _tgl3::_tglg(); _tgl3::_tglz(); } if (!class_exists("\113oolT\162\145\145Grid",FALSE)) { class _tgl10 { private $_tgO10=array(); private function __construct() { } public static function _tgl11() { $_tgO11=new _tgl10(); return $_tgO11; } function _tgl12($_tgOy) { if (is_array($_tgOy)) { foreach ($_tgOy as $_tgO12 => $_tgl13) if (!empty($_tgl13)) { if (! isset ($this->_tgO10[$_tgO12])) $this->_tgO10[$_tgO12]=""; if (!strpos($this->_tgO10[$_tgO12],$_tgl13)) $this->_tgO10[$_tgO12].=$_tgl13.";"; } } return $this; } function _tgO13() { $_tgl14=""; foreach ($this->_tgO10 as $_tgO12 => $_tgl13) { $_tgl14.="\056".$_tgO12."\n\040\173 ".$_tgl13."\040\175\040\n"; } return '<style type="text/css">'.$_tgl14."\074/style>"; } } class _tgO14 { private $_tgl15; private $_tgOb; private function __construct() { } public static function _tgl11($_tgO15=NULL,$_tgl16=NULL) { $_tgO16=new _tgO14(); if ( isset ($_tgO15)) $_tgO16->_tgl15 =$_tgO15; if ( isset ($_tgl16)) $_tgO16->_tgOb =$_tgl16; return $_tgO16; } function _tgl17($_tgO17="'") { if ( isset ($this->_tgl15) && isset ($this->_tgOb)) return $this->_tgl15.'='.$_tgO17.$this->_tgOb.$_tgO17; else return ""; } function _tgl18() { if ( isset ($this->_tgl15)) return $this->_tgl15; else return ""; } function _tgO18() { if ( isset ($this->_tgOb)) return $this->_tgOb; else return ""; } } class _tgl19 { protected $_tgO19="<\173\164\141g} \173\160\162opert\151\145\163}>\173\143\157nten\164\175</\173\164\141g}>"; protected $_tgl1a; protected $_tgO1a=""; protected $_tgl1b; protected $_tgO1b=array(); protected $_tgl1c=array(); function __construct() { $this->_tgl1b =_tgl10::_tgl11(); } public static function _tgl11($_tgOy) { $_tgO1c=new _tgl19(); $_tgO1c->_tgl1d($_tgOy); return $_tgO1c; } function _tgO1d($_tgOy) { if (is_array($_tgOy)) $this->_tgl1b->_tgl12($_tgOy); return $this; } function _tgl1e() { return $this->_tgl1b->_tgO13(); } function _tgl1d($_tgOy) { $this->_tgl1a =$_tgOy; $this->_tgO19 =_tgl3::_tgO5("\173t\141\147\175",$_tgOy,$this->_tgO19); return $this; } function _tgO1e($_tgOy) { $_tgO16=_tgO14::_tgl11("c\157\154spa\156",$_tgOy); $this->_tgO1b["cs"]=$_tgO16; return $this; } function _tgl1f() { if ( isset ($this->_tgO1b["c\163"])) return $this->_tgO1b["cs"]->_tgO18(); else return 1; } function _tgO1f($_tgOy) { $_tgO16=_tgO14::_tgl11("rowspan",$_tgOy); $this->_tgO1b["\162s"]=$_tgO16; return $this; } function _tgl1g() { if ( isset ($this->_tgO1b["r\163"])) return $this->_tgO1b["rs"]->_tgO18(); else return 1; } function _tgO1g($_tgOy) { $_tgO16=_tgO14::_tgl11("align",$_tgOy); $this->_tgO1b["al"]=$_tgO16; return $this; } function _tgl1h($_tgOy) { $_tgO16=_tgO14::_tgl11("widt\150",$_tgOy); $this->_tgO1b["w"]=$_tgO16; return $this; } function _tgl12($_tgOy) { $_tgO16=_tgO14::_tgl11("\163\164yle",$_tgOy); $this->_tgO1b["\163t"]=$_tgO16; return $this; } function _tgO1h() { $_tgl1i=""; $_tgO1i=func_num_args(); $_tgl1j=func_get_args(); for ($_tgOk=0; $_tgOk<$_tgO1i; $_tgOk ++) $_tgl1i.=$_tgl1j[$_tgOk]."\040"; $_tgO16=_tgO14::_tgl11("c\154\141\163s",$_tgl1i); $this->_tgO1b["cl"]=$_tgO16; return $this; } function _tgO1j($_tgOy) { $_tgO16=_tgO14::_tgl11("id",$_tgOy); $this->_tgO1b["\151d"]=$_tgO16; return $this; } function _tgl1k($_tgOy) { $this->_tgO1a =$_tgOy; return $this; } function _tgO1k($_tgl1l,$_tgO16) { $_tgO1l=explode(" ",trim($_tgl1l)); foreach ($_tgO1l as $_tgl1i) { if ( isset ($_tgO16[$_tgl1i])) { foreach ($_tgO16[$_tgl1i] as $_tgl15 => $_tgOb) { $_tgl1m=_tgO14::_tgl11($_tgl15,$_tgOb); array_push($this->_tgO1b ,$_tgl1m); } } } return $this; } function _tgO1m($_tgOy) { if ($_tgOy instanceof _tgO14) array_push($this->_tgO1b ,$_tgOy); else if (is_array($_tgOy)) { foreach ($_tgOy as $_tgl15 => $_tgOb) { $_tgO16=_tgO14::_tgl11($_tgl15,$_tgOb); array_push($this->_tgO1b ,$_tgO16); } } return $this; } function _tglc($_tgOy) { $this->_tgO1b =$_tgOy; return $this; } function _tgl1n() { return $this->_tgO1b; } function _tgO1n($_tgO17='"') { $_tgl14=""; foreach ($this->_tgO1b as $_tgO16) if ( isset ($_tgO16)) { $_tgl14.=$_tgO16->_tgl17($_tgO17)." "; } return $_tgl14; } function _tgl1o($_tgOy,$_tgO1o=-1) { return $this->_tgl1p(array($_tgOy),$_tgO1o); } function _tgl1p($_tgOy,$_tgO1o=-1) { $_tgO1p=count($this->_tgl1c); if (($_tgO1o<0) || ($_tgO1o>$_tgO1p)) $_tgO1o=$_tgO1p; array_splice($this->_tgl1c ,$_tgO1o,0,array($_tgOy)); return $this; } function _tgl1q($_tgOy,$_tgO1o) { return $this->_tgO1q(array($_tgOy),$_tgO1o); } function _tgO1q($_tgOy,$_tgO1o) { if ($_tgO1o>-1) $this->_tgl1c[$_tgO1o]=$_tgOy; return $this; } function _tgl1r() { ksort($this->_tgl1c); } function _tgO1r() { $_tgOg=array(); foreach ($this->_tgl1c as $_tgl1s) foreach ($_tgl1s as $_tgO1s) if ( isset ($_tgO1s) && $_tgO1s->_tgl1t() != "") { array_push($_tgOg,$_tgO1s); } return $_tgOg; } function _tgl1t() { $_tgl14=$this->_tgO1a; foreach ($this->_tgl1c as $_tgl1s) foreach ($_tgl1s as $_tgO1s) if ( isset ($_tgO1s)) $_tgl14.=$_tgO1s->_tgO1t(); return $_tgl14; } function _tgO1t($_tgO17="\047") { $_tgl1u=$this->_tgl1t(); if (!empty($_tgl1u) || $this->_tgl1a == "\151nput") { $_tgl14=$this->_tgO19; $_tgl13=$this->_tgO1n($_tgO17); $_tgl14=_tgl3::_tgO5("\173\160roper\164\151es}",$_tgl13,$_tgl14); $_tgl14=_tgl3::_tgO5("\173\143ontent}",$_tgl1u,$_tgl14); return $_tgl14; } else return ""; } function _tgO1u($_tgl1v=array(),$_tgO1v=TRUE) { $_tgl14=$this->_tgl1w($_tgl1v,$this->_tgO1a ,$_tgO1v); foreach ($this->_tgl1c as $_tgl1s) foreach ($_tgl1s as $_tgO1s) if ( isset ($_tgO1s)) $_tgl14.=$_tgO1s->_tgO1u($_tgl1v,$_tgO1v); return $_tgl14; } function _tgO1w($_tgl1v,$_tgO1v=TRUE) { $_tgl14=$this->_tgl1w($_tgl1v,$this->_tgO1a ,$_tgO1v); foreach ($this->_tgl1c as $_tgl1s) foreach ($_tgl1s as $_tgO1s) if ( isset ($_tgO1s)) $_tgl14.=$_tgO1s->_tgl1x($_tgl1v,$_tgO1v); return $_tgl14; } function _tgl1x($_tgl1v,$_tgO1v=TRUE,$_tgO17="\047") { $_tgl1u=$this->_tgO1w($_tgl1v,$_tgO1v); if (!empty($_tgl1u)) { $_tgl14=$this->_tgO19; $_tgl13=$this->_tgO1n($_tgO17); $_tgl14=_tgl3::_tgO5("\173prop\145\162\164ies\175",$_tgl13,$_tgl14); $_tgl14=_tgl3::_tgO5("\173conte\156\164\175",$_tgl1u,$_tgl14); return $_tgl14; } else return ""; } function _tgl1w($_tgl1v,$_tgO1x,$_tgO1v=TRUE) { foreach ($_tgl1v as $_tgOv => $_tgl1y) { if ($_tgO1v) $_tgO1x=_tgl3::_tgO5($_tgOv,$_tgl1y,$_tgO1x); else $_tgO1x=_tgO1y($_tgOv,$_tgl1y,$_tgO1x); } return $_tgO1x; } } class _tgl1z { public static function _tgO1z() { $_tgO1c=_tgl19::_tgl11("\144iv"); return $_tgO1c; } public static function _tgl20() { $_tgO1c=_tgl19::_tgl11("s\160\141n"); return $_tgO1c; } public static function _tgO20() { $_tgO1c=_tgl19::_tgl11("i\156\160\165t"); return $_tgO1c; } public static function _tgl21($_tgO21,$_tgl16) { $_tgO1c=_tgl19::_tgl11("\151nput"); $_tgO1c->_tgO1m(array("id" => $_tgO21,"nam\145" => $_tgO21,"\164\171\160e" => "\150idden","autoco\155\160\154ete" => "o\146\146","valu\145" => $_tgl16,)); return $_tgO1c; } public static function _tgl22() { $_tgO1c=_tgl19::_tgl11("scrip\164"); $_tgO1c->_tgO1m(array("\164ype" => "\164\145\170t/jav\141\163\143ript",)); return $_tgO1c; } } class _tgO22 { var $id; var $text; var $image; var $_tgl23; var $expand=FALSE; var $subTreeUrl; var $visible=TRUE; var $showPlusMinus=TRUE; var $_tgO23; var $_tgl24; function __construct($_tgO21,$_tgl4="",$_tgO24=FALSE,$_tgl25="",$_tgO25="") { $this->id =$_tgO21; $this->text =$_tgl4; $this->image =$_tgl25; $this->expand =$_tgO24; $this->subTreeUrl =$_tgO25; $this->_tgl23 =array(); $this->_tgO23 =array(); } function addchild($_tgO1s) { $_tgO1s->_tgl24 =$this; array_push($this->_tgl23 ,$_tgO1s); } function adddata($_tgO15,$_tgl26) { $this->_tgO23[$_tgO15]=$_tgl26; } } class _tgO26 { var $_tgl0="1\056\060.0.0"; var $id; var $_tgl27; var $_tgO11; var $_tgO27; var $width=""; var $height=""; var $overflow=""; var $styleFolder; var $imageFolder; var $selectedIds; var $selectEnable=TRUE; var $selectDisableIds; var $multipleSelectEnable=FALSE; var $DragAndDropEnable=FALSE; var $dragDisableIds; var $dropDisableIds; var $EditNodeEnable=FALSE; var $editDisableIds; var $isSubTree=FALSE; var $singleExpand=FALSE; var $keepState="\156\157ne"; var $keepStateHours=030; var $showLines=FALSE; var $scriptFolder=""; function __construct($_tgO21) { $this->id =$_tgO21; $this->_tgl27 =new _tgO22("root"); $this->_tgO27 =array(); $this->_tgO27["r\157\157\164"]=$this->_tgl27; } function loadxml($_tgl28) { if (gettype($_tgl28) == "stri\156\147") { $_tgO1=new domdocument(); $_tgO1->loadxml($_tgl28); $_tgl28=$_tgO1->documentElement; } $id=$_tgl28->getattribute("id"); if ($id != "") $this->id =$id; $this->width =$_tgl28->getattribute("\167idth"); $this->height =$_tgl28->getattribute("hei\147\150\164"); $this->overflow =$_tgl28->getattribute("overflo\167"); $this->styleFolder =$_tgl28->getattribute("styl\145\106\157lder"); $this->imageFolder =$_tgl28->getattribute("i\155\141\147eFold\145\162"); $this->selectedIds =$_tgl28->getattribute("\163electe\144\111\144s"); $this->selectDisableIds =$_tgl28->getattribute("\163electDis\141\142\154eIds"); $this->dragDisableIds =$_tgl28->getattribute("d\162\141\147Disab\154\145\111ds"); $this->dropDisableIds =$_tgl28->getattribute("d\162\157\160Disab\154\145\111ds"); $this->editDisableIds =$_tgl28->getattribute("edit\104\151\163ableI\144\163"); $_tgO28=$_tgl29->getattribute("\163\143\162iptFo\154\144\145r"); if ($_tgO28 != "") $this->scriptFolder =$_tgO28; $_tgO29=$_tgl28->getattribute("se\154\145\143tEnab\154\145"); $this->selectEnable =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164\162\165e") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("m\165\154\164ipleSe\154\145\143tEn\141\142\154e"); $this->multipleSelectEnable =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164\162ue") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("\104\162agAn\144\104\162opEn\141\142le"); $this->DragAndDropEnable =($_tgO29 == "") ? FALSE: (($_tgO29 == "true") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("EditNode\105\156\141ble"); $this->EditNodeEnable =($_tgO29 == "") ? FALSE: (($_tgO29 == "tru\145") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("isSu\142\124\162ee"); $this->isSubTree =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164\162ue") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("showOn\105\170pand"); $this->showOnExpand =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164rue") ? TRUE: FALSE); $_tgO29=$_tgl28->getattribute("k\145\145\160State"); if ($_tgO29 != "") $this->keepState =$_tgO29; $_tgO29=$_tgl28->getattribute("\153\145\145pStat\145\110\157urs"); if ($_tgO29 != "") $this->keepStateHours =intval($_tgO29); $_tgO29=$_tgl28->getattribute("si\156\147\154eExpa\156\144"); $this->singleExpand =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164rue") ? TRUE: FALSE); foreach ($_tgl28->childNodes as $_tgl2a) { switch (strtolower($_tgl2a->nodeName)) { case "rootnode": $this->_tgl27->text =$_tgl2a->getattribute("text"); $this->_tgl27->image =$_tgl2a->getattribute("\151mage"); $this->_tgl27->subTreeUrl =$_tgl2a->getattribute("su\142\124\162eeUrl"); $_tgO29=$_tgl2a->getattribute("\145\170\160and"); $this->_tgl27->expand =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164rue") ? TRUE: FALSE); $_tgO29=$_tgl2a->getattribute("vi\163\151\142le"); $this->_tgl27->visible =($_tgO29 == "") ? TRUE: (($_tgO29 == "\164\162\165e") ? TRUE: FALSE); $_tgO29=$_tgl2a->getattribute("\163howPl\165\163\115inus"); $this->_tgl27->showPlusMinus =($_tgO29 == "") ? TRUE: (($_tgO29 == "true") ? TRUE: FALSE); $this->_tgO2a($this->_tgl27 ,$_tgl2a); break; case "\164emplate\163": break; } } } function _tgO2a($_tgl2b,$_tgO2b) { foreach ($_tgO2b->childNodes as $_tgl2c) { if ($_tgl2c->nodeName == "\156\157de") { $id=$_tgl2c->getattribute("id"); $_tgO2c=new _tgO22($id); $_tgO2c->text =$_tgl2c->getattribute("tex\164"); $_tgO2c->image =$_tgl2c->getattribute("image"); $_tgO2c->subTreeUrl =$_tgl2c->getattribute("\163ubTreeUr\154"); $_tgO29=$_tgl2c->getattribute("\145\170\160and"); $_tgO2c->expand =($_tgO29 == "") ? FALSE: (($_tgO29 == "\164rue") ? TRUE: FALSE); $this->_tgO2a($_tgO2c,$_tgl2c); $_tgl2b->addchild($_tgO2c); } } } function render() { $_tgl2d=""; if ($this->isSubTree) { $this->_tgO2d(); for ($_tgOk=0; $_tgOk<sizeof($this->_tgl27->_tgl23); $_tgOk ++) $_tgl2d.=$this->_tgl2e($this->_tgl27->_tgl23[$_tgOk]); } else { $_tgl2d="\n\074!--KoolT\162\145eView \166\145rsion\040".$this->_tgl0."\040- www\056\153oolph\160\056net \055\055>\n"; $_tgl2d.=$this->registercss(); $_tgl2d.=$this->rendertree(); $_tgO2e= isset ($_POST["__kool\141\152\141x"]) || isset ($_GET["\137\137koolajax"]); $_tgl2d.=($_tgO2e) ? "": $this->registerscript(); $_tgl2d.="<scr\151\160\164 type\075\047text/\152\141vascri\160\164'>"; $_tgl2d.=$this->startupscript(); $_tgl2d.="<\057\163\143ript>"; } return $_tgl2d; } function _tgl2f() { $_tgl2d=''; $_tgl2d.="\074scrip\164\040\164ype='\164\145xt/jav\141\163cript'\076"; $_tgl2d.=$this->startupscript(); $_tgl2d.="</scr\151\160\164>"; return $_tgl2d; } function add($_tgO2f,$_tgO21,$_tgl4="",$_tgO24=FALSE,$_tgl25="",$_tgO25="") { $_tgl2g=new _tgO22($_tgO21); $_tgl2g->text =$_tgl4; $_tgl2g->expand =$_tgO24; $_tgl2g->image =$_tgl25; $_tgl2g->subTreeUrl =$_tgO25; $this->_tgO27[$_tgO2f]->addchild($_tgl2g); $this->_tgO27[$_tgO21]=$_tgl2g; return $_tgl2g; } function getrootnode() { return $this->_tgl27; } function getnode($_tgO2g) { return $this->_tgO27[$_tgO2g]; } function _tgO2d() { $this->styleFolder =_tgl3::_tgO5("\134","\057",$this->styleFolder); $_tgl2h=trim($this->styleFolder ,"/"); $_tgO2h=strrpos($_tgl2h,"\057"); $this->_tgO11 =substr($_tgl2h,($_tgO2h ? $_tgO2h: -1)+1); } function registercss($_tgl2i=array()) { $this->_tgO2d(); if (!in_array($this->_tgO11 ,$_tgl2i)) array_push($_tgl2i,$this->_tgO11); $_tgO2i=''; foreach ($_tgl2i as $_tgl2j) $_tgO2i.="'".$_tgl2j."\047,"; $_tgO2i='['.trim($_tgO2i,',').']'; $_tgO2j="\074\163cript t\171\160e='tex\164\057javas\143\162\151pt'\076\n"."var \137\150\145ad =\040\144ocumen\164\056getEle\155\145ntsBy\124\141gNam\145\050'head\047\051[0];\n\040"."\166\141r style\163\075\173st\171\154eArra\171\175;\n "."\146\157r (var\040\151=0; i<\163\164yles.\154\145ngth;\040i+\075\061) \173\n\040"."\151\146 (docum\145\156\164.getE\154\145mentBy\111\144\050'__\173\163tyle}\113\124G')==\156\165\154l)\173\n\040"."var _\154\151\156k = d\157\143ument.\143\162eateEl\145\155ent('\154\151nk')\073\040_link\056\151d = '_\137\047+styl\145\163\133i]\053\040'KTG'\073\n\040"."\137link.r\145\154\075'sty\154\145\163heet\047\073 _lin\153\056href\075\047\173st\171\154\145path\175\057'+styl\145\163\133i]+'\057\047+sty\154\145s[i]+'\056\143ss';\n "."_hea\144\056\141ppen\144\103\150ild(\137\154\151nk);\n\040"."}}</\163\143\162ipt>"; $_tgl2k=_tgl3::_tgO5("\173styleArr\141\171\175",$_tgO2i,$_tgO2j); $_tgl2k=_tgl3::_tgO5("\173\163\164\171lepat\150\175",$this->_tgO2k(),$_tgl2k); return $_tgl2k; } function rendertree() { $this->_tgO2d(); $_tgl2l="\074input \164\171\160e='h\151\144\144en' \151\144='\173i\144\175.cli\145\156tStat\145\047 name=\047\173id}.cl\151\145ntStat\145\047 />"; $_tgls=_tgl3::_tgO5("\173\151\144}",$this->id ,_tgl3::_tglp()); $_tgls=_tgl3::_tgO5("\173s\164\171\154e}",$this->_tgO11 ,$_tgls); $_tgls=_tgl3::_tgO5("\173nopad\144\151ng}",(!$this->_tgl27->visible || !$this->_tgl27->showPlusMinus) ? "\153\164\166NoPa\144\144\151ng": "",$_tgls); $_tgls=_tgl3::_tgO5("\173\163ubnodes}",$this->_tgl2e($this->_tgl27),$_tgls); $_tgls=_tgl3::_tgO5("\173lines}",(($this->showLines) ? "ktvL\151\156\145s": ""),$_tgls); $_tgO2l=_tgl3::_tgO5("\173\151\144}",$this->id ,$_tgl2l); if (_tgl3::_tglr($_tgls)) { $_tgls=_tgl3::_tgO5("\173c\154\151\145ntsta\164\145\175",$_tgO2l,$_tgls); } $_tgls=_tgl3::_tgO5("\173w\151\144\164h}",(($this->width != "") ? "\167\151dth:".$this->width."\073": ""),$_tgls); $_tgls=_tgl3::_tgO5("\173\150eight}",(($this->height != "") ? "he\151\147\150t:".$this->height.";": ""),$_tgls); $_tgls=_tgl3::_tgO5("\173over\146\154\157w}",(($this->overflow != "") ? "\157verfl\157\167\072".$this->overflow.";": ""),$_tgls); $_tgls=_tgl3::_tgO5("\173\166ersio\156\175",$this->_tgl0 ,$_tgls); return $_tgls; } function _tgl2e($_tgl2b) { $_tgl2m="\074ul cl\141\163s='ktv\125\114' sty\154\145='dis\160\154ay:\173di\163\160lay}'\076\173subno\144\145\163}</u\154\076"; $_tgO2m="\074li id\075\047\173nod\145\151d}' cl\141\163\163='\173\143\154ass}\047\076\173no\144\145conten\164\175\173sub\156\157\144es}<\057\154i>"; $_tgl2n="\074\144\151v cla\163\163\075'\173\143\154ass}'>\173\160lusmi\156\165s}\173\151\155\141ge}\173\164\145xt}\173\156\157dedat\141\175\074/di\166\076"; $_tgO2n="<spa\156\040\143lass\075\047ktvPM \153\164\166\173p\154\165\163min\165\163}'> \074\057span>"; $_tgl2o="<im\147\040\163rc='\173\151\155age}'\040\143lass=\047\153\164vIm\141\147e' al\164\075''/>"; $_tgO2o="\074span \143\154\141ss='\153\164\166Text\047\076\173tex\164\175</sp\141\156>"; $_tgl2p="\074\151nput \151\144\075'\173n\157\144eid}_\144\141\164a' \164\171pe='h\151\144den' v\141\154\165e='\173\166\141lue}'\057\076"; $_tgO2p=$_tgO2m; $_tgl2q=$_tgl2n; $_tgO29=_tgl3::_tgO5("\173\164\145\170t}",$_tgl2b->text ,$_tgO2o); $_tgl2q=_tgl3::_tgO5("\173\164ext}",$_tgO29,$_tgl2q); $_tgO2q=""; if ($_tgl2b->image != "") { $_tgO29=_tgl3::_tgO5("\173\151mage\175",(($this->imageFolder != "") ? $this->imageFolder."\057": "").$_tgl2b->image ,$_tgl2o); $_tgl2q=_tgl3::_tgO5("\173imag\145\175",$_tgO29,$_tgl2q); } else { $_tgl2q=_tgl3::_tgO5("\173\151\155age}","",$_tgl2q); } if (sizeof($_tgl2b->_tgl23)>0) { $_tgO29=_tgl3::_tgO5("\173plu\163\155\151nus}",($_tgl2b->expand) ? "Minus": "Plus",$_tgO2n); $_tgl2q=_tgl3::_tgO5("\173p\154\165\163minus\175",$_tgO29,$_tgl2q); $_tgO2q=""; for ($_tgOk=0; $_tgOk<sizeof($_tgl2b->_tgl23); $_tgOk ++) { $_tgO2q.=$this->_tgl2e($_tgl2b->_tgl23[$_tgOk]); } $_tgO2q=_tgl3::_tgO5("\173subn\157\144\145s}",$_tgO2q,$_tgl2m); $_tgO2q=_tgl3::_tgO5("\173disp\154\141\171}",($_tgl2b->expand) ? "block": "\156one",$_tgO2q); } else { if ($_tgl2b->subTreeUrl != "") { $_tgO29=_tgl3::_tgO5("\173\160lusminus\175","Plus",$_tgO2n); $_tgl2q=_tgl3::_tgO5("\173\160\154usminu\163\175",$_tgO29,$_tgl2q); } else { $_tgl2q=_tgl3::_tgO5("\173p\154\165\163min\165\163\175","",$_tgl2q); } } if ($_tgl2b->subTreeUrl != "" || sizeof($_tgl2b->_tgO23)>0) { $_tgl2r=_tgl3::_tgO8($_tgl2b->subTreeUrl); $_tgO2r=array(); foreach ($_tgl2b->_tgO23 as $_tglb => $_tgOb) { $_tgO2r[$_tglb]=_tgl3::_tgO8($_tgOb); } $_tgO23=array("ur\154" => $_tgl2r,"\144\141ta" => $_tgO2r); $_tgl2s=_tgl3::_tgO5("\173n\157\144\145id}",(($_tgl2b === $this->_tgl27) ? $this->id."\056": "").$_tgl2b->id ,$_tgl2p); $_tgl2s=_tgl3::_tgO5("\173v\141\154\165e}",json_encode($_tgO23),$_tgl2s); $_tgl2q=_tgl3::_tgO5("\173nodeda\164\141\175",$_tgl2s,$_tgl2q); } else { $_tgl2q=_tgl3::_tgO5("\173noded\141\164\141}","",$_tgl2q); } $_tgO2s="\153tvLI"; if (( isset ($_tgl2b->_tgl24->_tgl23[0]) && $_tgl2b->_tgl24->_tgl23[0] === $_tgl2b) || $_tgl2b === $this->_tgl27) { $_tgO2s.="\040ktvFir\163\164"; } if (( isset ($_tgl2b->_tgl24->_tgl23) && isset ($_tgl2b->_tgl24->_tgl23[sizeof($_tgl2b->_tgl24->_tgl23)-1]) && $_tgl2b->_tgl24->_tgl23[sizeof($_tgl2b->_tgl24->_tgl23)-1] === $_tgl2b) || $_tgl2b === $this->_tgl27) { $_tgO2s.="\040\153tvLast"; } $_tgl2t=""; if ($_tgl2b === $this->_tgl27) { $_tgl2t="\153tvTop"; if (!$_tgl2b->visible) $_tgl2t.="\040\153tvInv"; if (!$_tgl2b->showPlusMinus) $_tgl2t.=" ktvNoPM"; } else { if ($_tgl2b->_tgl24->_tgl23[0] === $_tgl2b) { $_tgl2t="\153tvTop"; } if ($_tgl2b->_tgl24->_tgl23[sizeof($_tgl2b->_tgl24->_tgl23)-1] === $_tgl2b) { $_tgl2t="kt\166\102\157t"; } if ($_tgl2t == "") { $_tgl2t="kt\166\115\151d"; } } $_tgO2t="\133".str_replace("\054","][",$this->selectedIds)."\135"; if (strpos($_tgO2t,"\133".$_tgl2b->id."\135") !== FALSE) $_tgl2t.=" \153\164\166Sele\143\164\145d"; $_tgl2q=_tgl3::_tgO5("\173\143\154\141ss}",$_tgl2t,$_tgl2q); $_tgO2p=_tgl3::_tgO5("\173\156odeid}",(($_tgl2b === $this->_tgl27) ? $this->id."\056": "").$_tgl2b->id ,$_tgO2p); $_tgO2p=_tgl3::_tgO5("\173\143lass}",$_tgO2s,$_tgO2p); $_tgO2p=_tgl3::_tgO5("\173nodec\157\156\164\145nt}",$_tgl2q,$_tgO2p); $_tgO2p=_tgl3::_tgO5("\173\163\165bnodes\175",$_tgO2q,$_tgO2p); return $_tgO2p; } function registerscript() { $_tgO2j="\074\163\143ript \164\171\160e='\164\145xt/jav\141\163cript\047\076if(t\171\160eof _\154\151\142KTV=\075\047undefi\156\145\144')\173\144\157cume\156\164\056writ\145\050unesc\141\160\145(\042\045\063Cscrip\164\040type=\047\164\145xt/j\141\166ascrip\164\047 src\075\047\173sr\143\175\047%3E\040\0453C/sc\162\151\160t%3E\042\051);_li\142\113TV=1;\175\074/scri\160\164\076"; $_tgl2k=_tgl3::_tgO5("\173src}",$this->_tgl2u()."?".md5("js"),$_tgO2j); return $_tgl2k; } function startupscript() { $_tgO2j="\166\141r \173id\175\073 funct\151\157n \173i\144\175\137init\050\051\173 \173\151d} = \156\145\167 Koo\154\124\162eeVi\145\167(\042\173\151\144}\042,\173\163ingleE\170\160\141nd},\173\163electE\156\141ble},\173\155\165ltip\154\145\123elec\164\105nable}\054\173Drag\101\156dDropE\156\141ble},\173\105\144itNo\144\145Enable\175\054'\173ke\145\160State\175\047,\173ke\145\160\123tat\145\110\157urs}\054\042\173cs\175\042);}"; $_tgO2j.="\151\146\040(typ\145\157\146(Koo\154\124reeVie\167\051=='fu\156\143tion\047\051\173\173\151\144}_init\050\051;}"; $_tgO2j.="else\173i\146\050\164ypeo\146\050__KTVI\156\151\164s)=\075\047unde\146\151\156ed'\051\173__KTVI\156\151\164s=ne\167\040Array(\051\073} __\113\124\126Init\163\056push(\173\151\144}_in\151\164\051;\173\162\145\147iste\162\137script\175\175"; $_tgO2u="if(ty\160\145\157f(_li\142\113\124V)==\047\165ndefin\145\144')\173v\141\162 _he\141\144 = doc\165\155\145nt.g\145\164\105leme\156\164sByTag\116\141\155e('h\145\141\144')[0\135\073var\040\137scrip\164\040= \144\157\143ument\056\143reat\145\105lemen\164\050'sc\162\151pt')\073\040_scr\151\160t.typ\145\075'tex\164\057java\163\143\162\151pt'; \137\163cript\056\163rc='\173\163\162c}'; \137\150ead.a\160\160\145ndC\150\151\154d(_s\143\162ipt);\137\154ibKTV\075\061;}"; $_tgl2v=_tgl3::_tgO5("\173\163rc}",$this->_tgl2u()."?".md5("js"),$_tgO2u); $_tgO2v="\173'sele\143\164\145dIds'\072\133\173sel\145\143tedIds\175\135,'se\154\145ctDis\141\142leIds'\072\133\173sele\143\164Disabl\145\111ds}],\047\144\162agDi\163\141bleIds\047\072[\173dr\141\147\104isab\154\145Ids}],\047\144ropDi\163\141\142leId\163\047:[\173d\162\157pDisa\142\154eIds}\135\054'editD\151\163ableI\144\163\047:[\173\145\144itDis\141\142\154eId\163\175\135}"; $_tgl2d=_tgl3::_tgO5("\173\151\144\175",$this->id ,$_tgO2j); $_tgO2t=($this->selectedIds != "") ? "'"._tgl3::_tgO5("\054","','",$this->selectedIds)."\047": ""; $_tgO2l=_tgl3::_tgO5("\173selecte\144\111\144s}",$_tgO2t,$_tgO2v); $_tgO2t=($this->selectDisableIds != "") ? "\047"._tgl3::_tgO5(",","','",$this->selectDisableIds)."\047": ""; $_tgO2l=_tgl3::_tgO5("\173selectD\151\163ableI\144\163}",$_tgO2t,$_tgO2l); $_tgO2t=($this->dragDisableIds != "") ? "'"._tgl3::_tgO5("\054","\047,'",$this->dragDisableIds)."\047": ""; $_tgO2l=_tgl3::_tgO5("\173dragD\151\163ableId\163\175",$_tgO2t,$_tgO2l); $_tgO2t=($this->dropDisableIds != "") ? "'"._tgl3::_tgO5(",","','",$this->dropDisableIds)."\047": ""; $_tgO2l=_tgl3::_tgO5("\173drop\104\151\163able\111\144s}",$_tgO2t,$_tgO2l); $_tgO2t=($this->editDisableIds != "") ? "\047"._tgl3::_tgO5("\054","','",$this->editDisableIds)."'": ""; $_tgO2l=_tgl3::_tgO5("\173editDisa\142\154eIds}",$_tgO2t,$_tgO2l); $_tgl2d=_tgl3::_tgO5("\173\163ingleEx\160\141\156d}",($this->singleExpand) ? "\061": "0",$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173selectE\156\141\142le}",($this->selectEnable) ? "1": "0",$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173\155ultipleS\145\154ectEnab\154\145}",($this->multipleSelectEnable) ? "1": "0",$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173DragAnd\104\162\157pEnab\154\145}",($this->DragAndDropEnable) ? "1": "\060",$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173EditNo\144\145\105nable\175",($this->EditNodeEnable) ? "\061": "\060",$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173kee\160\123\164ate}",$this->keepState ,$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173kee\160\123\164ateHo\165\162s}",$this->keepStateHours ,$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173\143s}",$_tgO2l,$_tgl2d); $_tgl2d=_tgl3::_tgO5("\173regis\164\145\162_scri\160\164}",$_tgl2v,$_tgl2d); return $_tgl2d; } function _tgl2u() { if ($this->scriptFolder == "") { $_tgO6=_tgl3::_tgO4(); $_tgl2w=substr(_tgl3::_tgO5("\134","\057",__FILE__),strlen($_tgO6)); return $_tgl2w; } else { $_tgl2w=_tgl3::_tgO5("\134","/",__FILE__); $_tgl2w=$this->scriptFolder.substr($_tgl2w,strrpos($_tgl2w,"\057")); return $_tgl2w; } } function _tgO2k() { $_tgO2w=$this->_tgl2u(); $_tgl2x=_tgl3::_tgO5(strrchr($_tgO2w,"\057"),"",$_tgO2w)."\057\163tyles"; return $_tgl2x; } } class _tgO2x { public $_tgl2y; public $_tgO2y; public $_tgl2z; public $text; public $expand; public $_tgO2z; public $width=1; public $_tgl30; public $_tgO30; public $_tgl31=array(); public $_tgO31=array(); public static $_tgl32=array(0 => "\164\147\162Row",1 => "\164\147rAltRo\167"); function addchild($_tgO32) { $_tgO32->_tgl2y =$this; $this->_tgO2y[$_tgO32->_tgl2z ]=$_tgO32; $_tgl33=$_tgO32->width; $_tgO1s=$_tgO32; $_tgO33=$this; while ($_tgO33 != NULL) { $_tgO33->width += $_tgl33; $_tgO1s=$_tgO33; $_tgO33=$_tgO33->_tgl2y; } } function _tgl34() { $_tgO34=1; if ( isset ($this->_tgO2y)) { foreach ($this->_tgO2y as $_tgl35) { if ($_tgl35->expand) $_tgO34 += $_tgl35->_tgl34(); else $_tgO34 ++; } } return $_tgO34; } function _tgO35() { for ($_tgOk=1; $_tgOk<$this->_tgl36; $_tgOk ++) echo "*\052"; echo $this->_tgl2z."<br>"; if ($this->expand) if ( isset ($this->_tgO2y)) foreach ($this->_tgO2y as $_tgl35) $_tgl35->_tgO35(); } function _tgO36() { return $this->_tgO2z; } function _tgl37() { $_tgO2z=""; if ($this->_tgl2z != "r\157\157\164") $_tgO2z=$this->_tgO2z; if ( isset ($this->_tgO2y)) foreach ($this->_tgO2y as $_tgl35) $_tgO2z.=$_tgl35->_tgl37(); return $_tgO2z; } public function _tgO37() { $_tgOg=array('id' => $this->_tgl2z ,'row' => $this->_tgl31 ,'meta' => $this->_tgO31 ,'parent' => isset ($this->_tgl2y->_tgl2z) ? $this->_tgl2y->_tgl2z : NULL,'children' => array(),); if ( isset ($this->_tgO2y)) foreach ($this->_tgO2y as $_tgl35) array_push($_tgOg['children'],$_tgl35->_tgO37()); return $_tgOg; } function _tgl38($_tgO38=0,$_tgl39=1) { $this->_tgl30 =$_tgO38; $this->_tgO30 =$_tgl39; if ( isset ($this->_tgO2y)) foreach ($this->_tgO2y as $_tgl35) $_tgO38=$_tgl35->_tgl38($_tgO38+1,$_tgl39+1); return $_tgO38 ++; } } class treegriddatasource { private $_tgO39; private $_tgl3a; private $_tgO3a=array(); public static function _tgl11($_tgOd) { $_tgl3b=new treegriddatasource(); $_tgl3b->addsetting($_tgOd); $_tglf=array('databaseConnection' => 'setConnection','selectCommand' => 'setSelectCommand'); _tgl3::_tgOe($_tgl3b,$_tglf,$_tgOd); return $_tgl3b; } public function setconnection($_tgO1a) { $this->_tgO39 =$_tgO1a; } public function setselectcommand($_tgO3b) { $this->_tgl3a =$_tgO3b; } public function set($_tgl3c) { $this->_tgO3a =_tgl3::_tgO9($this->_tgO3a ,$_tgl3c); } public function addsetting($_tgl3c) { $this->_tgO3a =_tgl3::_tgO9($this->_tgO3a ,$_tgl3c); } public function _tgO3c() { $_tgl3d=array(); $_tgO3d=mysql_query($this->_tgl3a ,$this->_tgO39); while ($_tgl3e=mysql_fetch_assoc($_tgO3d)) array_push($_tgl3d,$_tgl3e); return $_tgl3d; } } class kooltreegrid { public $_tgl0="\061\0560.0.0"; public $_tgl2z; public $_tgO3e; public $_tgl3f; public $_tgO3f; public $_tgl3g; public $_tgO3g; public $_tgl3h; public $_tgO3h; public $_tgl3i; public $_tgO32; private $_tgO3a=array('id' => 'KoolTreeGrid1','divId' => 'div_KoolTreeGrid1','ktvId' => 'KoolTreeGrid1_ktv','width' => '600px','style' => 'default','styles' => array('default','office2010blue','outlook','lightsky','sunset'),'columns' => array(),); public static function newtreegrid($_tgOd) { $_tgO3i=new kooltreegrid(); $_tgO3i->set($_tgOd); return $_tgO3i; } public static function csvtoarray($_tgl3j,$_tgO3j=',',$_tgl3k=03720) { $_tgO3k=fopen($_tgl3j,'r'); if ($_tgO3k !== FALSE) { $_tgl3l=NULL; $_tgO23=array(); while (($_tgl31=fgetcsv($_tgO3k,$_tgl3k,$_tgO3j)) !== FALSE) { if ($_tgl3l == NULL || count($_tgl31) == count($_tgl3l)) { foreach ($_tgl31 as &$_tgO3l) { $_tgO3l=trim($_tgO3l); } if ($_tgl3l == NULL) $_tgl3l=$_tgl31; else array_push($_tgO23,array_combine($_tgl3l,$_tgl31)); } } fclose($_tgO3k); return $_tgO23; } return FALSE; } function process() { $_tglf=array('id' => 'setId','dataSource' => 'setDataSource','columns' => 'setColumns','TreeArray' => 'setTreeArray','ArrayData' => 'setArrayData','parameterValues' => 'setParameterValues'); _tgl3::_tgOe($this,$_tglf,$this->_tgO3a); $_tgl3m='div_'.$this->_tgl2z; $this->_tgO3a['divId']=$_tgl3m; $_tgO3m=$this->_tgl2z.'_ktv'; $this->_tgO3a['ktvId']=$_tgO3m; $_tgl3n=new _tgO26($_tgO3m); if (! isset ($this->_tgO3a['style'])) $this->_tgO3a['style']='default'; $_tgl3n->styleFolder =$this->_tgO3a['style']; $_tgl3n->showLines =TRUE; $_tgO3n=$_tgl3n->getrootnode(); $_tgl3o=new _tgO2x(); $_tgl3o->_tgl2z ="root"; $_tgl3o->_tgl2y =NULL; $_tgl3o->expand =TRUE; $_tgO3o=array(); $_tgO3o["root"]=$_tgl3o; $this->_tgl3i =$_tgl3n; $this->_tgO32 =$_tgl3o; $_tgl3p="\074span \151\144='\173i\144\175' styl\145\075'disp\154\141\171:i\156\154ine-b\154\157ck'>\173\143\157ntent}\074\057span>"; $_tgO3p=$this->_tgl3q(); if ( isset ($this->_tgl3f)) { $_tgl3o=$this->_tgO3q($_tgl3o,$this->_tgl3f ,$_tgO3p); } else { $_tgl3g= isset ($this->_tgO3a['idField']) ? trim($this->_tgO3a['idField']): ""; $_tgO3g= isset ($this->_tgO3a['parentField']) ? trim($this->_tgO3a['parentField']): ""; $_tgl3r= isset ($this->_tgO3a['metaField']) ? trim($this->_tgO3a['metaField']): ""; $_tgO3r=array(); $_tgO3r= isset ($this->_tgO3f) ? $this->_tgO3f : $this->_tgO3e->_tgO3c(); foreach ($_tgO3r as $_tgl31) { if (empty($_tgl31[$_tgO3g])) { $_tgl3s=$_tgl3o; $_tgO3s=str_replace("\173\151\144\175",$_tgO3m.".root\137\164\145xt",$_tgl3p); $_tgO3s=str_replace("\173\143\157ntent}",$_tgl31[$_tgO3p[0]['field']],$_tgO3s); $_tgO3n->_tgl2z =$_tgl31[$_tgl3g]; $_tgO3n->text =$_tgO3s; $_tgO3o[$_tgO3n->_tgl2z ]=$_tgl3s; $_tgl3t=array(); foreach ($_tgO3p as $_tgO3t) { $_tgl3u=$_tgO3t['field']; if (trim($_tgl31[$_tgl3u]) == '') $_tgl3t[$_tgl3u]=" "; else $_tgl3t[$_tgl3u]=$_tgl31[$_tgl3u]; if (trim($_tgl3t[$_tgl3u]) == '') { $_tgl3t[$_tgl3u]=str_replace(' ','&nbsp;',$_tgl3t[$_tgl3u]); $_tgl3t[$_tgl3u]=html_entity_decode($_tgl3t[$_tgl3u]); } } $_tgl3s->_tgl31 =$_tgl3t; if (!empty($_tgl3r)) { $_tgO3u= isset ($_tgl31[$_tgl3r]) ? $_tgl31[$_tgl3r]: ""; $_tgl3s->_tgO31 =$_tgO3u; if (empty($_tgl3s->_tgO31)) $_tgl3s->_tgO31 =array(); } if (! isset ($_tgl3s->_tgO31['expand'])) $_tgl3s->_tgO31['expand']=TRUE; $_tgl3s->expand =$_tgl3s->_tgO31['expand']; $_tgO3n->expand =$_tgl3s->expand; } else { if ( isset ($_tgO3o[$_tgl31[$_tgl3g]])) { $_tgl3s=$_tgO3o[$_tgl31[$_tgl3g]]; } else { $_tgl3s=new _tgO2x(); $_tgl3s->_tgl2z =$_tgl31[$_tgl3g]; $_tgO3o[$_tgl31[$_tgl3g]]=$_tgl3s; } $_tgl3s->text =$_tgl31[$_tgO3p[0]['field']]; $_tgl3t=array(); foreach ($_tgO3p as $_tgO3t) { $_tgl3u=$_tgO3t['field']; if (trim($_tgl31[$_tgl3u]) == '') $_tgl3t[$_tgl3u]="\040"; else $_tgl3t[$_tgl3u]=$_tgl31[$_tgl3u]; if (trim($_tgl3t[$_tgl3u]) == '') { $_tgl3t[$_tgl3u]=str_replace(' ','&nbsp;',$_tgl3t[$_tgl3u]); $_tgl3t[$_tgl3u]=html_entity_decode($_tgl3t[$_tgl3u]); } } $_tgl3s->_tgl31 =$_tgl3t; if (!empty($_tgl3r)) { $_tgO3u= isset ($_tgl31[$_tgl3r]) ? $_tgl31[$_tgl3r]: ""; $_tgl3s->_tgO31 =$_tgO3u; if (empty($_tgl3s->_tgO31)) $_tgl3s->_tgO31 =array(); } if (! isset ($_tgl3s->_tgO31['expand'])) $_tgl3s->_tgO31['expand']=TRUE; $_tgl3s->expand =$_tgl3s->_tgO31['expand']; if ( isset ($_tgO3o[$_tgl31[$_tgO3g]])) { $parentNode=$_tgO3o[$_tgl31[$_tgO3g]]; } else { $parentNode=new _tgO2x(); $parentNode->_tgl2z =$_tgl31[$_tgO3g]; $_tgO3o[$_tgl31[$_tgO3g]]=$parentNode; } if (! isset ($parentNode->_tgO2y[$_tgl3s->_tgl2z ])) $parentNode->addchild($_tgl3s); } } } $_tgl3o->_tgl38(); $this->_tgl3v($_tgl3n,$_tgl3o); $keepState=$this->_tgO3v('keepSate',FALSE); if ($keepState === TRUE) $_tgl3n->keepState ="cros\163\160\141ge"; $_tgl3n->selectEnable =FALSE; } function _tgO3v($_tgO3b,$_tgl3w=NULL) { if ( isset ($this->_tgO3a[$_tgO3b])) return $this->_tgO3a[$_tgO3b]; else return $_tgl3w; } function _tgO3q($_tgO3w,$_tgl3x,$_tgO3p) { $_tgl31=$_tgl3x['row']; if (! isset ($_tgO3w->_tgl2y)) { $_tgl3p="<\163\160an id='\173\151d}' s\164\171le='\144\151splay\072\151nl\151\156e-bl\157\143k'>\173\143\157ntent\175\074/span\076"; $_tgO3s=str_replace("\173id}",$this->_tgO3a['ktvId']."\056\162oot_text",$_tgl3p); $_tgO3s=str_replace("\173conten\164\175",$_tgl31[$_tgO3p[0]['field']],$_tgO3s); $_tgO3n=$this->_tgl3i->getrootnode(); $_tgO3n->text =$_tgO3s; $_tgO3n->expand = isset ($_tgl3x['meta']['expand']) ? $_tgl3x['meta']['expand']: TRUE; $_tgl3t=array(); foreach ($_tgO3p as $_tgO3t) { $_tgl3u=$_tgO3t['field']; if (empty($_tgl31[$_tgl3u])) $_tgl3t[$_tgl3u]="\040"; else $_tgl3t[$_tgl3u]=$_tgl31[$_tgl3u]; if (trim($_tgl3t[$_tgl3u]) == '') { $_tgl3t[$_tgl3u]=str_replace(' ','&nbsp;',$_tgl3t[$_tgl3u]); $_tgl3t[$_tgl3u]=html_entity_decode($_tgl3t[$_tgl3u]); } } $_tgO3w->_tgl31 =$_tgl3t; $_tgO3w->_tgO31['expand']=$_tgO3w->expand; } else { $_tgO3w->_tgl2z =$_tgO3w->_tgl2y->_tgl2z.'_'.$_tgl31[$_tgO3p[0]['field']]; $_tgO3w->expand = isset ($_tgl3x['meta']['expand']) ? $_tgl3x['meta']['expand']: TRUE; $_tgO3w->text =$_tgl31[$_tgO3p[0]['field']]; $_tgl3t=array(); foreach ($_tgO3p as $_tgO3t) { $_tgl3u=$_tgO3t['field']; if (empty($_tgl31[$_tgl3u])) $_tgl3t[$_tgl3u]="\040"; else $_tgl3t[$_tgl3u]=$_tgl31[$_tgl3u]; if (trim($_tgl3t[$_tgl3u]) == '') { $_tgl3t[$_tgl3u]=str_replace(' ','&nbsp;',$_tgl3t[$_tgl3u]); $_tgl3t[$_tgl3u]=html_entity_decode($_tgl3t[$_tgl3u]); } } $_tgO3w->_tgl31 =$_tgl3t; $_tgO3w->_tgO31['expand']=$_tgO3w->expand; } $_tgO3x=!empty($_tgl3x['meta']) ? $_tgl3x['meta']: array(); $_tgO3w->_tgO31 =_tgl3::_tgO9($_tgO3w->_tgO31 ,$_tgO3x); if ( isset ($_tgl3x['children'])) { foreach ($_tgl3x['children'] as $_tgl3y) { $_tgO3y=new _tgO2x(); $_tgO3y->_tgl2y =$_tgO3w; $_tgO3y=$this->_tgO3q($_tgO3y,$_tgl3y,$_tgO3p); $_tgO3w->addchild($_tgO3y); } } return $_tgO3w; } function _tgl3v($_tgl3n,$_tgl3s) { $_tgl3p="\074span \151\144='\173i\144\175' leve\154\075'\173le\166\145\154}'\040\163tyle\075\047displ\141\171\072inli\156\145\055blo\143\153'>\173c\157\156tent}<\057\163pan>"; if ( isset ($_tgl3s->_tgO2y)) foreach ($_tgl3s->_tgO2y as $_tgl3z) { $_tgO3s=str_replace("\173id}",$this->_tgl2z."\137".$_tgl3z->_tgl2z."_text",$_tgl3p); $_tgO3s=str_replace("\173\154evel}",$_tgl3z->_tgO30 ,$_tgO3s); $_tgO3s=str_replace("\173conte\156\164}",$_tgl3z->text ,$_tgO3s); $_tgl3n->add($_tgl3s->_tgl2z ,$_tgl3z->_tgl2z ,$_tgO3s,$_tgl3z->expand); $this->_tgl3v($_tgl3n,$_tgl3z); } } public function set($_tgl3c) { $this->_tgO3a =_tgl3::_tgO9($this->_tgO3a ,$_tgl3c); return $this; } public function addsetting($_tgl3c) { $this->_tgO3a =_tgl3::_tgO9($this->_tgO3a ,$_tgl3c); return $this; } public function _tgO3z() { $_tgl40=array(); $_tgO40=array('id','divId','ktvId','style','styles','width','columns','rootIndent','treeIndent',); foreach ($this->_tgO3a as $_tgl41 => $_tgO41) if (in_array($_tgl41,$_tgO40)) $_tgl40[$_tgl41]=$_tgO41; $_tgl40['stylePath']=$this->_tgl3i->_tgO2k(); return $_tgl40; } function _tgl42() { return $this->_tgO3a; } public function setid($_tgO21) { $this->_tgl2z =$_tgO21; } public function _tgO42() { return $this->_tgl2z; } public function setdatasource($_tgOd) { $this->_tgO3e =treegriddatasource::_tgl11($_tgOd); return $this; } public function setarraydata($_tgOg) { $this->_tgO3f =$_tgOg; return $this; } public function settreearray($_tgOg) { $this->_tgl3f =$_tgOg; return $this; } public function setcolumns($_tgO3p) { foreach ($_tgO3p as &$_tgO3t) { if (! isset ($_tgO3t['visible'])) $_tgO3t['visible']=TRUE; } $this->_tgO3a['columns']=$_tgO3p; return $this; } public function _tgl3q() { $_tgO3p=$this->_tgO3a['columns']; return $_tgO3p; } public function setparametervalues() { } private function _tgl43() { if ( isset ($_POST[$this->_tgO42()."_views\164\141\164e"])) { $_tgO3b=$_POST[$this->_tgO42()."_views\164\141\164e"]; $this->_tgO3h =json_decode($_tgO3b,TRUE); } } private function _tgO43() { $_tgO21=$this->_tgO42()."\137\166iewsta\164\145"; $_tgl16=json_encode($this->_tgO3h); $_tgl44=_tgl1z::_tgl21($_tgO21,$_tgl16); return $_tgl44->_tgO1t(); } public function _tgO44() { $_tgl45=str_replace("\134","",$this->_tgl3i->rendertree()); $_tgO45=$this->_tgO32->_tgO37(); $_tgO45=str_replace('"','\\"',$_tgO45); $_tgO23=array('setting' => $this->_tgO3z(),'treeViewHtml' => $_tgl45,'tree' => $_tgO45,); return $_tgO23; } public function _tgl46() { $_tgO21=$this->_tgO42()."_\144\141ta"; $_tgl16=json_encode($this->_tgO44(),JSON_HEX_TAG|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_HEX_AMP|JSON_UNESCAPED_UNICODE); $_tgl44=_tgl1z::_tgl21($_tgO21,$_tgl16); return $_tgl44->_tgO1t(); } public function render() { $_tgO3b='<div id="{id}" class="{class}KTG"></div>'; $_tgO3b=str_replace("\173id}",$this->_tgO3a['divId'],$_tgO3b); $_tgO3b=str_replace("\173\143\154\141ss}",$this->_tgO3a['style'],$_tgO3b); $_tgO3b.=$this->_tgl3i->registercss($this->_tgO3a['styles']); $_tgO3b.=$this->_tgl46(); $_tgO3b.=$this->_tgO43(); $_tgO3b.=$this->_tgO46(); $_tgO3b.=$this->_tgl47(); $_tgO3b.=$this->_tgl3i->_tgl2f(); $_tgO3b.=$this->_tgO47(); echo $_tgO3b; } private function _tgO46() { $_tgO2j="<sc\162\151\160t ty\160\145\075't\145\170\164/jav\141\163cript\047\076if \050\164ypeof\050\113\157olTr\145\145GridJS\051\075='un\144\145fined\047\051\173doc\165\155ent.wr\151\164e(une\163\143\141pe(\042\045\063Csc\162\151\160t ty\160\145\075'te\170\164\057ja\166\141scrip\164\047 src=\047\173\163rc}\047\0453E %3\103\057scrip\164\045\063E\042\051\051;}</\163\143ript>\n"; $_tgl2k=_tgl3::_tgO5("\173\163\162c}",$this->_tgl48()."\077".md5("\152\163"),$_tgO2j); return $_tgl2k; } private function _tgl47() { $_tgO2j="\166ar Koo\154\124\162eeGr\151\144_\173id\175\040= Koo\154\124reeG\162\151dJS.n\145\167TreeG\162\151\144('\173\151\144\175'); \113\157olTre\145\107rid_\173\151\144}.ren\144\145\162();"; $_tgl2k=_tgl3::_tgO5("\173\151\144}",$this->_tgO42(),$_tgO2j); $_tgl1a=_tgl1z::_tgl22()->_tgl1k($_tgl2k); return $_tgl1a->_tgO1t(); } private function _tgO47() { $_tgO2j="\113oolTr\145\145\107rid\112\123.getT\162\145eGrid\050\047\173i\144\175').\151\156it();"; $_tgl2k=_tgl3::_tgO5("\173id}",$this->_tgO42(),$_tgO2j); $_tgl1a=_tgl1z::_tgl22()->_tgl1k($_tgl2k); return $_tgl1a->_tgO1t(); } private function _tgl48() { { $_tgO6=_tgl3::_tgO4(); $_tgl2w=substr(_tgl3::_tgO5("\134","/",__FILE__),strlen($_tgO6)); return $_tgl2w; } } private function _tgO48() { $_tgO2w=$this->_tgl48(); $_tgl2x=_tgl3::_tgO5(strrchr($_tgO2w,"\057"),"",$_tgO2w); return $_tgl2x; } } }?>